"use strict";(self.webpackChunkQuestionnaire=self.webpackChunkQuestionnaire||[]).push([[179],{367:(Ja,hi,qt)=>{qt.d(hi,{Z:()=>Se});var Nt,wt,_e=qt(655),I=qt(492),Ke=qt(461),qe=qt(3),lo=((Nt={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Nt["bad-app-name"]="Illegal App name: '{$appName}",Nt["duplicate-app"]="Firebase App named '{$appName}' already exists",Nt["app-deleted"]="Firebase App named '{$appName}' already deleted",Nt["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Nt["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Nt),Or=new I.LL("app","Firebase",lo),Wi="@firebase/app",ir="[DEFAULT]",Xe=((wt={})[Wi]="fire-core",wt["@firebase/analytics"]="fire-analytics",wt["@firebase/app-check"]="fire-app-check",wt["@firebase/auth"]="fire-auth",wt["@firebase/database"]="fire-rtdb",wt["@firebase/functions"]="fire-fn",wt["@firebase/installations"]="fire-iid",wt["@firebase/messaging"]="fire-fcm",wt["@firebase/performance"]="fire-perf",wt["@firebase/remote-config"]="fire-rc",wt["@firebase/storage"]="fire-gcs",wt["@firebase/firestore"]="fire-fst",wt["fire-js"]="fire-js",wt["firebase-wrapper"]="fire-js-all",wt),Jt=new qe.Yd("@firebase/app"),Ki=function(){function ye(Ne,ht,Oe){var Ue=this;this.firebase_=Oe,this.isDeleted_=!1,this.name_=ht.name,this.automaticDataCollectionEnabled_=ht.automaticDataCollectionEnabled||!1,this.options_=(0,I.p$)(Ne),this.container=new Ke.H0(ht.name),this._addComponent(new Ke.wA("app",function(){return Ue},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(Sn){return Ue._addComponent(Sn)})}return Object.defineProperty(ye.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(Ne){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=Ne},enumerable:!1,configurable:!0}),Object.defineProperty(ye.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(ye.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),ye.prototype.delete=function(){var Ne=this;return new Promise(function(ht){Ne.checkDestroyed_(),ht()}).then(function(){return Ne.firebase_.INTERNAL.removeApp(Ne.name_),Promise.all(Ne.container.getProviders().map(function(ht){return ht.delete()}))}).then(function(){Ne.isDeleted_=!0})},ye.prototype._getService=function(Ne,ht){var Oe;void 0===ht&&(ht=ir),this.checkDestroyed_();var Ue=this.container.getProvider(Ne);return!Ue.isInitialized()&&"EXPLICIT"===(null===(Oe=Ue.getComponent())||void 0===Oe?void 0:Oe.instantiationMode)&&Ue.initialize(),Ue.getImmediate({identifier:ht})},ye.prototype._removeServiceInstance=function(Ne,ht){void 0===ht&&(ht=ir),this.container.getProvider(Ne).clearInstance(ht)},ye.prototype._addComponent=function(Ne){try{this.container.addComponent(Ne)}catch(ht){Jt.debug("Component "+Ne.name+" failed to register with FirebaseApp "+this.name,ht)}},ye.prototype._addOrOverwriteComponent=function(Ne){this.container.addOrOverwriteComponent(Ne)},ye.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},ye.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Or.create("app-deleted",{appName:this.name_})},ye}();Ki.prototype.name&&Ki.prototype.options||Ki.prototype.delete||console.log("dc");var qr=function Q(){var ye=function xo(ye){var Ne={},ht=new Map,Oe={__esModule:!0,initializeApp:function je(Gt,en){void 0===en&&(en={}),("object"!=typeof en||null===en)&&(en={name:en});var Rn=en;void 0===Rn.name&&(Rn.name=ir);var Fn=Rn.name;if("string"!=typeof Fn||!Fn)throw Or.create("bad-app-name",{appName:String(Fn)});if((0,I.r3)(Ne,Fn))throw Or.create("duplicate-app",{appName:Fn});var qn=new ye(Gt,Rn,Oe);return Ne[Fn]=qn,qn},app:Sn,registerVersion:function Lt(Gt,en,fi){var Rn,Fn=null!==(Rn=Xe[Gt])&&void 0!==Rn?Rn:Gt;fi&&(Fn+="-"+fi);var qn=Fn.match(/\s|\//),pn=en.match(/\s|\//);if(qn||pn){var Gn=['Unable to register library "'+Fn+'" with version "'+en+'":'];return qn&&Gn.push('library name "'+Fn+'" contains illegal characters (whitespace or "/")'),qn&&pn&&Gn.push("and"),pn&&Gn.push('version name "'+en+'" contains illegal characters (whitespace or "/")'),void Jt.warn(Gn.join(" "))}Nr(new Ke.wA(Fn+"-version",function(){return{library:Fn,version:en}},"VERSION"))},setLogLevel:qe.Ub,onLog:function xn(Gt,en){if(null!==Gt&&"function"!=typeof Gt)throw Or.create("invalid-log-argument");(0,qe.Am)(Gt,en)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:Nr,removeApp:function Ue(Gt){delete Ne[Gt]},components:ht,useAsService:function Ro(Gt,en){return"serverAuth"===en?null:en}}};function Sn(Gt){if(!(0,I.r3)(Ne,Gt=Gt||ir))throw Or.create("no-app",{appName:Gt});return Ne[Gt]}function Nr(Gt){var en=Gt.name;if(ht.has(en))return Jt.debug("There were multiple attempts to register component "+en+"."),"PUBLIC"===Gt.type?Oe[en]:null;if(ht.set(en,Gt),"PUBLIC"===Gt.type){var fi=function(pn){if(void 0===pn&&(pn=Sn()),"function"!=typeof pn[en])throw Or.create("invalid-app-argument",{appName:en});return pn[en]()};void 0!==Gt.serviceProps&&(0,I.ZB)(fi,Gt.serviceProps),Oe[en]=fi,ye.prototype[en]=function(){for(var pn=[],Gn=0;Gn<arguments.length;Gn++)pn[Gn]=arguments[Gn];return this._getService.bind(this,en).apply(this,Gt.multipleInstances?pn:[])}}for(var Rn=0,Fn=Object.keys(Ne);Rn<Fn.length;Rn++)Ne[Fn[Rn]]._addComponent(Gt);return"PUBLIC"===Gt.type?Oe[en]:null}return Oe.default=Oe,Object.defineProperty(Oe,"apps",{get:function Mn(){return Object.keys(Ne).map(function(Gt){return Ne[Gt]})}}),Sn.App=ye,Oe}(Ki);return ye.INTERNAL=(0,_e.pi)((0,_e.pi)({},ye.INTERNAL),{createFirebaseNamespace:Q,extendNamespace:function Ne(ht){(0,I.ZB)(ye,ht)},createSubscribe:I.ne,ErrorFactory:I.LL,deepExtend:I.ZB}),ye}(),Jn=function(){function ye(Ne){this.container=Ne}return ye.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(ht){if(function de(ye){var Ne=ye.getComponent();return"VERSION"===Ne?.type}(ht)){var Oe=ht.getImmediate();return Oe.library+"/"+Oe.version}return null}).filter(function(ht){return ht}).join(" ")},ye}();if((0,I.jU)()&&void 0!==self.firebase){Jt.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var ge=self.firebase.SDK_VERSION;ge&&ge.indexOf("LITE")>=0&&Jt.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var pe=qr.initializeApp;qr.initializeApp=function(){for(var ye=[],Ne=0;Ne<arguments.length;Ne++)ye[Ne]=arguments[Ne];return(0,I.UG)()&&Jt.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),pe.apply(void 0,ye)};var ke=qr;!function te(ye,Ne){ye.INTERNAL.registerComponent(new Ke.wA("platform-logger",function(ht){return new Jn(ht)},"PRIVATE")),ye.registerVersion(Wi,"0.6.30",Ne),ye.registerVersion("fire-js","")}(ke);const Se=ke},461:(Ja,hi,qt)=>{qt.d(hi,{H0:()=>Wi,wA:()=>Ke});var _e=qt(655),I=qt(492),Ke=function(){function ce(q,De,He){this.name=q,this.instanceFactory=De,this.type=He,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return ce.prototype.setInstantiationMode=function(q){return this.instantiationMode=q,this},ce.prototype.setMultipleInstances=function(q){return this.multipleInstances=q,this},ce.prototype.setServiceProps=function(q){return this.serviceProps=q,this},ce.prototype.setInstanceCreatedCallback=function(q){return this.onInstanceCreated=q,this},ce}(),qe="[DEFAULT]",Nt=function(){function ce(q,De){this.name=q,this.container=De,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return ce.prototype.get=function(q){var De=this.normalizeInstanceIdentifier(q);if(!this.instancesDeferred.has(De)){var He=new I.BH;if(this.instancesDeferred.set(De,He),this.isInitialized(De)||this.shouldAutoInitialize())try{var Me=this.getOrInitializeService({instanceIdentifier:De});Me&&He.resolve(Me)}catch{}}return this.instancesDeferred.get(De).promise},ce.prototype.getImmediate=function(q){var De,He=this.normalizeInstanceIdentifier(q?.identifier),Me=null!==(De=q?.optional)&&void 0!==De&&De;if(!this.isInitialized(He)&&!this.shouldAutoInitialize()){if(Me)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:He})}catch(Pe){if(Me)return null;throw Pe}},ce.prototype.getComponent=function(){return this.component},ce.prototype.setComponent=function(q){var De,He;if(q.name!==this.name)throw Error("Mismatching Component "+q.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=q,this.shouldAutoInitialize()){if(function Or(ce){return"EAGER"===ce.instantiationMode}(q))try{this.getOrInitializeService({instanceIdentifier:qe})}catch{}try{for(var Me=(0,_e.XA)(this.instancesDeferred.entries()),Pe=Me.next();!Pe.done;Pe=Me.next()){var Pt=(0,_e.CR)(Pe.value,2),Ft=Pt[1],bt=this.normalizeInstanceIdentifier(Pt[0]);try{var Mr=this.getOrInitializeService({instanceIdentifier:bt});Ft.resolve(Mr)}catch{}}}catch(Yt){De={error:Yt}}finally{try{Pe&&!Pe.done&&(He=Me.return)&&He.call(Me)}finally{if(De)throw De.error}}}},ce.prototype.clearInstance=function(q){void 0===q&&(q=qe),this.instancesDeferred.delete(q),this.instancesOptions.delete(q),this.instances.delete(q)},ce.prototype.delete=function(){return(0,_e.mG)(this,void 0,void 0,function(){var q;return(0,_e.Jh)(this,function(De){switch(De.label){case 0:return q=Array.from(this.instances.values()),[4,Promise.all((0,_e.ev)((0,_e.ev)([],(0,_e.CR)(q.filter(function(He){return"INTERNAL"in He}).map(function(He){return He.INTERNAL.delete()}))),(0,_e.CR)(q.filter(function(He){return"_delete"in He}).map(function(He){return He._delete()}))))];case 1:return De.sent(),[2]}})})},ce.prototype.isComponentSet=function(){return null!=this.component},ce.prototype.isInitialized=function(q){return void 0===q&&(q=qe),this.instances.has(q)},ce.prototype.getOptions=function(q){return void 0===q&&(q=qe),this.instancesOptions.get(q)||{}},ce.prototype.initialize=function(q){var De,He;void 0===q&&(q={});var Me=q.options,Pe=void 0===Me?{}:Me,Pt=this.normalizeInstanceIdentifier(q.instanceIdentifier);if(this.isInitialized(Pt))throw Error(this.name+"("+Pt+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var Rt=this.getOrInitializeService({instanceIdentifier:Pt,options:Pe});try{for(var Ft=(0,_e.XA)(this.instancesDeferred.entries()),bt=Ft.next();!bt.done;bt=Ft.next()){var Mr=(0,_e.CR)(bt.value,2),xr=Mr[1];Pt===this.normalizeInstanceIdentifier(Mr[0])&&xr.resolve(Rt)}}catch(ir){De={error:ir}}finally{try{bt&&!bt.done&&(He=Ft.return)&&He.call(Ft)}finally{if(De)throw De.error}}return Rt},ce.prototype.onInit=function(q,De){var He,Me=this.normalizeInstanceIdentifier(De),Pe=null!==(He=this.onInitCallbacks.get(Me))&&void 0!==He?He:new Set;Pe.add(q),this.onInitCallbacks.set(Me,Pe);var Pt=this.instances.get(Me);return Pt&&q(Pt,Me),function(){Pe.delete(q)}},ce.prototype.invokeOnInitCallbacks=function(q,De){var He,Me,Pe=this.onInitCallbacks.get(De);if(Pe)try{for(var Pt=(0,_e.XA)(Pe),Rt=Pt.next();!Rt.done;Rt=Pt.next()){var Ft=Rt.value;try{Ft(q,De)}catch{}}}catch(bt){He={error:bt}}finally{try{Rt&&!Rt.done&&(Me=Pt.return)&&Me.call(Pt)}finally{if(He)throw He.error}}},ce.prototype.getOrInitializeService=function(q){var De=q.instanceIdentifier,He=q.options,Me=void 0===He?{}:He,Pe=this.instances.get(De);if(!Pe&&this.component&&(Pe=this.component.instanceFactory(this.container,{instanceIdentifier:lo(De),options:Me}),this.instances.set(De,Pe),this.instancesOptions.set(De,Me),this.invokeOnInitCallbacks(Pe,De),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,De,Pe)}catch{}return Pe||null},ce.prototype.normalizeInstanceIdentifier=function(q){return void 0===q&&(q=qe),this.component?this.component.multipleInstances?q:qe:q},ce.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},ce}();function lo(ce){return ce===qe?void 0:ce}var Wi=function(){function ce(q){this.name=q,this.providers=new Map}return ce.prototype.addComponent=function(q){var De=this.getProvider(q.name);if(De.isComponentSet())throw new Error("Component "+q.name+" has already been registered with "+this.name);De.setComponent(q)},ce.prototype.addOrOverwriteComponent=function(q){this.getProvider(q.name).isComponentSet()&&this.providers.delete(q.name),this.addComponent(q)},ce.prototype.getProvider=function(q){if(this.providers.has(q))return this.providers.get(q);var De=new Nt(q,this);return this.providers.set(q,De),De},ce.prototype.getProviders=function(){return Array.from(this.providers.values())},ce}()},3:(Ja,hi,qt)=>{function _e(){for(var He=0,Me=0,Pe=arguments.length;Me<Pe;Me++)He+=arguments[Me].length;var Pt=Array(He),Rt=0;for(Me=0;Me<Pe;Me++)for(var Ft=arguments[Me],bt=0,Mr=Ft.length;bt<Mr;bt++,Rt++)Pt[Rt]=Ft[bt];return Pt}qt.d(hi,{Am:()=>De,Ub:()=>q,Yd:()=>ce,in:()=>qe});var I,Ke=[],qe=(()=>((qe=qe||{})[qe.DEBUG=0]="DEBUG",qe[qe.VERBOSE=1]="VERBOSE",qe[qe.INFO=2]="INFO",qe[qe.WARN=3]="WARN",qe[qe.ERROR=4]="ERROR",qe[qe.SILENT=5]="SILENT",qe))(),Nt={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},lo=qe.INFO,Or=((I={})[qe.DEBUG]="log",I[qe.VERBOSE]="log",I[qe.INFO]="info",I[qe.WARN]="warn",I[qe.ERROR]="error",I),Wi=function(He,Me){for(var Pe=[],Pt=2;Pt<arguments.length;Pt++)Pe[Pt-2]=arguments[Pt];if(!(Me<He.logLevel)){var Rt=(new Date).toISOString(),Ft=Or[Me];if(!Ft)throw new Error("Attempted to log a message with an invalid logType (value: "+Me+")");console[Ft].apply(console,_e(["["+Rt+"]  "+He.name+":"],Pe))}},ce=function(){function He(Me){this.name=Me,this._logLevel=lo,this._logHandler=Wi,this._userLogHandler=null,Ke.push(this)}return Object.defineProperty(He.prototype,"logLevel",{get:function(){return this._logLevel},set:function(Me){if(!(Me in qe))throw new TypeError('Invalid value "'+Me+'" assigned to `logLevel`');this._logLevel=Me},enumerable:!1,configurable:!0}),He.prototype.setLogLevel=function(Me){this._logLevel="string"==typeof Me?Nt[Me]:Me},Object.defineProperty(He.prototype,"logHandler",{get:function(){return this._logHandler},set:function(Me){if("function"!=typeof Me)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Me},enumerable:!1,configurable:!0}),Object.defineProperty(He.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(Me){this._userLogHandler=Me},enumerable:!1,configurable:!0}),He.prototype.debug=function(){for(var Me=[],Pe=0;Pe<arguments.length;Pe++)Me[Pe]=arguments[Pe];this._userLogHandler&&this._userLogHandler.apply(this,_e([this,qe.DEBUG],Me)),this._logHandler.apply(this,_e([this,qe.DEBUG],Me))},He.prototype.log=function(){for(var Me=[],Pe=0;Pe<arguments.length;Pe++)Me[Pe]=arguments[Pe];this._userLogHandler&&this._userLogHandler.apply(this,_e([this,qe.VERBOSE],Me)),this._logHandler.apply(this,_e([this,qe.VERBOSE],Me))},He.prototype.info=function(){for(var Me=[],Pe=0;Pe<arguments.length;Pe++)Me[Pe]=arguments[Pe];this._userLogHandler&&this._userLogHandler.apply(this,_e([this,qe.INFO],Me)),this._logHandler.apply(this,_e([this,qe.INFO],Me))},He.prototype.warn=function(){for(var Me=[],Pe=0;Pe<arguments.length;Pe++)Me[Pe]=arguments[Pe];this._userLogHandler&&this._userLogHandler.apply(this,_e([this,qe.WARN],Me)),this._logHandler.apply(this,_e([this,qe.WARN],Me))},He.prototype.error=function(){for(var Me=[],Pe=0;Pe<arguments.length;Pe++)Me[Pe]=arguments[Pe];this._userLogHandler&&this._userLogHandler.apply(this,_e([this,qe.ERROR],Me)),this._logHandler.apply(this,_e([this,qe.ERROR],Me))},He}();function q(He){Ke.forEach(function(Me){Me.setLogLevel(He)})}function De(He,Me){for(var Pe=function(bt){var Mr=null;Me&&Me.level&&(Mr=Nt[Me.level]),bt.userLogHandler=null===He?null:function(Yt,xr){for(var wt=[],ir=2;ir<arguments.length;ir++)wt[ir-2]=arguments[ir];var Xe=wt.map(function(Jt){if(null==Jt)return null;if("string"==typeof Jt)return Jt;if("number"==typeof Jt||"boolean"==typeof Jt)return Jt.toString();if(Jt instanceof Error)return Jt.message;try{return JSON.stringify(Jt)}catch{return null}}).filter(function(Jt){return Jt}).join(" ");xr>=(Mr??Yt.logLevel)&&He({level:qe[xr].toLowerCase(),message:Xe,args:wt,type:Yt.name})}},Pt=0,Rt=Ke;Pt<Rt.length;Pt++)Pe(Rt[Pt])}},492:(Ja,hi,qt)=>{qt.d(hi,{BH:()=>Pe,G6:()=>Ki,LL:()=>te,Mn:()=>Xe,Sg:()=>Pt,UG:()=>bt,ZB:()=>He,ZR:()=>de,b$:()=>xr,d:()=>wt,jU:()=>Mr,m9:()=>$o,ne:()=>Rn,p$:()=>De,r3:()=>Sn,ru:()=>Yt,uI:()=>Ft,w1:()=>ir,z$:()=>Rt});var _e=qt(655),Nt=function(W){for(var G=[],J=0,se=0;se<W.length;se++){var X=W.charCodeAt(se);X<128?G[J++]=X:X<2048?(G[J++]=X>>6|192,G[J++]=63&X|128):55296==(64512&X)&&se+1<W.length&&56320==(64512&W.charCodeAt(se+1))?(X=65536+((1023&X)<<10)+(1023&W.charCodeAt(++se)),G[J++]=X>>18|240,G[J++]=X>>12&63|128,G[J++]=X>>6&63|128,G[J++]=63&X|128):(G[J++]=X>>12|224,G[J++]=X>>6&63|128,G[J++]=63&X|128)}return G},Or={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(W,G){if(!Array.isArray(W))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var J=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,se=[],X=0;X<W.length;X+=3){var Ae=W[X],ft=X+1<W.length,tn=ft?W[X+1]:0,mn=X+2<W.length,sn=mn?W[X+2]:0,gt=(15&tn)<<2|sn>>6,pi=63&sn;mn||(pi=64,ft||(gt=64)),se.push(J[Ae>>2],J[(3&Ae)<<4|tn>>4],J[gt],J[pi])}return se.join("")},encodeString:function(W,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(W):this.encodeByteArray(Nt(W),G)},decodeString:function(W,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(W):function(W){for(var G=[],J=0,se=0;J<W.length;){var X=W[J++];if(X<128)G[se++]=String.fromCharCode(X);else if(X>191&&X<224){var Ae=W[J++];G[se++]=String.fromCharCode((31&X)<<6|63&Ae)}else if(X>239&&X<365){var mn=((7&X)<<18|(63&(Ae=W[J++]))<<12|(63&(ft=W[J++]))<<6|63&W[J++])-65536;G[se++]=String.fromCharCode(55296+(mn>>10)),G[se++]=String.fromCharCode(56320+(1023&mn))}else{Ae=W[J++];var ft=W[J++];G[se++]=String.fromCharCode((15&X)<<12|(63&Ae)<<6|63&ft)}}return G.join("")}(this.decodeStringToByteArray(W,G))},decodeStringToByteArray:function(W,G){this.init_();for(var J=G?this.charToByteMapWebSafe_:this.charToByteMap_,se=[],X=0;X<W.length;){var Ae=J[W.charAt(X++)],tn=X<W.length?J[W.charAt(X)]:0,sn=++X<W.length?J[W.charAt(X)]:64,nn=++X<W.length?J[W.charAt(X)]:64;if(++X,null==Ae||null==tn||null==sn||null==nn)throw Error();se.push(Ae<<2|tn>>4),64!==sn&&(se.push(tn<<4&240|sn>>2),64!==nn&&se.push(sn<<6&192|nn))}return se},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var W=0;W<this.ENCODED_VALS.length;W++)this.byteToCharMap_[W]=this.ENCODED_VALS.charAt(W),this.charToByteMap_[this.byteToCharMap_[W]]=W,this.byteToCharMapWebSafe_[W]=this.ENCODED_VALS_WEBSAFE.charAt(W),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[W]]=W,W>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(W)]=W,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(W)]=W)}}},ce=function(W){return function(W){var G=Nt(W);return Or.encodeByteArray(G,!0)}(W).replace(/\./g,"")};function De(W){return He(void 0,W)}function He(W,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===W&&(W={});break;case Array:W=[];break;default:return G}for(var se in G)!G.hasOwnProperty(se)||!Me(se)||(W[se]=He(W[se],G[se]));return W}function Me(W){return"__proto__"!==W}var Pe=function(){function W(){var G=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(J,se){G.resolve=J,G.reject=se})}return W.prototype.wrapCallback=function(G){var J=this;return function(se,X){se?J.reject(se):J.resolve(X),"function"==typeof G&&(J.promise.catch(function(){}),1===G.length?G(se):G(se,X))}},W}();function Pt(W,G){if(W.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var se=G||"demo-project",X=W.iat||0,Ae=W.sub||W.user_id;if(!Ae)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var ft=(0,_e.pi)({iss:"https://securetoken.google.com/"+se,aud:se,iat:X,exp:X+3600,auth_time:X,sub:Ae,user_id:Ae,firebase:{sign_in_provider:"custom",identities:{}}},W);return[ce(JSON.stringify({alg:"none",type:"JWT"})),ce(JSON.stringify(ft)),""].join(".")}function Rt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ft(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rt())}function bt(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Mr(){return"object"==typeof self&&self.self===self}function Yt(){var W="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof W&&void 0!==W.id}function xr(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function wt(){return Rt().indexOf("Electron/")>=0}function ir(){var W=Rt();return W.indexOf("MSIE ")>=0||W.indexOf("Trident/")>=0}function Xe(){return Rt().indexOf("MSAppHost/")>=0}function Ki(){return!bt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var de=function(W){function G(J,se,X){var Ae=W.call(this,se)||this;return Ae.code=J,Ae.customData=X,Ae.name="FirebaseError",Object.setPrototypeOf(Ae,G.prototype),Error.captureStackTrace&&Error.captureStackTrace(Ae,te.prototype.create),Ae}return(0,_e.ZT)(G,W),G}(Error),te=function(){function W(G,J,se){this.service=G,this.serviceName=J,this.errors=se}return W.prototype.create=function(G){for(var J=[],se=1;se<arguments.length;se++)J[se-1]=arguments[se];var X=J[0]||{},Ae=this.service+"/"+G,ft=this.errors[G],tn=ft?function ge(W,G){return W.replace(pe,function(J,se){var X=G[se];return null!=X?String(X):"<"+se+"?>"})}(ft,X):"Error";return new de(Ae,this.serviceName+": "+tn+" ("+Ae+").",X)},W}(),pe=/\{\$([^}]+)}/g;function Sn(W,G){return Object.prototype.hasOwnProperty.call(W,G)}function Rn(W,G){var J=new Fn(W,G);return J.subscribe.bind(J)}!function(){function W(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var G=1;G<this.blockSize;++G)this.pad_[G]=0;this.reset()}W.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},W.prototype.compress_=function(G,J){J||(J=0);var se=this.W_;if("string"==typeof G)for(var X=0;X<16;X++)se[X]=G.charCodeAt(J)<<24|G.charCodeAt(J+1)<<16|G.charCodeAt(J+2)<<8|G.charCodeAt(J+3),J+=4;else for(X=0;X<16;X++)se[X]=G[J]<<24|G[J+1]<<16|G[J+2]<<8|G[J+3],J+=4;for(X=16;X<80;X++)se[X]=4294967295&((Ae=se[X-3]^se[X-8]^se[X-14]^se[X-16])<<1|Ae>>>31);var nn,gt,ft=this.chain_[0],tn=this.chain_[1],mn=this.chain_[2],sn=this.chain_[3],Fr=this.chain_[4];for(X=0;X<80;X++){X<40?X<20?(nn=sn^tn&(mn^sn),gt=1518500249):(nn=tn^mn^sn,gt=1859775393):X<60?(nn=tn&mn|sn&(tn|mn),gt=2400959708):(nn=tn^mn^sn,gt=3395469782);var Ae=(ft<<5|ft>>>27)+nn+Fr+gt+se[X]&4294967295;Fr=sn,sn=mn,mn=4294967295&(tn<<30|tn>>>2),tn=ft,ft=Ae}this.chain_[0]=this.chain_[0]+ft&4294967295,this.chain_[1]=this.chain_[1]+tn&4294967295,this.chain_[2]=this.chain_[2]+mn&4294967295,this.chain_[3]=this.chain_[3]+sn&4294967295,this.chain_[4]=this.chain_[4]+Fr&4294967295},W.prototype.update=function(G,J){if(null!=G){void 0===J&&(J=G.length);for(var se=J-this.blockSize,X=0,Ae=this.buf_,ft=this.inbuf_;X<J;){if(0===ft)for(;X<=se;)this.compress_(G,X),X+=this.blockSize;if("string"==typeof G){for(;X<J;)if(Ae[ft]=G.charCodeAt(X),++X,++ft===this.blockSize){this.compress_(Ae),ft=0;break}}else for(;X<J;)if(Ae[ft]=G[X],++X,++ft===this.blockSize){this.compress_(Ae),ft=0;break}}this.inbuf_=ft,this.total_+=J}},W.prototype.digest=function(){var G=[],J=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var se=this.blockSize-1;se>=56;se--)this.buf_[se]=255&J,J/=256;this.compress_(this.buf_);var X=0;for(se=0;se<5;se++)for(var Ae=24;Ae>=0;Ae-=8)G[X]=this.chain_[se]>>Ae&255,++X;return G}}();var Fn=function(){function W(G,J){var se=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=J,this.task.then(function(){G(se)}).catch(function(X){se.error(X)})}return W.prototype.next=function(G){this.forEachObserver(function(J){J.next(G)})},W.prototype.error=function(G){this.forEachObserver(function(J){J.error(G)}),this.close(G)},W.prototype.complete=function(){this.forEachObserver(function(G){G.complete()}),this.close()},W.prototype.subscribe=function(G,J,se){var Ae,X=this;if(void 0===G&&void 0===J&&void 0===se)throw new Error("Missing Observer.");Ae=function pn(W,G){if("object"!=typeof W||null===W)return!1;for(var J=0,se=G;J<se.length;J++){var X=se[J];if(X in W&&"function"==typeof W[X])return!0}return!1}(G,["next","error","complete"])?G:{next:G,error:J,complete:se},void 0===Ae.next&&(Ae.next=Gn),void 0===Ae.error&&(Ae.error=Gn),void 0===Ae.complete&&(Ae.complete=Gn);var ft=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{X.finalError?Ae.error(X.finalError):Ae.complete()}catch{}}),this.observers.push(Ae),ft},W.prototype.unsubscribeOne=function(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},W.prototype.forEachObserver=function(G){if(!this.finalized)for(var J=0;J<this.observers.length;J++)this.sendOne(J,G)},W.prototype.sendOne=function(G,J){var se=this;this.task.then(function(){if(void 0!==se.observers&&void 0!==se.observers[G])try{J(se.observers[G])}catch(X){typeof console<"u"&&console.error&&console.error(X)}})},W.prototype.close=function(G){var J=this;this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(function(){J.observers=void 0,J.onNoObservers=void 0}))},W}();function Gn(){}function $o(W){return W&&W._delegate?W._delegate:W}},482:(Ja,hi,qt)=>{function _e(i){return"function"==typeof i}function I(i){const t=i(o=>{Error.call(o),o.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Ke=I(i=>function(t){i(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((o,u)=>`${u+1}) ${o.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function qe(i,e){if(i){const t=i.indexOf(e);0<=t&&i.splice(t,1)}}class Nt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const d of t)d.remove(this);else t.remove(this);const{initialTeardown:o}=this;if(_e(o))try{o()}catch(d){e=d instanceof Ke?d.errors:[d]}const{_finalizers:u}=this;if(u){this._finalizers=null;for(const d of u)try{Wi(d)}catch(p){e=e??[],p instanceof Ke?e=[...e,...p.errors]:e.push(p)}}if(e)throw new Ke(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Wi(e);else{if(e instanceof Nt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&qe(t,e)}remove(e){const{_finalizers:t}=this;t&&qe(t,e),e instanceof Nt&&e._removeParent(this)}}Nt.EMPTY=(()=>{const i=new Nt;return i.closed=!0,i})();const lo=Nt.EMPTY;function Or(i){return i instanceof Nt||i&&"closed"in i&&_e(i.remove)&&_e(i.add)&&_e(i.unsubscribe)}function Wi(i){_e(i)?i():i.unsubscribe()}const ce={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},q={setTimeout(i,e,...t){const{delegate:o}=q;return o?.setTimeout?o.setTimeout(i,e,...t):setTimeout(i,e,...t)},clearTimeout(i){const{delegate:e}=q;return(e?.clearTimeout||clearTimeout)(i)},delegate:void 0};function De(i){q.setTimeout(()=>{const{onUnhandledError:e}=ce;if(!e)throw i;e(i)})}function He(){}const Me=Rt("C",void 0,void 0);function Rt(i,e,t){return{kind:i,value:e,error:t}}let Ft=null;function bt(i){if(ce.useDeprecatedSynchronousErrorHandling){const e=!Ft;if(e&&(Ft={errorThrown:!1,error:null}),i(),e){const{errorThrown:t,error:o}=Ft;if(Ft=null,t)throw o}}else i()}class Yt extends Nt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Or(e)&&e.add(this)):this.destination=xo}static create(e,t,o){return new Xe(e,t,o)}next(e){this.isStopped?pt(function Pt(i){return Rt("N",i,void 0)}(e),this):this._next(e)}error(e){this.isStopped?pt(function Pe(i){return Rt("E",void 0,i)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?pt(Me,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const xr=Function.prototype.bind;function wt(i,e){return xr.call(i,e)}class ir{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(o){Jt(o)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(o){Jt(o)}else Jt(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Jt(t)}}}class Xe extends Yt{constructor(e,t,o){let u;if(super(),_e(e)||!e)u={next:e??void 0,error:t??void 0,complete:o??void 0};else{let d;this&&ce.useDeprecatedNextContext?(d=Object.create(e),d.unsubscribe=()=>this.unsubscribe(),u={next:e.next&&wt(e.next,d),error:e.error&&wt(e.error,d),complete:e.complete&&wt(e.complete,d)}):u=e}this.destination=new ir(u)}}function Jt(i){ce.useDeprecatedSynchronousErrorHandling?function Mr(i){ce.useDeprecatedSynchronousErrorHandling&&Ft&&(Ft.errorThrown=!0,Ft.error=i)}(i):De(i)}function pt(i,e){const{onStoppedNotification:t}=ce;t&&q.setTimeout(()=>t(i,e))}const xo={closed:!0,next:He,error:function Ki(i){throw i},complete:He},Q="function"==typeof Symbol&&Symbol.observable||"@@observable";function qr(i){return i}function de(i){return 0===i.length?qr:1===i.length?i[0]:function(t){return i.reduce((o,u)=>u(o),t)}}let te=(()=>{class i{constructor(t){t&&(this._subscribe=t)}lift(t){const o=new i;return o.source=this,o.operator=t,o}subscribe(t,o,u){const d=function ke(i){return i&&i instanceof Yt||function pe(i){return i&&_e(i.next)&&_e(i.error)&&_e(i.complete)}(i)&&Or(i)}(t)?t:new Xe(t,o,u);return bt(()=>{const{operator:p,source:g}=this;d.add(p?p.call(d,g):g?this._subscribe(d):this._trySubscribe(d))}),d}_trySubscribe(t){try{return this._subscribe(t)}catch(o){t.error(o)}}forEach(t,o){return new(o=ge(o))((u,d)=>{const p=new Xe({next:g=>{try{t(g)}catch(_){d(_),p.unsubscribe()}},error:d,complete:u});this.subscribe(p)})}_subscribe(t){var o;return null===(o=this.source)||void 0===o?void 0:o.subscribe(t)}[Q](){return this}pipe(...t){return de(t)(this)}toPromise(t){return new(t=ge(t))((o,u)=>{let d;this.subscribe(p=>d=p,p=>u(p),()=>o(d))})}}return i.create=e=>new i(e),i})();function ge(i){var e;return null!==(e=i??ce.Promise)&&void 0!==e?e:Promise}const Se=I(i=>function(){i(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ye=(()=>{class i extends te{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const o=new Ne(this,this);return o.operator=t,o}_throwIfClosed(){if(this.closed)throw new Se}next(t){bt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const o of this.currentObservers)o.next(t)}})}error(t){bt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:o}=this;for(;o.length;)o.shift().error(t)}})}complete(){bt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:o,isStopped:u,observers:d}=this;return o||u?lo:(this.currentObservers=null,d.push(t),new Nt(()=>{this.currentObservers=null,qe(d,t)}))}_checkFinalizedStatuses(t){const{hasError:o,thrownError:u,isStopped:d}=this;o?t.error(u):d&&t.complete()}asObservable(){const t=new te;return t.source=this,t}}return i.create=(e,t)=>new Ne(e,t),i})();class Ne extends ye{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,o;null===(o=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===o||o.call(t,e)}error(e){var t,o;null===(o=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===o||o.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,o;return null!==(o=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==o?o:lo}}function ht(i){return _e(i?.lift)}function Oe(i){return e=>{if(ht(e))return e.lift(function(t){try{return i(t,this)}catch(o){this.error(o)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ue(i,e,t,o,u){return new Sn(i,e,t,o,u)}class Sn extends Yt{constructor(e,t,o,u,d,p){super(e),this.onFinalize=d,this.shouldUnsubscribe=p,this._next=t?function(g){try{t(g)}catch(_){e.error(_)}}:super._next,this._error=u?function(g){try{u(g)}catch(_){e.error(_)}finally{this.unsubscribe()}}:super._error,this._complete=o?function(){try{o()}catch(g){e.error(g)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function je(i,e){return Oe((t,o)=>{let u=0;t.subscribe(Ue(o,d=>{o.next(i.call(e,d,u++))}))})}var Mn=qt(655);const Nr=i=>i&&"number"==typeof i.length&&"function"!=typeof i;function Lt(i){return _e(i?.then)}function xn(i){return _e(i[Q])}function Ro(i){return Symbol.asyncIterator&&_e(i?.[Symbol.asyncIterator])}function Gt(i){return new TypeError(`You provided ${null!==i&&"object"==typeof i?"an invalid object":`'${i}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const fi=function en(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Rn(i){return _e(i?.[fi])}function Fn(i){return(0,Mn.FC)(this,arguments,function*(){const t=i.getReader();try{for(;;){const{value:o,done:u}=yield(0,Mn.qq)(t.read());if(u)return yield(0,Mn.qq)(void 0);yield yield(0,Mn.qq)(o)}}finally{t.releaseLock()}})}function qn(i){return _e(i?.getReader)}function pn(i){if(i instanceof te)return i;if(null!=i){if(xn(i))return function Gn(i){return new te(e=>{const t=i[Q]();if(_e(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(i);if(Nr(i))return function Ws(i){return new te(e=>{for(let t=0;t<i.length&&!e.closed;t++)e.next(i[t]);e.complete()})}(i);if(Lt(i))return function ho(i){return new te(e=>{i.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,De)})}(i);if(Ro(i))return Pr(i);if(Rn(i))return function Ad(i){return new te(e=>{for(const t of i)if(e.next(t),e.closed)return;e.complete()})}(i);if(qn(i))return function vs(i){return Pr(Fn(i))}(i)}throw Gt(i)}function Pr(i){return new te(e=>{(function cf(i,e){var t,o,u,d;return(0,Mn.mG)(this,void 0,void 0,function*(){try{for(t=(0,Mn.KL)(i);!(o=yield t.next()).done;)if(e.next(o.value),e.closed)return}catch(p){u={error:p}}finally{try{o&&!o.done&&(d=t.return)&&(yield d.call(t))}finally{if(u)throw u.error}}e.complete()})})(i,e).catch(t=>e.error(t))})}function Ti(i,e,t,o=0,u=!1){const d=e.schedule(function(){t(),u?i.add(this.schedule(null,o)):this.unsubscribe()},o);if(i.add(d),!u)return d}function St(i,e,t=1/0){return _e(e)?St((o,u)=>je((d,p)=>e(o,d,u,p))(pn(i(o,u))),t):("number"==typeof e&&(t=e),Oe((o,u)=>function Md(i,e,t,o,u,d,p,g){const _=[];let E=0,S=0,x=!1;const L=()=>{x&&!_.length&&!E&&e.complete()},V=Y=>E<o?$(Y):_.push(Y),$=Y=>{d&&e.next(Y),E++;let ue=!1;pn(t(Y,S++)).subscribe(Ue(e,ve=>{u?.(ve),d?V(ve):e.next(ve)},()=>{ue=!0},void 0,()=>{if(ue)try{for(E--;_.length&&E<o;){const ve=_.shift();p?Ti(e,p,()=>$(ve)):$(ve)}L()}catch(ve){e.error(ve)}}))};return i.subscribe(Ue(e,V,()=>{x=!0,L()})),()=>{g?.()}}(o,u,i,t)))}function Yi(i=1/0){return St(qr,i)}const br=new te(i=>i.complete());function Ln(i){return i&&_e(i.schedule)}function $o(i){return i[i.length-1]}function W(i){return _e($o(i))?i.pop():void 0}function G(i){return Ln($o(i))?i.pop():void 0}function se(i,e=0){return Oe((t,o)=>{t.subscribe(Ue(o,u=>Ti(o,i,()=>o.next(u),e),()=>Ti(o,i,()=>o.complete(),e),u=>Ti(o,i,()=>o.error(u),e)))})}function X(i,e=0){return Oe((t,o)=>{o.add(i.schedule(()=>t.subscribe(o),e))})}function sn(i,e){if(!i)throw new Error("Iterable cannot be null");return new te(t=>{Ti(t,e,()=>{const o=i[Symbol.asyncIterator]();Ti(t,e,()=>{o.next().then(u=>{u.done?t.complete():t.next(u.value)})},0,!0)})})}function gt(i,e){return e?function nn(i,e){if(null!=i){if(xn(i))return function Ae(i,e){return pn(i).pipe(X(e),se(e))}(i,e);if(Nr(i))return function tn(i,e){return new te(t=>{let o=0;return e.schedule(function(){o===i.length?t.complete():(t.next(i[o++]),t.closed||this.schedule())})})}(i,e);if(Lt(i))return function ft(i,e){return pn(i).pipe(X(e),se(e))}(i,e);if(Ro(i))return sn(i,e);if(Rn(i))return function mn(i,e){return new te(t=>{let o;return Ti(t,e,()=>{o=i[fi](),Ti(t,e,()=>{let u,d;try{({value:u,done:d}=o.next())}catch(p){return void t.error(p)}d?t.complete():t.next(u)},0,!0)}),()=>_e(o?.return)&&o.return()})}(i,e);if(qn(i))return function Fr(i,e){return sn(Fn(i),e)}(i,e)}throw Gt(i)}(i,e):pn(i)}function pi(...i){const e=G(i),t=function J(i,e){return"number"==typeof $o(i)?i.pop():e}(i,1/0),o=i;return o.length?1===o.length?pn(o[0]):Yi(t)(gt(o,e)):br}function _a(i={}){const{connector:e=(()=>new ye),resetOnError:t=!0,resetOnComplete:o=!0,resetOnRefCountZero:u=!0}=i;return d=>{let p,g,_,E=0,S=!1,x=!1;const L=()=>{g?.unsubscribe(),g=void 0},V=()=>{L(),p=_=void 0,S=x=!1},$=()=>{const Y=p;V(),Y?.unsubscribe()};return Oe((Y,ue)=>{E++,!x&&!S&&L();const ve=_=_??e();ue.add(()=>{E--,0===E&&!x&&!S&&(g=xd($,u))}),ve.subscribe(ue),!p&&E>0&&(p=new Xe({next:ae=>ve.next(ae),error:ae=>{x=!0,L(),g=xd(V,t,ae),ve.error(ae)},complete:()=>{S=!0,L(),g=xd(V,o),ve.complete()}}),pn(Y).subscribe(p))})(d)}}function xd(i,e,...t){if(!0===e)return void i();if(!1===e)return;const o=new Xe({next:()=>{o.unsubscribe(),i()}});return pn(e(...t)).subscribe(o)}function En(i){for(let e in i)if(i[e]===En)return e;throw Error("Could not find renamed property on target object.")}function fo(i,e){for(const t in e)e.hasOwnProperty(t)&&!i.hasOwnProperty(t)&&(i[t]=e[t])}function Mt(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(Mt).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const e=i.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function ys(i,e){return null==i||""===i?null===e?"":e:null==e||""===e?i:i+" "+e}const Rd=En({__forward_ref__:En});function In(i){return i.__forward_ref__=In,i.toString=function(){return Mt(this())},i}function at(i){return _s(i)?i():i}function _s(i){return"function"==typeof i&&i.hasOwnProperty(Rd)&&i.__forward_ref__===In}function eu(i){return i&&!!i.\u0275providers}const Ks="https://g.co/ng/security#xss";class le extends Error{constructor(e,t){super(function Yu(i,e){return`NG0${Math.abs(i)}${e?": "+e:""}`}(e,t)),this.code=e}}function Et(i){return"string"==typeof i?i:null==i?"":String(i)}function ba(i,e){throw new le(-201,!1)}function Mi(i,e){null==i&&function Zt(i,e,t,o){throw new Error(`ASSERTION ERROR: ${i}`+(null==o?"":` [Expected=> ${t} ${o} ${e} <=Actual]`))}(e,i,null,"!=")}function xe(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function an(i){return{providers:i.providers||[],imports:i.imports||[]}}function ou(i){return Ea(i,ec)||Ea(i,Ca)}function Ea(i,e){return i.hasOwnProperty(e)?i[e]:null}function Ys(i){return i&&(i.hasOwnProperty(au)||i.hasOwnProperty(hl))?i[au]:null}const ec=En({\u0275prov:En}),au=En({\u0275inj:En}),Ca=En({ngInjectableDef:En}),hl=En({ngInjectorDef:En});var it=(()=>((it=it||{})[it.Default=0]="Default",it[it.Host=1]="Host",it[it.Self=2]="Self",it[it.SkipSelf=4]="SkipSelf",it[it.Optional=8]="Optional",it))();let tc;function ot(i){const e=tc;return tc=i,e}function ws(i,e,t){const o=ou(i);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:t&it.Optional?null:void 0!==e?e:void ba(Mt(i))}const Vt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Qe={},Vn="__NG_DI_FLAG__",Da="ngTempTokenPath",M=/\n/gm,U="__source";let K;function be(i){const e=K;return K=i,e}function $e(i,e=it.Default){if(void 0===K)throw new le(-203,!1);return null===K?ws(i,void 0,e):K.get(i,e&it.Optional?null:void 0,e)}function H(i,e=it.Default){return(function fl(){return tc}()||$e)(at(i),e)}function me(i,e=it.Default){return H(i,ut(e))}function ut(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function er(i){const e=[];for(let t=0;t<i.length;t++){const o=at(i[t]);if(Array.isArray(o)){if(0===o.length)throw new le(900,!1);let u,d=it.Default;for(let p=0;p<o.length;p++){const g=o[p],_=Cn(g);"number"==typeof _?-1===_?u=g.token:d|=_:u=g}e.push(H(u,d))}else e.push(H(o))}return e}function hr(i,e){return i[Vn]=e,i.prototype[Vn]=e,i}function Cn(i){return i[Vn]}function Gr(i){return{toString:i}.toString()}var tr=(()=>((tr=tr||{})[tr.OnPush=0]="OnPush",tr[tr.Default=1]="Default",tr))(),Kn=(()=>{return(i=Kn||(Kn={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Kn;var i})();const Lr={},Wt=[],Cs=En({\u0275cmp:En}),cr=En({\u0275dir:En}),Er=En({\u0275pipe:En}),Xi=En({\u0275mod:En}),po=En({\u0275fac:En}),ml=En({__NG_ELEMENT_ID__:En}),rc=En({__NG_ENV_ID__:En});function kd(i,e,t){let o=i.length;for(;;){const u=i.indexOf(e,t);if(-1===u)return u;if(0===u||i.charCodeAt(u-1)<=32){const d=e.length;if(u+d===o||i.charCodeAt(u+d)<=32)return u}t=u+1}}function gl(i,e,t){let o=0;for(;o<t.length;){const u=t[o];if("number"==typeof u){if(0!==u)break;o++;const d=t[o++],p=t[o++],g=t[o++];i.setAttribute(e,p,g,d)}else{const d=u,p=t[++o];pf(d)?i.setProperty(e,d,p):i.setAttribute(e,d,p),o++}}return o}function Od(i){return 3===i||4===i||6===i}function pf(i){return 64===i.charCodeAt(0)}function uu(i,e){if(null!==e&&0!==e.length)if(null===i||0===i.length)i=e.slice();else{let t=-1;for(let o=0;o<e.length;o++){const u=e[o];"number"==typeof u?t=u:0===t||Nd(i,t,u,null,-1===t||2===t?e[++o]:null)}}return i}function Nd(i,e,t,o,u){let d=0,p=i.length;if(-1===e)p=-1;else for(;d<i.length;){const g=i[d++];if("number"==typeof g){if(g===e){p=-1;break}if(g>e){p=d-1;break}}}for(;d<i.length;){const g=i[d];if("number"==typeof g)break;if(g===t){if(null===o)return void(null!==u&&(i[d+1]=u));if(o===i[d+1])return void(i[d+2]=u)}d++,null!==o&&d++,null!==u&&d++}-1!==p&&(i.splice(p,0,e),d=p+1),i.splice(d++,0,t),null!==o&&i.splice(d++,0,o),null!==u&&i.splice(d++,0,u)}const Pd="ng-template";function mo(i,e,t){let o=0,u=!0;for(;o<i.length;){let d=i[o++];if("string"==typeof d&&u){const p=i[o++];if(t&&"class"===d&&-1!==kd(p.toLowerCase(),e,0))return!0}else{if(1===d){for(;o<i.length&&"string"==typeof(d=i[o++]);)if(d.toLowerCase()===e)return!0;return!1}"number"==typeof d&&(u=!1)}}return!1}function mf(i){return 4===i.type&&i.value!==Pd}function mg(i,e,t){return e===(4!==i.type||t?i.value:Pd)}function Fd(i,e,t){let o=4;const u=i.attrs||[],d=function vl(i){for(let e=0;e<i.length;e++)if(Od(i[e]))return e;return i.length}(u);let p=!1;for(let g=0;g<e.length;g++){const _=e[g];if("number"!=typeof _){if(!p)if(4&o){if(o=2|1&o,""!==_&&!mg(i,_,t)||""===_&&1===e.length){if(fr(o))return!1;p=!0}}else{const E=8&o?_:e[++g];if(8&o&&null!==i.attrs){if(!mo(i.attrs,E,t)){if(fr(o))return!1;p=!0}continue}const x=gg(8&o?"class":_,u,mf(i),t);if(-1===x){if(fr(o))return!1;p=!0;continue}if(""!==E){let L;L=x>d?"":u[x+1].toLowerCase();const V=8&o?L:null;if(V&&-1!==kd(V,E,0)||2&o&&E!==L){if(fr(o))return!1;p=!0}}}}else{if(!p&&!fr(o)&&!fr(_))return!1;if(p&&fr(_))continue;p=!1,o=_|1&o}}return fr(o)||p}function fr(i){return 0==(1&i)}function gg(i,e,t,o){if(null===e)return-1;let u=0;if(o||!t){let d=!1;for(;u<e.length;){const p=e[u];if(p===i)return u;if(3===p||6===p)d=!0;else{if(1===p||2===p){let g=e[++u];for(;"string"==typeof g;)g=e[++u];continue}if(4===p)break;if(0===p){u+=4;continue}}u+=d?1:2}return-1}return function gf(i,e){let t=i.indexOf(4);if(t>-1)for(t++;t<i.length;){const o=i[t];if("number"==typeof o)return-1;if(o===e)return t;t++}return-1}(e,i)}function Up(i,e,t=!1){for(let o=0;o<e.length;o++)if(Fd(i,e[o],t))return!0;return!1}function yl(i,e){e:for(let t=0;t<e.length;t++){const o=e[t];if(i.length===o.length){for(let u=0;u<i.length;u++)if(i[u]!==o[u])continue e;return!0}}return!1}function Vd(i,e){return i?":not("+e.trim()+")":e}function ic(i){let e=i[0],t=1,o=2,u="",d=!1;for(;t<i.length;){let p=i[t];if("string"==typeof p)if(2&o){const g=i[++t];u+="["+p+(g.length>0?'="'+g+'"':"")+"]"}else 8&o?u+="."+p:4&o&&(u+=" "+p);else""!==u&&!fr(p)&&(e+=Vd(d,u),u=""),o=p,d=d||!fr(o);t++}return""!==u&&(e+=Vd(d,u)),e}function kt(i){return Gr(()=>{const e=cu(i),t={...e,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===tr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&i.dependencies||null,getStandaloneInjector:null,data:i.data||{},encapsulation:i.encapsulation||Kn.Emulated,styles:i.styles||Wt,_:null,schemas:i.schemas||null,tView:null,id:""};lu(t);const o=i.dependencies;return t.directiveDefs=or(o,!1),t.pipeDefs=or(o,!0),t.id=function vi(i){let e=0;const t=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(const u of t)e=Math.imul(31,e)+u.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function Hp(i){return Ht(i)||si(i)}function bl(i){return null!==i}function Bn(i){return Gr(()=>({type:i.type,bootstrap:i.bootstrap||Wt,declarations:i.declarations||Wt,imports:i.imports||Wt,exports:i.exports||Wt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function zp(i,e){if(null==i)return Lr;const t={};for(const o in i)if(i.hasOwnProperty(o)){let u=i[o],d=u;Array.isArray(u)&&(d=u[1],u=u[0]),t[u]=o,e&&(e[u]=d)}return t}function We(i){return Gr(()=>{const e=cu(i);return lu(e),e})}function Ht(i){return i[Cs]||null}function si(i){return i[cr]||null}function Cr(i){return i[Er]||null}function gi(i,e){const t=i[Xi]||null;if(!t&&!0===e)throw new Error(`Type ${Mt(i)} does not have '\u0275mod' property.`);return t}function cu(i){const e={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:e,exportAs:i.exportAs||null,standalone:!0===i.standalone,selectors:i.selectors||Wt,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:zp(i.inputs,e),outputs:zp(i.outputs)}}function lu(i){i.features?.forEach(e=>e(i))}function or(i,e){if(!i)return null;const t=e?Cr:Hp;return()=>("function"==typeof i?i():i).map(o=>t(o)).filter(bl)}const Dr=0,Ve=1,vt=2,pr=3,Oo=4,Ds=5,yi=6,oc=7,lr=8,yo=9,Qi=10,Dt=11,Ji=12,Bd=13,No=14,Sr=15,Ss=16,sc=17,Go=18,du=19,xi=20,Xs=21,Qs=22,Js=23,ac=24,Bt=25,jd=1,$p=2,Po=7,Is=8,Ts=9,Ri=11;function jn(i){return Array.isArray(i)&&"object"==typeof i[jd]}function oe(i){return Array.isArray(i)&&!0===i[jd]}function Ee(i){return 0!=(4&i.flags)}function Kr(i){return i.componentOffset>-1}function ki(i){return 1==(1&i.flags)}function Ce(i){return!!i.template}function mr(i){return 0!=(512&i[vt])}function lc(i,e){return i.hasOwnProperty(po)?i[po]:null}let dc=Vt.WeakRef??class Gp{constructor(e){this.ref=e}deref(){return this.ref}},Ye=0,Le=null,Yr=!1;function Yn(i){const e=Le;return Le=i,e}class Cl{constructor(){this.id=Ye++,this.ref=function Sa(i){return new dc(i)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[e,t]of this.producers){const o=t.producerNode.deref();if(void 0!==o&&t.atTrackingVersion===this.trackingVersion){if(o.producerPollStatus(t.seenValueVersion))return!0}else this.producers.delete(e),o?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const e=Yr;Yr=!0;try{for(const[t,o]of this.consumers){const u=o.consumerNode.deref();void 0!==u&&u.trackingVersion===o.atTrackingVersion?u.onConsumerDependencyMayHaveChanged():(this.consumers.delete(t),u?.producers.delete(this.id))}}finally{Yr=e}}producerAccessed(){if(Yr)throw new Error("");if(null===Le)return;let e=Le.producers.get(this.id);void 0===e?(e={consumerNode:Le.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Le.trackingVersion},Le.producers.set(this.id,e),this.consumers.set(Le.id,e)):(e.seenValueVersion=this.valueVersion,e.atTrackingVersion=Le.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Le?.consumerAllowSignalWrites}producerPollStatus(e){return this.valueVersion!==e||(this.onProducerUpdateValueVersion(),this.valueVersion!==e)}}let Il=null;const wg=()=>{};class Eg extends Cl{constructor(e,t,o){super(),this.watch=e,this.schedule=t,this.dirty=!1,this.cleanupFn=wg,this.registerOnCleanup=u=>{this.cleanupFn=u},this.consumerAllowSignalWrites=o}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const e=Yn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=wg,this.watch(this.registerOnCleanup)}finally{Yn(e)}}cleanup(){this.cleanupFn()}}class Tl{constructor(e,t,o){this.previousValue=e,this.currentValue=t,this.firstChange=o}isFirstChange(){return this.firstChange}}function Li(){return qd}function qd(i){return i.type.prototype.ngOnChanges&&(i.setInput=Jv),_o}function _o(){const i=wf(this),e=i?.current;if(e){const t=i.previous;if(t===Lr)i.previous=e;else for(let o in e)t[o]=e[o];i.current=null,this.ngOnChanges(e)}}function Jv(i,e,t,o){const u=this.declaredInputs[t],d=wf(i)||function Wp(i,e){return i[Cg]=e}(i,{previous:Lr,current:null}),p=d.current||(d.current={}),g=d.previous,_=g[u];p[u]=new Tl(_&&_.currentValue,e,g===Lr),i[o]=e}Li.ngInherit=!0;const Cg="__ngSimpleChanges__";function wf(i){return i[Cg]||null}const ta=function(i,e,t){};function Un(i){for(;Array.isArray(i);)i=i[Dr];return i}function gc(i,e){return Un(e[i])}function Vi(i,e){return Un(e[i.index])}function Ko(i,e){return i.data[e]}function Zr(i,e){const t=e[i];return jn(t)?t:t[Dr]}function gu(i){return 128==(128&i[vt])}function Ms(i,e){return null==e?null:i[e]}function vc(i){i[sc]=0}function Ml(i){1024&i[vt]||(i[vt]|=1024,Zp(i,1))}function bi(i){1024&i[vt]&&(i[vt]&=-1025,Zp(i,-1))}function Zp(i,e){let t=i[pr];if(null===t)return;t[Ds]+=e;let o=t;for(t=t[pr];null!==t&&(1===e&&1===o[Ds]||-1===e&&0===o[Ds]);)t[Ds]+=e,o=t,t=t[pr]}const lt={lFrame:Rs(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Kd(){return lt.bindingsEnabled}function we(){return lt.lFrame.lView}function jt(){return lt.lFrame.tView}function Xr(i){return lt.lFrame.contextLView=i,i[lr]}function gr(i){return lt.lFrame.contextLView=null,i}function Rr(){let i=yc();for(;null!==i&&64===i.type;)i=i.parent;return i}function yc(){return lt.lFrame.currentTNode}function to(i,e){const t=lt.lFrame;t.currentTNode=i,t.isParent=e}function vr(){return lt.lFrame.isParent}function Zo(){lt.lFrame.isParent=!1}function xs(){return lt.lFrame.bindingIndex++}function _u(i,e){const t=lt.lFrame;t.bindingIndex=t.bindingRootIndex=i,Ot(e)}function Ot(i){lt.lFrame.currentDirectiveIndex=i}function bu(i){const e=lt.lFrame.currentDirectiveIndex;return-1===e?null:i[e]}function xa(){return lt.lFrame.currentQueryIndex}function Tf(i){lt.lFrame.currentQueryIndex=i}function Ra(i){const e=i[Ve];return 2===e.type?e.declTNode:1===e.type?i[yi]:null}function Qp(i,e,t){if(t&it.SkipSelf){let u=e,d=i;for(;!(u=u.parent,null!==u||t&it.Host||(u=Ra(d),null===u||(d=d[No],10&u.type))););if(null===u)return!1;e=u,i=d}const o=lt.lFrame=kl();return o.currentTNode=e,o.lView=i,!0}function kn(i){const e=kl(),t=i[Ve];lt.lFrame=e,e.currentTNode=t.firstChild,e.lView=i,e.tView=t,e.contextLView=i,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function kl(){const i=lt.lFrame,e=null===i?null:i.child;return null===e?Rs(i):e}function Rs(i){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=e),e}function Zn(){const i=lt.lFrame;return lt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Jp=Zn;function _c(){const i=Zn();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Qr(){return lt.lFrame.selectedIndex}function ka(i){lt.lFrame.selectedIndex=i}function gn(){const i=lt.lFrame;return Ko(i.tView,i.selectedIndex)}let wu=!0;function ra(){return wu}function Lo(i){wu=i}function bc(i,e){for(let t=e.directiveStart,o=e.directiveEnd;t<o;t++){const d=i.data[t].type.prototype,{ngAfterContentInit:p,ngAfterContentChecked:g,ngAfterViewInit:_,ngAfterViewChecked:E,ngOnDestroy:S}=d;p&&(i.contentHooks??=[]).push(-t,p),g&&((i.contentHooks??=[]).push(t,g),(i.contentCheckHooks??=[]).push(t,g)),_&&(i.viewHooks??=[]).push(-t,_),E&&((i.viewHooks??=[]).push(t,E),(i.viewCheckHooks??=[]).push(t,E)),null!=S&&(i.destroyHooks??=[]).push(t,S)}}function wc(i,e,t){nm(i,e,3,t)}function Nl(i,e,t,o){(3&i[vt])===t&&nm(i,e,t,o)}function Ec(i,e){let t=i[vt];(3&t)===e&&(t&=4095,t+=1,i[vt]=t)}function nm(i,e,t,o){const d=o??-1,p=e.length-1;let g=0;for(let _=void 0!==o?65535&i[sc]:0;_<p;_++)if("number"==typeof e[_+1]){if(g=e[_],null!=o&&g>=o)break}else e[_]<0&&(i[sc]+=65536),(g<d||-1==d)&&(rm(i,t,e,_),i[sc]=(4294901760&i[sc])+_+2),_++}function Mf(i,e){ta(4,i,e);const t=Yn(null);try{e.call(i)}finally{Yn(t),ta(5,i,e)}}function rm(i,e,t,o){const u=t[o]<0,d=t[o+1],g=i[u?-t[o]:t[o]];u?i[vt]>>12<i[sc]>>16&&(3&i[vt])===e&&(i[vt]+=4096,Mf(g,d)):Mf(g,d)}const ia=-1;class Eu{constructor(e,t,o){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=o}}function Cu(i){return i!==ia}function Bi(i){return 32767&i}function Du(i,e){let t=function Xd(i){return i>>16}(i),o=e;for(;t>0;)o=o[No],t--;return o}let Su=!0;function Pl(i){const e=Su;return Su=i,e}const Dc=255,Sc=5;let im=0;const Os={};function kf(i,e){const t=Ic(i,e);if(-1!==t)return t;const o=e[Ve];o.firstCreatePass&&(i.injectorIndex=e.length,om(o.data,i),om(e,null),om(o.blueprint,null));const u=Oa(i,e),d=i.injectorIndex;if(Cu(u)){const p=Bi(u),g=Du(u,e),_=g[Ve].data;for(let E=0;E<8;E++)e[d+E]=g[p+E]|_[p+E]}return e[d+8]=u,d}function om(i,e){i.push(0,0,0,0,0,0,0,0,e)}function Ic(i,e){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===e[i.injectorIndex+8]?-1:i.injectorIndex}function Oa(i,e){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let t=0,o=null,u=e;for(;null!==u;){if(o=Ui(u),null===o)return ia;if(t++,u=u[No],-1!==o.injectorIndex)return o.injectorIndex|t<<16}return ia}function Of(i,e,t){!function xg(i,e,t){let o;"string"==typeof t?o=t.charCodeAt(0)||0:t.hasOwnProperty(ml)&&(o=t[ml]),null==o&&(o=t[ml]=im++);const u=o&Dc;e.data[i+(u>>Sc)]|=1<<u}(i,e,t)}function Jd(i,e,t){if(t&it.Optional||void 0!==i)return i;ba()}function Nf(i,e,t,o){if(t&it.Optional&&void 0===o&&(o=null),!(t&(it.Self|it.Host))){const u=i[yo],d=ot(void 0);try{return u?u.get(e,o,t&it.Optional):ws(e,o,t&it.Optional)}finally{ot(d)}}return Jd(o,0,t)}function ji(i,e,t,o=it.Default,u){if(null!==i){if(2048&e[vt]){const p=function bo(i,e,t,o,u){let d=i,p=e;for(;null!==d&&null!==p&&2048&p[vt]&&!(512&p[vt]);){const g=eh(d,p,t,o|it.Self,Os);if(g!==Os)return g;let _=d.parent;if(!_){const E=p[xi];if(E){const S=E.get(t,Os,o);if(S!==Os)return S}_=Ui(p),p=p[No]}d=_}return u}(i,e,t,o,Os);if(p!==Os)return p}const d=eh(i,e,t,o,Os);if(d!==Os)return d}return Nf(e,t,o,u)}function eh(i,e,t,o,u){const d=function Ei(i){if("string"==typeof i)return i.charCodeAt(0)||0;const e=i.hasOwnProperty(ml)?i[ml]:void 0;return"number"==typeof e?e>=0?e&Dc:Og:e}(t);if("function"==typeof d){if(!Qp(e,i,o))return o&it.Host?Jd(u,0,o):Nf(e,t,o,u);try{const p=d(o);if(null!=p||o&it.Optional)return p;ba()}finally{Jp()}}else if("number"==typeof d){let p=null,g=Ic(i,e),_=ia,E=o&it.Host?e[Sr][yi]:null;for((-1===g||o&it.SkipSelf)&&(_=-1===g?Oa(i,e):e[g+8],_!==ia&&nr(o,!1)?(p=e[Ve],g=Bi(_),e=Du(_,e)):g=-1);-1!==g;){const S=e[Ve];if(Qo(d,g,S.data)){const x=kg(g,e,t,p,o,E);if(x!==Os)return x}_=e[g+8],_!==ia&&nr(o,e[Ve].data[g+8]===E)&&Qo(d,g,e)?(p=S,g=Bi(_),e=Du(_,e)):g=-1}}return u}function kg(i,e,t,o,u,d){const p=e[Ve],g=p.data[i+8],S=jr(g,p,t,null==o?Kr(g)&&Su:o!=p&&0!=(3&g.type),u&it.Host&&d===g);return null!==S?Vo(e,p,S,g):Os}function jr(i,e,t,o,u){const d=i.providerIndexes,p=e.data,g=1048575&d,_=i.directiveStart,S=d>>20,L=u?g+S:i.directiveEnd;for(let V=o?g:g+S;V<L;V++){const $=p[V];if(V<_&&t===$||V>=_&&$.type===t)return V}if(u){const V=p[_];if(V&&Ce(V)&&V.type===t)return _}return null}function Vo(i,e,t,o){let u=i[t];const d=e.data;if(function Yd(i){return i instanceof Eu}(u)){const p=u;p.resolving&&function tu(i,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${i}`:"";throw new le(-200,`Circular dependency in DI detected for ${i}${t}`)}(function yn(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():Et(i)}(d[t]));const g=Pl(p.canSeeViewProviders);p.resolving=!0;const _=p.injectImpl?ot(p.injectImpl):null;Qp(i,o,it.Default);try{u=i[t]=p.factory(void 0,d,i,o),e.firstCreatePass&&t>=o.directiveStart&&function tm(i,e,t){const{ngOnChanges:o,ngOnInit:u,ngDoCheck:d}=e.type.prototype;if(o){const p=qd(e);(t.preOrderHooks??=[]).push(i,p),(t.preOrderCheckHooks??=[]).push(i,p)}u&&(t.preOrderHooks??=[]).push(0-i,u),d&&((t.preOrderHooks??=[]).push(i,d),(t.preOrderCheckHooks??=[]).push(i,d))}(t,d[t],e)}finally{null!==_&&ot(_),Pl(g),p.resolving=!1,Jp()}}return u}function Qo(i,e,t){return!!(t[e+(i>>Sc)]&1<<i)}function nr(i,e){return!(i&it.Self||i&it.Host&&e)}class yr{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,o){return ji(this._tNode,this._lView,e,ut(o),t)}}function Og(){return new yr(Rr(),we())}function ui(i){return Gr(()=>{const e=i.prototype.constructor,t=e[po]||Xn(e),o=Object.prototype;let u=Object.getPrototypeOf(i.prototype).constructor;for(;u&&u!==o;){const d=u[po]||Xn(u);if(d&&d!==t)return d;u=Object.getPrototypeOf(u)}return d=>new d})}function Xn(i){return _s(i)?()=>{const e=Xn(at(i));return e&&e()}:lc(i)}function Ui(i){const e=i[Ve],t=e.type;return 2===t?e.declTNode:1===t?i[yi]:null}const Jo="__parameters__";function Fl(i,e,t){return Gr(()=>{const o=function Iu(i){return function(...t){if(i){const o=i(...t);for(const u in o)this[u]=o[u]}}}(e);function u(...d){if(this instanceof u)return o.apply(this,d),this;const p=new u(...d);return g.annotation=p,g;function g(_,E,S){const x=_.hasOwnProperty(Jo)?_[Jo]:Object.defineProperty(_,Jo,{value:[]})[Jo];for(;x.length<=S;)x.push(null);return(x[S]=x[S]||[]).push(p),_}}return t&&(u.prototype=Object.create(t.prototype)),u.prototype.ngMetadataName=i,u.annotationCls=u,u})}function rh(i,e){i.forEach(t=>Array.isArray(t)?rh(t,e):e(t))}function ih(i,e,t){e>=i.length?i.push(t):i.splice(e,0,t)}function Ll(i,e){return e>=i.length-1?i.pop():i.splice(e,1)[0]}function Bo(i,e){const t=[];for(let o=0;o<i;o++)t.push(e);return t}function Hr(i,e,t){let o=sa(i,e);return o>=0?i[1|o]=t:(o=~o,function Pg(i,e,t,o){let u=i.length;if(u==e)i.push(t,o);else if(1===u)i.push(o,i[0]),i[0]=t;else{for(u--,i.push(i[u-1],i[u]);u>e;)i[u]=i[u-2],u--;i[e]=t,i[e+1]=o}}(i,o,e,t)),o}function Tu(i,e){const t=sa(i,e);if(t>=0)return i[1|t]}function sa(i,e){return function oh(i,e,t){let o=0,u=i.length>>t;for(;u!==o;){const d=o+(u-o>>1),p=i[d<<t];if(e===p)return d<<t;p>e?u=d:o=d+1}return~(u<<t)}(i,e,1)}const Au=hr(Fl("Optional"),8),sh=hr(Fl("SkipSelf"),4);var Co=(()=>((Co=Co||{})[Co.Important=1]="Important",Co[Co.DashCase=2]="DashCase",Co))();const dh=new Map;let qg=0;const Gf="__ngContext__";function Ci(i,e){jn(e)?(i[Gf]=e[du],function hh(i){dh.set(i[du],i)}(e)):i[Gf]=e}let Fa;function La(i,e){return Fa(i,e)}function Pc(i){const e=i[pr];return oe(e)?e[pr]:e}function Kf(i){return ku(i[Ji])}function Ru(i){return ku(i[Oo])}function ku(i){for(;null!==i&&!oe(i);)i=i[Oo];return i}function Fs(i,e,t,o,u){if(null!=o){let d,p=!1;oe(o)?d=o:jn(o)&&(p=!0,o=o[Dr]);const g=Un(o);0===i&&null!==t?null==u?Vc(e,t,g):Lc(e,t,g,u||null,!0):1===i&&null!==t?Lc(e,t,g,u||null,!0):2===i?function jc(i,e,t){const o=Bc(i,e);o&&function Zf(i,e,t,o){i.removeChild(e,t,o)}(i,o,e,t)}(e,g,p):3===i&&e.destroyNode(g),null!=d&&function Xl(i,e,t,o,u){const d=t[Po];d!==Un(t)&&Fs(e,i,o,d,u);for(let g=Ri;g<t.length;g++){const _=t[g];Zl(_[Ve],_,i,e,o,d)}}(e,i,d,t,u)}}function vh(i,e,t){return i.createElement(e,t)}function Wl(i,e){const t=i[Ts],o=t.indexOf(e);bi(e),t.splice(o,1)}function aa(i,e){if(i.length<=Ri)return;const t=Ri+e,o=i[t];if(o){const u=o[Ss];null!==u&&u!==i&&Wl(u,o),e>0&&(i[t-1][Oo]=o[Oo]);const d=Ll(i,Ri+e);!function hy(i,e){Zl(i,e,e[Dt],2,null,null),e[Dr]=null,e[yi]=null}(o[Ve],o);const p=d[Go];null!==p&&p.detachView(d[Ve]),o[pr]=null,o[Oo]=null,o[vt]&=-129}return o}function wm(i,e){if(!(256&e[vt])){const t=e[Dt];e[Js]?.destroy(),e[ac]?.destroy(),t.destroyNode&&Zl(i,e,t,3,null,null),function yh(i){let e=i[Ji];if(!e)return Kl(i[Ve],i);for(;e;){let t=null;if(jn(e))t=e[Ji];else{const o=e[Ri];o&&(t=o)}if(!t){for(;e&&!e[Oo]&&e!==i;)jn(e)&&Kl(e[Ve],e),e=e[pr];null===e&&(e=i),jn(e)&&Kl(e[Ve],e),t=e&&e[Oo]}e=t}}(e)}}function Kl(i,e){if(!(256&e[vt])){e[vt]&=-129,e[vt]|=256,function ns(i,e){let t;if(null!=i&&null!=(t=i.destroyHooks))for(let o=0;o<t.length;o+=2){const u=e[t[o]];if(!(u instanceof Eu)){const d=t[o+1];if(Array.isArray(d))for(let p=0;p<d.length;p+=2){const g=u[d[p]],_=d[p+1];ta(4,g,_);try{_.call(g)}finally{ta(5,g,_)}}else{ta(4,u,d);try{d.call(u)}finally{ta(5,u,d)}}}}}(i,e),function _h(i,e){const t=i.cleanup,o=e[oc];if(null!==t)for(let d=0;d<t.length-1;d+=2)if("string"==typeof t[d]){const p=t[d+3];p>=0?o[p]():o[-p].unsubscribe(),d+=2}else t[d].call(o[t[d+1]]);null!==o&&(e[oc]=null);const u=e[Xs];if(null!==u){for(let d=0;d<u.length;d++)(0,u[d])();e[Xs]=null}}(i,e),1===e[Ve].type&&e[Dt].destroy();const t=e[Ss];if(null!==t&&oe(e[pr])){t!==e[pr]&&Wl(t,e);const o=e[Go];null!==o&&o.detachView(i)}!function mm(i){dh.delete(i[du])}(e)}}function ua(i,e,t){return function Fc(i,e,t){let o=e;for(;null!==o&&40&o.type;)o=(e=o).parent;if(null===o)return t[Dr];{const{componentOffset:u}=o;if(u>-1){const{encapsulation:d}=i.data[o.directiveStart+u];if(d===Kn.None||d===Kn.Emulated)return null}return Vi(o,t)}}(i,e.parent,t)}function Lc(i,e,t,o,u){i.insertBefore(e,t,o,u)}function Vc(i,e,t){i.appendChild(e,t)}function bh(i,e,t,o,u){null!==o?Lc(i,e,t,o,u):Vc(i,e,t)}function Bc(i,e){return i.parentNode(e)}function Qg(i,e,t){return Eh(i,e,t)}let Yl,Th,Em,Eh=function Jg(i,e,t){return 40&i.type?Vi(i,t):null};function Va(i,e,t,o){const u=ua(i,o,e),d=e[Dt],g=Qg(o.parent||e[yi],o,e);if(null!=u)if(Array.isArray(t))for(let _=0;_<t.length;_++)bh(d,u,t[_],g,!1);else bh(d,u,t,g,!1);void 0!==Yl&&Yl(d,o,e,t,u)}function jo(i,e){if(null!==e){const t=e.type;if(3&t)return Vi(e,i);if(4&t)return Ba(-1,i[e.index]);if(8&t){const o=e.child;if(null!==o)return jo(i,o);{const u=i[e.index];return oe(u)?Ba(-1,u):Un(u)}}if(32&t)return La(e,i)()||Un(i[e.index]);{const o=Xf(i,e);return null!==o?Array.isArray(o)?o[0]:jo(Pc(i[Sr]),o):jo(i,e.next)}}return null}function Xf(i,e){return null!==e?i[Sr][yi].projection[e.projection]:null}function Ba(i,e){const t=Ri+i+1;if(t<e.length){const o=e[t],u=o[Ve].firstChild;if(null!==u)return jo(o,u)}return e[Po]}function Uc(i,e,t,o,u,d,p){for(;null!=t;){const g=o[t.index],_=t.type;if(p&&0===e&&(g&&Ci(Un(g),o),t.flags|=2),32!=(32&t.flags))if(8&_)Uc(i,e,t.child,o,u,d,!1),Fs(e,i,u,g,d);else if(32&_){const E=La(t,o);let S;for(;S=E();)Fs(e,i,u,S,d);Fs(e,i,u,g,d)}else 16&_?Sh(i,e,o,t,u,d):Fs(e,i,u,g,d);t=p?t.projectionNext:t.next}}function Zl(i,e,t,o,u,d){Uc(t,o,i.firstChild,e,u,d,!1)}function Sh(i,e,t,o,u,d){const p=t[Sr],_=p[yi].projection[o.projection];if(Array.isArray(_))for(let E=0;E<_.length;E++)Fs(e,i,u,_[E],d);else Uc(i,e,_,p[pr],u,d,!0)}function Qf(i,e,t){""===t?i.removeAttribute(e,"class"):i.setAttribute(e,"class",t)}function Ih(i,e,t){const{mergedAttrs:o,classes:u,styles:d}=t;null!==o&&gl(i,e,o),null!==u&&Qf(i,e,u),null!==d&&function gy(i,e,t){i.setAttribute(e,"style",t)}(i,e,d)}function Jl(i){return function Ql(){if(void 0===Th&&(Th=null,Vt.trustedTypes))try{Th=Vt.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Th}()?.createHTML(i)||i}class Ou{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ks})`}}class tv extends Ou{getTypeName(){return"HTML"}}class Dm extends Ou{getTypeName(){return"Style"}}class nv extends Ou{getTypeName(){return"Script"}}class rv extends Ou{getTypeName(){return"URL"}}class xh extends Ou{getTypeName(){return"ResourceURL"}}function Hi(i){return i instanceof Ou?i.changingThisBreaksApplicationSecurity:i}function Di(i,e){const t=function Rh(i){return i instanceof Ou&&i.getTypeName()||null}(i);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Ks})`)}return t===e}class yy{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Jl(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class ov{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=Jl(e),t}}const sv=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Hc(i){return(i=String(i)).match(sv)?i:"unsafe:"+i}function rs(i){const e={};for(const t of i.split(","))e[t]=!0;return e}function kh(...i){const e={};for(const t of i)for(const o in t)t.hasOwnProperty(o)&&(e[o]=!0);return e}const op=rs("area,br,col,hr,img,wbr"),Im=rs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Oh=rs("rp,rt"),ap=kh(op,kh(Im,rs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),kh(Oh,rs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),kh(Oh,Im)),Tm=rs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ca=kh(Tm,rs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),rs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Am=rs("script,style,template");class wy{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,o=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?o=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,o&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let u=this.checkClobberedElement(t,t.nextSibling);if(u){t=u;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!ap.hasOwnProperty(t))return this.sanitizedSomething=!0,!Am.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const o=e.attributes;for(let u=0;u<o.length;u++){const d=o.item(u),p=d.name,g=p.toLowerCase();if(!ca.hasOwnProperty(g)){this.sanitizedSomething=!0;continue}let _=d.value;Tm[g]&&(_=Hc(_)),this.buf.push(" ",p,'="',xm(_),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();ap.hasOwnProperty(t)&&!op.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(xm(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const cp=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Mm=/([^\#-~ |!])/g;function xm(i){return i.replace(/&/g,"&amp;").replace(cp,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Mm,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let zc;function nd(i,e){let t=null;try{zc=zc||function Nu(i){const e=new ov(i);return function _y(){try{return!!(new window.DOMParser).parseFromString(Jl(""),"text/html")}catch{return!1}}()?new yy(e):e}(i);let o=e?String(e):"";t=zc.getInertBodyElement(o);let u=5,d=o;do{if(0===u)throw new Error("Failed to sanitize html because the input is unstable");u--,o=d,d=t.innerHTML,t=zc.getInertBodyElement(o)}while(o!==d);return Jl((new wy).sanitizeChildren($c(t)||t))}finally{if(t){const o=$c(t)||t;for(;o.firstChild;)o.removeChild(o.firstChild)}}}function $c(i){return"content"in i&&function Rm(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var _n=(()=>((_n=_n||{})[_n.NONE=0]="NONE",_n[_n.HTML=1]="HTML",_n[_n.STYLE=2]="STYLE",_n[_n.SCRIPT=3]="SCRIPT",_n[_n.URL=4]="URL",_n[_n.RESOURCE_URL=5]="RESOURCE_URL",_n))();function Pu(i){const e=function Nh(){const i=we();return i&&i[Qi].sanitizer}();return e?e.sanitize(_n.URL,i)||"":Di(i,"URL")?Hi(i):Hc(Et(i))}class Ie{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=xe({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Gc=new Ie("ENVIRONMENT_INITIALIZER"),od=new Ie("INJECTOR",-1),dp=new Ie("INJECTOR_DEF_TYPES");class Ua{get(e,t=Qe){if(t===Qe){const o=new Error(`NullInjectorError: No provider for ${Mt(e)}!`);throw o.name="NullInjectorError",o}return t}}function Pm(...i){return{\u0275providers:sd(0,i),\u0275fromNgModule:!0}}function sd(i,...e){const t=[],o=new Set;let u;return rh(e,d=>{const p=d;ad(p,t,[],o)&&(u||=[],u.push(p))}),void 0!==u&&cn(u,t),t}function cn(i,e){for(let t=0;t<i.length;t++){const{providers:u}=i[t];Fu(u,d=>{e.push(d)})}}function ad(i,e,t,o){if(!(i=at(i)))return!1;let u=null,d=Ys(i);const p=!d&&Ht(i);if(d||p){if(p&&!p.standalone)return!1;u=i}else{const _=i.ngModule;if(d=Ys(_),!d)return!1;u=_}const g=o.has(u);if(p){if(g)return!1;if(o.add(u),p.dependencies){const _="function"==typeof p.dependencies?p.dependencies():p.dependencies;for(const E of _)ad(E,e,t,o)}}else{if(!d)return!1;{if(null!=d.imports&&!g){let E;o.add(u);try{rh(d.imports,S=>{ad(S,e,t,o)&&(E||=[],E.push(S))})}finally{}void 0!==E&&cn(E,e)}if(!g){const E=lc(u)||(()=>new u);e.push({provide:u,useFactory:E,deps:Wt},{provide:dp,useValue:u,multi:!0},{provide:Gc,useValue:()=>H(u),multi:!0})}const _=d.providers;null==_||g||Fu(_,S=>{e.push(S)})}}return u!==i&&void 0!==i.providers}function Fu(i,e){for(let t of i)eu(t)&&(t=t.\u0275providers),Array.isArray(t)?Fu(t,e):e(t)}const Tn=En({provide:String,useValue:En});function ei(i){return null!==i&&"object"==typeof i&&Tn in i}function la(i){return"function"==typeof i}const Kc=new Ie("Set Injector scope."),Lu={},Yc={};let hp;function Ph(){return void 0===hp&&(hp=new Ua),hp}class An{}class Xt extends An{get destroyed(){return this._destroyed}constructor(e,t,o,u){super(),this.parent=t,this.source=o,this.scopes=u,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Lh(e,p=>this.processProvider(p)),this.records.set(od,os(void 0,this)),u.has("environment")&&this.records.set(An,os(void 0,this));const d=this.records.get(Kc);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(dp.multi,Wt,it.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=be(this),o=ot(void 0);try{return e()}finally{be(t),ot(o)}}get(e,t=Qe,o=it.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(rc))return e[rc](this);o=ut(o);const u=be(this),d=ot(void 0);try{if(!(o&it.SkipSelf)){let g=this.records.get(e);if(void 0===g){const _=function Ey(i){return"function"==typeof i||"object"==typeof i&&i instanceof Ie}(e)&&ou(e);g=_&&this.injectableDefInScope(_)?os(fp(e),Lu):null,this.records.set(e,g)}if(null!=g)return this.hydrate(e,g)}return(o&it.Self?Ph():this.parent).get(e,t=o&it.Optional&&t===Qe?null:t)}catch(p){if("NullInjectorError"===p.name){if((p[Da]=p[Da]||[]).unshift(Mt(e)),u)throw p;return function Wn(i,e,t,o){const u=i[Da];throw e[U]&&u.unshift(e[U]),i.message=function wr(i,e,t,o=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let u=Mt(e);if(Array.isArray(e))u=e.map(Mt).join(" -> ");else if("object"==typeof e){let d=[];for(let p in e)if(e.hasOwnProperty(p)){let g=e[p];d.push(p+":"+("string"==typeof g?JSON.stringify(g):Mt(g)))}u=`{${d.join(", ")}}`}return`${t}${o?"("+o+")":""}[${u}]: ${i.replace(M,"\n  ")}`}("\n"+i.message,u,t,o),i.ngTokenPath=u,i[Da]=null,i}(p,e,"R3InjectorError",this.source)}throw p}finally{ot(d),be(u)}}resolveInjectorInitializers(){const e=be(this),t=ot(void 0);try{const o=this.get(Gc.multi,Wt,it.Self);for(const u of o)u()}finally{be(e),ot(t)}}toString(){const e=[],t=this.records;for(const o of t.keys())e.push(Mt(o));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new le(205,!1)}processProvider(e){let t=la(e=at(e))?e:at(e&&e.provide);const o=function hv(i){return ei(i)?os(void 0,i.useValue):os(Vs(i),Lu)}(e);if(la(e)||!0!==e.multi)this.records.get(t);else{let u=this.records.get(t);u||(u=os(void 0,Lu,!0),u.factory=()=>er(u.multi),this.records.set(t,u)),t=e,u.multi.push(e)}this.records.set(t,o)}hydrate(e,t){return t.value===Lu&&(t.value=Yc,t.value=t.factory()),"object"==typeof t.value&&t.value&&function Fh(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=at(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function fp(i){const e=ou(i),t=null!==e?e.factory:lc(i);if(null!==t)return t;if(i instanceof Ie)throw new le(204,!1);if(i instanceof Function)return function Lm(i){const e=i.length;if(e>0)throw Bo(e,"?"),new le(204,!1);const t=function Ju(i){return i&&(i[ec]||i[Ca])||null}(i);return null!==t?()=>t.factory(i):()=>new i}(i);throw new le(204,!1)}function Vs(i,e,t){let o;if(la(i)){const u=at(i);return lc(u)||fp(u)}if(ei(i))o=()=>at(i.useValue);else if(function is(i){return!(!i||!i.useFactory)}(i))o=()=>i.useFactory(...er(i.deps||[]));else if(function Ls(i){return!(!i||!i.useExisting)}(i))o=()=>H(at(i.useExisting));else{const u=at(i&&(i.useClass||i.provide));if(!function Ha(i){return!!i.deps}(i))return lc(u)||fp(u);o=()=>new u(...er(i.deps))}return o}function os(i,e,t=!1){return{factory:i,value:e,multi:t?[]:void 0}}function Lh(i,e){for(const t of i)Array.isArray(t)?Lh(t,e):t&&eu(t)?Lh(t.\u0275providers,e):e(t)}const Zc=new Ie("AppId",{providedIn:"root",factory:()=>fv}),fv="ng",Vh=new Ie("Platform Initializer"),io=new Ie("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Uo=new Ie("AnimationModuleType"),cd=new Ie("CSP nonce",{providedIn:"root",factory:()=>function ed(){return void 0!==Em?Em:typeof document<"u"?document:void 0}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let ha=(i,e)=>null;function Jc(i,e){return ha(i,e)}class _p{}class Wh{}class Iy{resolveComponentFactory(e){throw function bp(i){const e=Error(`No component factory found for ${Mt(i)}.`);return e.ngComponent=i,e}(e)}}let So=(()=>{class i{}return i.NULL=new Iy,i})();function el(){return $a(Rr(),we())}function $a(i,e){return new Nn(Vi(i,e))}let Nn=(()=>{class i{constructor(t){this.nativeElement=t}}return i.__NG_ELEMENT_ID__=el,i})();function wp(i){return i instanceof Nn?i.nativeElement:i}class pa{}let us=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function Ze(){const i=we(),t=Zr(Rr().index,i);return(jn(t)?t:i)[Dt]}(),i})(),Ep=(()=>{class i{}return i.\u0275prov=xe({token:i,providedIn:"root",factory:()=>null}),i})();class Qn{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const tl=new Qn("16.0.0"),cs={};function pd(i){for(;i;){i[vt]|=64;const e=Pc(i);if(mr(i)&&!e)return i;i=e}return null}function Us(i){return i.ngOriginalError}class ls{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Us(e);for(;t&&Us(t);)t=Us(t);return t||null}}const zn=new Ie("",{providedIn:"root",factory:()=>!1});function D(i){return i instanceof Function?i():i}class l extends Cl{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(e){this._lView=e}onConsumerDependencyMayHaveChanged(){pd(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(e,t,o){const u=Yn(this);this.trackingVersion++;try{e(t,o)}finally{Yn(u)}}destroy(){this.trackingVersion++}}let h=null;function m(){return h??=new l,h}function y(i,e){return i[e]??m()}function b(i,e){const t=m();t.hasReadASignal&&(i[e]=h,t.lView=i,h=new l)}const C={};function T(i){O(jt(),we(),Qr()+i,!1)}function O(i,e,t,o){if(!o)if(3==(3&e[vt])){const d=i.preOrderCheckHooks;null!==d&&wc(e,d,t)}else{const d=i.preOrderHooks;null!==d&&Nl(e,d,0,t)}ka(t)}function bn(i,e=null,t=null,o){const u=$n(i,e,t,o);return u.resolveInjectorInitializers(),u}function $n(i,e=null,t=null,o,u=new Set){const d=[t||Wt,Pm(i)];return o=o||("object"==typeof i?void 0:Mt(i)),new Xt(d,e||Ph(),o||null,u)}let Dn=(()=>{class i{static create(t,o){if(Array.isArray(t))return bn({name:""},o,t,"");{const u=t.name??"";return bn({name:u},t.parent,t.providers,u)}}}return i.THROW_IF_NOT_FOUND=Qe,i.NULL=new Ua,i.\u0275prov=xe({token:i,providedIn:"any",factory:()=>H(od)}),i.__NG_ELEMENT_ID__=-1,i})();function ee(i,e=it.Default){const t=we();return null===t?H(i,e):ji(Rr(),t,at(i),e)}function gd(){throw new Error("invalid")}function Hm(i,e,t,o,u,d,p,g,_,E,S){const x=e.blueprint.slice();return x[Dr]=u,x[vt]=140|o,(null!==E||i&&2048&i[vt])&&(x[vt]|=2048),vc(x),x[pr]=x[No]=i,x[lr]=t,x[Qi]=p||i&&i[Qi],x[Dt]=g||i&&i[Dt],x[yo]=_||i&&i[yo]||null,x[yi]=d,x[du]=function Gg(){return qg++}(),x[Qs]=S,x[xi]=E,x[Sr]=2==e.type?i[Sr]:x,x}function mv(i,e,t,o,u){let d=i.data[e];if(null===d)d=function nw(i,e,t,o,u){const d=yc(),p=vr(),_=i.data[e]=function eO(i,e,t,o,u,d){return{type:t,index:o,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:u,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,p?d:d&&d.parent,t,e,o,u);return null===i.firstChild&&(i.firstChild=_),null!==d&&(p?null==d.child&&null!==_.parent&&(d.child=_):null===d.next&&(d.next=_,_.prev=d)),_}(i,e,t,o,u),function yu(){return lt.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=t,d.value=o,d.attrs=u;const p=function Yo(){const i=lt.lFrame,e=i.currentTNode;return i.isParent?e:e.parent}();d.injectorIndex=null===p?-1:p.injectorIndex}return to(d,!0),d}function Ty(i,e,t,o){if(0===t)return-1;const u=e.length;for(let d=0;d<t;d++)e.push(o),i.blueprint.push(o),i.data.push(null);return u}function qD(i,e,t,o,u){const d=y(e,Js),p=Qr(),g=2&o;try{if(ka(-1),g&&e.length>Bt&&O(i,e,Bt,!1),ta(g?2:0,u),g)d.runInContext(t,o,u);else{const E=Yn(null);try{t(o,u)}finally{Yn(E)}}}finally{g&&null===e[Js]&&b(e,Js),ka(p),ta(g?3:1,u)}}function rw(i,e,t){if(Ee(e)){const o=Yn(null);try{const d=e.directiveEnd;for(let p=e.directiveStart;p<d;p++){const g=i.data[p];g.contentQueries&&g.contentQueries(1,t[p],p)}}finally{Yn(o)}}}function iw(i,e,t){Kd()&&(function aO(i,e,t,o){const u=t.directiveStart,d=t.directiveEnd;Kr(t)&&function pO(i,e,t){const o=Vi(e,i),p=X_(i,Hm(i,GD(t),null,t.onPush?64:16,o,e,null,i[Qi].rendererFactory.createRenderer(o,t),null,null,null));i[e.index]=p}(e,t,i.data[u+t.componentOffset]),i.firstCreatePass||kf(t,e),Ci(o,e);const p=t.initialInputs;for(let g=u;g<d;g++){const _=i.data[g],E=Vo(e,i,g,t);Ci(E,e),null!==p&&mO(0,g-u,E,_,0,p),Ce(_)&&(Zr(t.index,e)[lr]=Vo(e,i,g,t))}}(i,e,t,Vi(t,e)),64==(64&t.flags)&&XD(i,e,t))}function ow(i,e,t=Vi){const o=e.localNames;if(null!==o){let u=e.index+1;for(let d=0;d<o.length;d+=2){const p=o[d+1],g=-1===p?t(e,i):i[p];i[u++]=g}}}function GD(i){const e=i.tView;return null===e||e.incompleteFirstPass?i.tView=sw(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):e}function sw(i,e,t,o,u,d,p,g,_,E,S){const x=Bt+o,L=x+u,V=function Kk(i,e){const t=[];for(let o=0;o<e;o++)t.push(o<i?null:C);return t}(x,L),$="function"==typeof E?E():E;return V[Ve]={type:i,blueprint:V,template:t,queries:null,viewQuery:g,declTNode:e,data:V.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof p?p():p,firstChild:null,schemas:_,consts:$,incompleteFirstPass:!1,ssrId:S}}let WD=i=>null;function KD(i,e,t,o){for(let u in i)if(i.hasOwnProperty(u)){t=null===t?{}:t;const d=i[u];null===o?YD(t,e,u,d):o.hasOwnProperty(u)&&YD(t,e,o[u],d)}return t}function YD(i,e,t,o){i.hasOwnProperty(t)?i[t].push(e,o):i[t]=[e,o]}function qa(i,e,t,o,u,d,p,g){const _=Vi(e,t);let S,E=e.inputs;!g&&null!=E&&(S=E[o])?(dw(i,t,S,o,u),Kr(e)&&function rO(i,e){const t=Zr(e,i);16&t[vt]||(t[vt]|=64)}(t,e.index)):3&e.type&&(o=function nO(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(o),u=null!=p?p(u,e.value||"",o):u,d.setProperty(_,o,u))}function aw(i,e,t,o){if(Kd()){const u=null===o?null:{"":-1},d=function cO(i,e){const t=i.directiveRegistry;let o=null,u=null;if(t)for(let d=0;d<t.length;d++){const p=t[d];if(Up(e,p.selectors,!1))if(o||(o=[]),Ce(p))if(null!==p.findHostDirectiveDefs){const g=[];u=u||new Map,p.findHostDirectiveDefs(p,g,u),o.unshift(...g,p),uw(i,e,g.length)}else o.unshift(p),uw(i,e,0);else u=u||new Map,p.findHostDirectiveDefs?.(p,o,u),o.push(p)}return null===o?null:[o,u]}(i,t);let p,g;null===d?p=g=null:[p,g]=d,null!==p&&ZD(i,e,t,p,u,g),u&&function lO(i,e,t){if(e){const o=i.localNames=[];for(let u=0;u<e.length;u+=2){const d=t[e[u+1]];if(null==d)throw new le(-301,!1);o.push(e[u],d)}}}(t,o,u)}t.mergedAttrs=uu(t.mergedAttrs,t.attrs)}function ZD(i,e,t,o,u,d){for(let E=0;E<o.length;E++)Of(kf(t,e),i,o[E].type);!function hO(i,e,t){i.flags|=1,i.directiveStart=e,i.directiveEnd=e+t,i.providerIndexes=e}(t,i.data.length,o.length);for(let E=0;E<o.length;E++){const S=o[E];S.providersResolver&&S.providersResolver(S)}let p=!1,g=!1,_=Ty(i,e,o.length,null);for(let E=0;E<o.length;E++){const S=o[E];t.mergedAttrs=uu(t.mergedAttrs,S.hostAttrs),fO(i,t,e,_,S),dO(_,S,u),null!==S.contentQueries&&(t.flags|=4),(null!==S.hostBindings||null!==S.hostAttrs||0!==S.hostVars)&&(t.flags|=64);const x=S.type.prototype;!p&&(x.ngOnChanges||x.ngOnInit||x.ngDoCheck)&&((i.preOrderHooks??=[]).push(t.index),p=!0),!g&&(x.ngOnChanges||x.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(t.index),g=!0),_++}!function tO(i,e,t){const u=e.directiveEnd,d=i.data,p=e.attrs,g=[];let _=null,E=null;for(let S=e.directiveStart;S<u;S++){const x=d[S],L=t?t.get(x):null,$=L?L.outputs:null;_=KD(x.inputs,S,_,L?L.inputs:null),E=KD(x.outputs,S,E,$);const Y=null===_||null===p||mf(e)?null:gO(_,S,p);g.push(Y)}null!==_&&(_.hasOwnProperty("class")&&(e.flags|=8),_.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=g,e.inputs=_,e.outputs=E}(i,t,d)}function XD(i,e,t){const o=t.directiveStart,u=t.directiveEnd,d=t.index,p=function kr(){return lt.lFrame.currentDirectiveIndex}();try{ka(d);for(let g=o;g<u;g++){const _=i.data[g],E=e[g];Ot(g),(null!==_.hostBindings||0!==_.hostVars||null!==_.hostAttrs)&&uO(_,E)}}finally{ka(-1),Ot(p)}}function uO(i,e){null!==i.hostBindings&&i.hostBindings(1,e)}function uw(i,e,t){e.componentOffset=t,(i.components??=[]).push(e.index)}function dO(i,e,t){if(t){if(e.exportAs)for(let o=0;o<e.exportAs.length;o++)t[e.exportAs[o]]=i;Ce(e)&&(t[""]=i)}}function fO(i,e,t,o,u){i.data[o]=u;const d=u.factory||(u.factory=lc(u.type)),p=new Eu(d,Ce(u),ee);i.blueprint[o]=p,t[o]=p,function oO(i,e,t,o,u){const d=u.hostBindings;if(d){let p=i.hostBindingOpCodes;null===p&&(p=i.hostBindingOpCodes=[]);const g=~e.index;(function sO(i){let e=i.length;for(;e>0;){const t=i[--e];if("number"==typeof t&&t<0)return t}return 0})(p)!=g&&p.push(g),p.push(t,o,d)}}(i,e,o,Ty(i,t,u.hostVars,C),u)}function vd(i,e,t,o,u,d){const p=Vi(i,e);!function cw(i,e,t,o,u,d,p){if(null==d)i.removeAttribute(e,u,t);else{const g=null==p?Et(d):p(d,o||"",u);i.setAttribute(e,u,g,t)}}(e[Dt],p,d,i.value,t,o,u)}function mO(i,e,t,o,u,d){const p=d[e];if(null!==p)for(let g=0;g<p.length;)QD(o,t,p[g++],p[g++],p[g++])}function QD(i,e,t,o,u){const d=Yn(null);try{null!==i.setInput?i.setInput(e,u,t,o):e[o]=u}finally{Yn(d)}}function gO(i,e,t){let o=null,u=0;for(;u<t.length;){const d=t[u];if(0!==d)if(5!==d){if("number"==typeof d)break;if(i.hasOwnProperty(d)){null===o&&(o=[]);const p=i[d];for(let g=0;g<p.length;g+=2)if(p[g]===e){o.push(d,p[g+1],t[u+1]);break}}u+=2}else u+=2;else u+=4}return o}function JD(i,e,t,o){return[i,!0,!1,e,null,0,o,t,null,null,null]}function eS(i,e){const t=i.contentQueries;if(null!==t)for(let o=0;o<t.length;o+=2){const d=t[o+1];if(-1!==d){const p=i.data[d];Tf(t[o]),p.contentQueries(2,e[d],d)}}}function X_(i,e){return i[Ji]?i[Bd][Oo]=e:i[Ji]=e,i[Bd]=e,e}function lw(i,e,t){Tf(0);const o=Yn(null);try{e(i,t)}finally{Yn(o)}}function tS(i){return i[oc]||(i[oc]=[])}function nS(i){return i.cleanup||(i.cleanup=[])}function rS(i,e,t){return(null===i||Ce(i))&&(t=function mc(i){for(;Array.isArray(i);){if("object"==typeof i[jd])return i;i=i[Dr]}return null}(t[e.index])),t[Dt]}function iS(i,e){const t=i[yo],o=t?t.get(ls,null):null;o&&o.handleError(e)}function dw(i,e,t,o,u){for(let d=0;d<t.length;){const p=t[d++],g=t[d++];QD(i.data[p],e[p],o,g,u)}}function vO(i,e){const t=Zr(e,i),o=t[Ve];!function yO(i,e){for(let t=e.length;t<i.blueprint.length;t++)e.push(i.blueprint[t])}(o,t);const u=t[Dr];null!==u&&null===t[Qs]&&(t[Qs]=Jc(u,t[yo])),hw(o,t,t[lr])}function hw(i,e,t){kn(e);try{const o=i.viewQuery;null!==o&&lw(1,o,t);const u=i.template;null!==u&&qD(i,e,u,1,t),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&eS(i,e),i.staticViewQueries&&lw(2,i.viewQuery,t);const d=i.components;null!==d&&function _O(i,e){for(let t=0;t<e.length;t++)vO(i,e[t])}(e,d)}catch(o){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),o}finally{e[vt]&=-5,_c()}}let oS=(()=>{class i{constructor(){this.all=new Set,this.queue=new Map}create(t,o,u){const d=typeof Zone>"u"?null:Zone.current,p=new Eg(t,E=>{this.all.has(E)&&this.queue.set(E,d)},u);let g;this.all.add(p),p.notify();const _=()=>{p.cleanup(),g?.(),this.all.delete(p),this.queue.delete(p)};return g=o?.onDestroy(_),{destroy:_}}flush(){if(0!==this.queue.size)for(const[t,o]of this.queue)this.queue.delete(t),o?o.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}}return i.\u0275prov=xe({token:i,providedIn:"root",factory:()=>new i}),i})();function Q_(i,e,t){let o=t?i.styles:null,u=t?i.classes:null,d=0;if(null!==e)for(let p=0;p<e.length;p++){const g=e[p];"number"==typeof g?d=g:1==d?u=ys(u,g):2==d&&(o=ys(o,g+": "+e[++p]+";"))}t?i.styles=o:i.stylesWithoutHost=o,t?i.classes=u:i.classesWithoutHost=u}function Ay(i,e,t,o,u=!1){for(;null!==t;){const d=e[t.index];if(null!==d&&o.push(Un(d)),oe(d)){for(let g=Ri;g<d.length;g++){const _=d[g],E=_[Ve].firstChild;null!==E&&Ay(_[Ve],_,E,o)}d[Po]!==d[Dr]&&o.push(d[Po])}const p=t.type;if(8&p)Ay(i,e,t.child,o);else if(32&p){const g=La(t,e);let _;for(;_=g();)o.push(_)}else if(16&p){const g=Xf(e,t);if(Array.isArray(g))o.push(...g);else{const _=Pc(e[Sr]);Ay(_[Ve],_,g,o,!0)}}t=u?t.projectionNext:t.next}return o}function J_(i,e,t,o=!0){const u=e[Qi].rendererFactory;u.begin&&u.begin();try{eb(i,e,i.template,t)}catch(p){throw o&&iS(e,p),p}finally{u.end&&u.end(),e[Qi].effectManager?.flush()}}function eb(i,e,t,o){const u=e[vt];if(256!=(256&u)){e[Qi].effectManager?.flush(),kn(e);try{vc(e),function Ma(i){return lt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==t&&qD(i,e,t,2,o);const p=3==(3&u);if(p){const E=i.preOrderCheckHooks;null!==E&&wc(e,E,null)}else{const E=i.preOrderHooks;null!==E&&Nl(e,E,0,null),Ec(e,0)}if(function SO(i){for(let e=Kf(i);null!==e;e=Ru(e)){if(!e[$p])continue;const t=e[Ts];for(let o=0;o<t.length;o++){Ml(t[o])}}}(e),function DO(i){for(let e=Kf(i);null!==e;e=Ru(e))for(let t=Ri;t<e.length;t++){const o=e[t],u=o[Ve];gu(o)&&eb(u,o,u.template,o[lr])}}(e),null!==i.contentQueries&&eS(i,e),p){const E=i.contentCheckHooks;null!==E&&wc(e,E)}else{const E=i.contentHooks;null!==E&&Nl(e,E,1),Ec(e,1)}!function Z_(i,e){const t=i.hostBindingOpCodes;if(null===t)return;const o=y(e,ac);try{for(let u=0;u<t.length;u++){const d=t[u];if(d<0)ka(~d);else{const p=d,g=t[++u],_=t[++u];_u(g,p),o.runInContext(_,2,e[p])}}}finally{null===e[ac]&&b(e,ac),ka(-1)}}(i,e);const g=i.components;null!==g&&function TO(i,e){for(let t=0;t<e.length;t++)IO(i,e[t])}(e,g);const _=i.viewQuery;if(null!==_&&lw(2,_,o),p){const E=i.viewCheckHooks;null!==E&&wc(e,E)}else{const E=i.viewHooks;null!==E&&Nl(e,E,2),Ec(e,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),e[vt]&=-73,bi(e)}finally{_c()}}}function IO(i,e){const t=Zr(e,i);if(gu(t)){const o=t[Ve];80&t[vt]?eb(o,t,o.template,t[lr]):t[Ds]>0&&fw(t)}}function fw(i){for(let o=Kf(i);null!==o;o=Ru(o))for(let u=Ri;u<o.length;u++){const d=o[u];if(gu(d))if(1024&d[vt]){const p=d[Ve];eb(p,d,p.template,d[lr])}else d[Ds]>0&&fw(d)}const t=i[Ve].components;if(null!==t)for(let o=0;o<t.length;o++){const u=Zr(t[o],i);gu(u)&&u[Ds]>0&&fw(u)}}class My{get rootNodes(){const e=this._lView,t=e[Ve];return Ay(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[lr]}set context(e){this._lView[lr]=e}get destroyed(){return 256==(256&this._lView[vt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[pr];if(oe(e)){const t=e[Is],o=t?t.indexOf(this):-1;o>-1&&(aa(e,o),Ll(t,o))}this._attachedToViewContainer=!1}wm(this._lView[Ve],this._lView)}onDestroy(e){!function xl(i,e){if(256==(256&i[vt]))throw new le(911,!1);null===i[Xs]&&(i[Xs]=[]),i[Xs].push(e)}(this._lView,e)}markForCheck(){pd(this._cdRefInjectingView||this._lView)}detach(){this._lView[vt]&=-129}reattach(){this._lView[vt]|=128}detectChanges(){J_(this._lView[Ve],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new le(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function bm(i,e){Zl(i,e,e[Dt],2,null,null)}(this._lView[Ve],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new le(902,!1);this._appRef=e}}class AO extends My{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;J_(e[Ve],e,e[lr],!1)}checkNoChanges(){}get context(){return null}}class sS extends So{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Ht(e);return new xy(t,this.ngModule)}}function aS(i){const e=[];for(let t in i)i.hasOwnProperty(t)&&e.push({propName:i[t],templateName:t});return e}class xO{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,o){o=ut(o);const u=this.injector.get(e,cs,o);return u!==cs||t===cs?u:this.parentInjector.get(e,t,o)}}class xy extends Wh{get inputs(){return aS(this.componentDef.inputs)}get outputs(){return aS(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function Wr(i){return i.map(ic).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,o,u){let d=(u=u||this.ngModule)instanceof An?u:u?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const p=d?new xO(e,d):e,g=p.get(pa,null);if(null===g)throw new le(407,!1);const S={rendererFactory:g,sanitizer:p.get(Ep,null),effectManager:p.get(oS,null)},x=g.createRenderer(null,this.componentDef),L=this.componentDef.selectors[0][0]||"div",V=o?function Yk(i,e,t,o){const d=o.get(zn,!1)||t===Kn.ShadowDom,p=i.selectRootElement(e,d);return function Zk(i){WD(i)}(p),p}(x,o,this.componentDef.encapsulation,p):vh(x,L,function MO(i){const e=i.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(L)),$=this.componentDef.onPush?576:528,Y=sw(0,null,null,1,0,null,null,null,null,null,null),ue=Hm(null,Y,null,$,null,null,S,x,p,null,null);let ve,ae;kn(ue);try{const ze=this.componentDef;let et,Ut=null;ze.findHostDirectiveDefs?(et=[],Ut=new Map,ze.findHostDirectiveDefs(ze,et,Ut),et.push(ze)):et=[ze];const ri=function kO(i,e){const t=i[Ve],o=Bt;return i[o]=e,mv(t,o,2,"#host",null)}(ue,V),co=function OO(i,e,t,o,u,d,p){const g=u[Ve];!function NO(i,e,t,o){for(const u of i)e.mergedAttrs=uu(e.mergedAttrs,u.hostAttrs);null!==e.mergedAttrs&&(Q_(e,e.mergedAttrs,!0),null!==t&&Ih(o,t,e))}(o,i,e,p);let _=null;null!==e&&(_=Jc(e,u[yo]));const E=d.rendererFactory.createRenderer(e,t),S=Hm(u,GD(t),null,t.onPush?64:16,u[i.index],i,d,E,null,null,_);return g.firstCreatePass&&uw(g,i,o.length-1),X_(u,S),u[i.index]=S}(ri,V,ze,et,ue,S,x);ae=Ko(Y,Bt),V&&function FO(i,e,t,o){if(o)gl(i,t,["ng-version",tl.full]);else{const{attrs:u,classes:d}=function vg(i){const e=[],t=[];let o=1,u=2;for(;o<i.length;){let d=i[o];if("string"==typeof d)2===u?""!==d&&e.push(d,i[++o]):8===u&&t.push(d);else{if(!fr(u))break;u=d}o++}return{attrs:e,classes:t}}(e.selectors[0]);u&&gl(i,t,u),d&&d.length>0&&Qf(i,t,d.join(" "))}}(x,ze,V,o),void 0!==t&&function LO(i,e,t){const o=i.projection=[];for(let u=0;u<e.length;u++){const d=t[u];o.push(null!=d?Array.from(d):null)}}(ae,this.ngContentSelectors,t),ve=function PO(i,e,t,o,u,d){const p=Rr(),g=u[Ve],_=Vi(p,u);ZD(g,u,p,t,null,o);for(let S=0;S<t.length;S++)Ci(Vo(u,g,p.directiveStart+S,p),u);XD(g,u,p),_&&Ci(_,u);const E=Vo(u,g,p.directiveStart+p.componentOffset,p);if(i[lr]=u[lr]=E,null!==d)for(const S of d)S(E,e);return rw(g,p,i),E}(co,ze,et,Ut,ue,[VO]),hw(Y,ue,null)}finally{_c()}return new RO(this.componentType,ve,$a(ae,ue),ue,ae)}}class RO extends _p{constructor(e,t,o,u,d){super(),this.location=o,this._rootLView=u,this._tNode=d,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new AO(u),this.componentType=e}setInput(e,t){const o=this._tNode.inputs;let u;if(null!==o&&(u=o[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const d=this._rootLView;dw(d[Ve],d,u,e,t),this.previousInputValues.set(e,t),pd(Zr(this._tNode.index,d))}}get injector(){return new yr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function VO(){const i=Rr();bc(we()[Ve],i)}function vn(i){let e=function uS(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),t=!0;const o=[i];for(;e;){let u;if(Ce(i))u=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new le(903,!1);u=e.\u0275dir}if(u){if(t){o.push(u);const p=i;p.inputs=pw(i.inputs),p.declaredInputs=pw(i.declaredInputs),p.outputs=pw(i.outputs);const g=u.hostBindings;g&&HO(i,g);const _=u.viewQuery,E=u.contentQueries;if(_&&jO(i,_),E&&UO(i,E),fo(i.inputs,u.inputs),fo(i.declaredInputs,u.declaredInputs),fo(i.outputs,u.outputs),Ce(u)&&u.data.animation){const S=i.data;S.animation=(S.animation||[]).concat(u.data.animation)}}const d=u.features;if(d)for(let p=0;p<d.length;p++){const g=d[p];g&&g.ngInherit&&g(i),g===vn&&(t=!1)}}e=Object.getPrototypeOf(e)}!function BO(i){let e=0,t=null;for(let o=i.length-1;o>=0;o--){const u=i[o];u.hostVars=e+=u.hostVars,u.hostAttrs=uu(u.hostAttrs,t=uu(t,u.hostAttrs))}}(o)}function pw(i){return i===Lr?{}:i===Wt?[]:i}function jO(i,e){const t=i.viewQuery;i.viewQuery=t?(o,u)=>{e(o,u),t(o,u)}:e}function UO(i,e){const t=i.contentQueries;i.contentQueries=t?(o,u,d)=>{e(o,u,d),t(o,u,d)}:e}function HO(i,e){const t=i.hostBindings;i.hostBindings=t?(o,u)=>{e(o,u),t(o,u)}:e}function tb(i){return!!mw(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function mw(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function ds(i,e,t){return!Object.is(i[e],t)&&(i[e]=t,!0)}function hs(i,e,t,o){const u=we();return ds(u,xs(),e)&&(jt(),vd(gn(),u,i,e,t,o)),hs}function vv(i,e,t,o){return ds(i,xs(),t)?e+Et(t)+o:C}function oo(i,e,t,o,u,d,p,g){const _=we(),E=jt(),S=i+Bt,x=E.firstCreatePass?function fN(i,e,t,o,u,d,p,g,_){const E=e.consts,S=mv(e,i,4,p||null,Ms(E,g));aw(e,t,S,Ms(E,_)),bc(e,S);const x=S.tView=sw(2,S,o,u,d,e.directiveRegistry,e.pipeRegistry,null,e.schemas,E,null);return null!==e.queries&&(e.queries.template(e,S),x.queries=e.queries.embeddedTView(S)),S}(S,E,_,e,t,o,u,d,p):E.data[S];to(x,!1);const L=DS(E,_,x,i);ra()&&Va(E,_,L,x),Ci(L,_),X_(_,_[S]=JD(L,_,L,x)),ki(x)&&iw(E,_,x),null!=p&&ow(_,x,g)}let DS=function SS(i,e,t,o){return Lo(!0),e[Dt].createComment("")};function nl(i){return function mu(i,e){return i[e]}(function Rl(){return lt.lFrame.contextLView}(),Bt+i)}function li(i,e,t){const o=we();return ds(o,xs(),e)&&qa(jt(),gn(),o,i,e,o[Dt],t,!1),li}function ww(i,e,t,o,u){const p=u?"class":"style";dw(i,t,e.inputs[p],p,o)}function st(i,e,t,o){const u=we(),d=jt(),p=Bt+i,g=u[Dt],_=d.firstCreatePass?function vN(i,e,t,o,u,d){const p=e.consts,_=mv(e,i,2,o,Ms(p,u));return aw(e,t,_,Ms(p,d)),null!==_.attrs&&Q_(_,_.attrs,!1),null!==_.mergedAttrs&&Q_(_,_.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,_),_}(p,d,u,e,t,o):d.data[p],E=IS(d,u,_,g,e,i);u[p]=E;const S=ki(_);return to(_,!0),Ih(g,E,_),32!=(32&_.flags)&&ra()&&Va(d,u,E,_),0===function Ig(){return lt.lFrame.elementDepthCount}()&&Ci(E,u),function Wd(){lt.lFrame.elementDepthCount++}(),S&&(iw(d,u,_),rw(d,_,u)),null!==o&&ow(u,_),st}function yt(){let i=Rr();vr()?Zo():(i=i.parent,to(i,!1));const e=i;(function Xp(i){return lt.skipHydrationRootTNode===i})(e)&&function vu(){lt.skipHydrationRootTNode=null}(),function Df(){lt.lFrame.elementDepthCount--}();const t=jt();return t.firstCreatePass&&(bc(t,i),Ee(i)&&t.queries.elementEnd(i)),null!=e.classesWithoutHost&&function Zd(i){return 0!=(8&i.flags)}(e)&&ww(t,e,we(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function ks(i){return 0!=(16&i.flags)}(e)&&ww(t,e,we(),e.stylesWithoutHost,!1),yt}function To(i,e,t,o){return st(i,e,t,o),yt(),To}let IS=(i,e,t,o,u,d)=>(Lo(!0),vh(o,u,function Ol(){return lt.lFrame.currentNamespace}()));function fs(){return we()}function Py(i){return!!i&&"function"==typeof i.then}function MS(i){return!!i&&"function"==typeof i.subscribe}function hn(i,e,t,o){const u=we(),d=jt(),p=Rr();return xS(d,u,u[Dt],p,i,e,o),hn}function Dw(i,e){const t=Rr(),o=we(),u=jt();return xS(u,o,rS(bu(u.data),t,o),t,i,e),Dw}function xS(i,e,t,o,u,d,p){const g=ki(o),E=i.firstCreatePass&&nS(i),S=e[lr],x=tS(e);let L=!0;if(3&o.type||p){const Y=Vi(o,e),ue=p?p(Y):Y,ve=x.length,ae=p?et=>p(Un(et[o.index])):o.index;let ze=null;if(!p&&g&&(ze=function CN(i,e,t,o){const u=i.cleanup;if(null!=u)for(let d=0;d<u.length-1;d+=2){const p=u[d];if(p===t&&u[d+1]===o){const g=e[oc],_=u[d+2];return g.length>_?g[_]:null}"string"==typeof p&&(d+=2)}return null}(i,e,u,o.index)),null!==ze)(ze.__ngLastListenerFn__||ze).__ngNextListenerFn__=d,ze.__ngLastListenerFn__=d,L=!1;else{d=kS(o,e,S,d,!1);const et=t.listen(ue,u,d);x.push(d,et),E&&E.push(u,ae,ve,ve+1)}}else d=kS(o,e,S,d,!1);const V=o.outputs;let $;if(L&&null!==V&&($=V[u])){const Y=$.length;if(Y)for(let ue=0;ue<Y;ue+=2){const Ut=e[$[ue]][$[ue+1]].subscribe(d),ri=x.length;x.push(d,Ut),E&&E.push(u,o.index,ri,-(ri+1))}}}function RS(i,e,t,o){try{return ta(6,e,t),!1!==t(o)}catch(u){return iS(i,u),!1}finally{ta(7,e,t)}}function kS(i,e,t,o,u){return function d(p){if(p===Function)return o;pd(i.componentOffset>-1?Zr(i.index,e):e);let _=RS(e,t,o,p),E=d.__ngNextListenerFn__;for(;E;)_=RS(e,t,E,p)&&_,E=E.__ngNextListenerFn__;return u&&!1===_&&(p.preventDefault(),p.returnValue=!1),_}}function ga(i=1){return function Br(i){return(lt.lFrame.contextLView=function Ag(i,e){for(;i>0;)e=e[No],i--;return e}(i,lt.lFrame.contextLView))[lr]}(i)}function DN(i,e){let t=null;const o=function Ld(i){const e=i.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(i);for(let u=0;u<e.length;u++){const d=e[u];if("*"!==d){if(null===o?Up(i,d,!0):yl(o,d))return u}else t=u}return t}function $m(i){const e=we()[Sr][yi];if(!e.projection){const o=e.projection=Bo(i?i.length:1,null),u=o.slice();let d=e.child;for(;null!==d;){const p=i?DN(d,i):0;null!==p&&(u[p]?u[p].projectionNext=d:o[p]=d,u[p]=d),d=d.next}}}function Hs(i,e=0,t){const o=we(),u=jt(),d=mv(u,Bt+i,16,null,t||null);null===d.projection&&(d.projection=e),Zo(),(!o[Qs]||function Aa(){return null!==lt.skipHydrationRootTNode}())&&32!=(32&d.flags)&&function py(i,e,t){Sh(e[Dt],0,e,t,ua(i,t,e),Qg(t.parent||e[yi],t,e))}(u,o,d)}function Sw(i,e,t){return Iw(i,"",e,"",t),Sw}function Iw(i,e,t,o,u){const d=we(),p=vv(d,e,t,o);return p!==C&&qa(jt(),gn(),d,i,p,d[Dt],u,!1),Iw}function sb(i,e){return i<<17|e<<2}function Cp(i){return i>>17&32767}function Tw(i){return 2|i}function qm(i){return(131068&i)>>2}function Aw(i,e){return-131069&i|e<<2}function Mw(i){return 1|i}function US(i,e,t,o,u){const d=i[t+1],p=null===e;let g=o?Cp(d):qm(d),_=!1;for(;0!==g&&(!1===_||p);){const S=i[g+1];xN(i[g],e)&&(_=!0,i[g+1]=o?Mw(S):Tw(S)),g=o?Cp(S):qm(S)}_&&(i[t+1]=o?Tw(d):Mw(d))}function xN(i,e){return null===i||null==e||(Array.isArray(i)?i[1]:i)===e||!(!Array.isArray(i)||"string"!=typeof e)&&sa(i,e)>=0}function Ga(i,e){return function rl(i,e,t,o){const u=we(),d=jt(),p=function Hn(i){const e=lt.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+i,t}(2);d.firstUpdatePass&&function ZS(i,e,t,o){const u=i.data;if(null===u[t+1]){const d=u[Qr()],p=function YS(i,e){return e>=i.expandoStartIndex}(i,t);(function eI(i,e){return 0!=(i.flags&(e?8:16))})(d,o)&&null===e&&!p&&(e=!1),e=function BN(i,e,t,o){const u=bu(i);let d=o?e.residualClasses:e.residualStyles;if(null===u)0===(o?e.classBindings:e.styleBindings)&&(t=Fy(t=xw(null,i,e,t,o),e.attrs,o),d=null);else{const p=e.directiveStylingLast;if(-1===p||i[p]!==u)if(t=xw(u,i,e,t,o),null===d){let _=function jN(i,e,t){const o=t?e.classBindings:e.styleBindings;if(0!==qm(o))return i[Cp(o)]}(i,e,o);void 0!==_&&Array.isArray(_)&&(_=xw(null,i,e,_[1],o),_=Fy(_,e.attrs,o),function UN(i,e,t,o){i[Cp(t?e.classBindings:e.styleBindings)]=o}(i,e,o,_))}else d=function HN(i,e,t){let o;const u=e.directiveEnd;for(let d=1+e.directiveStylingLast;d<u;d++)o=Fy(o,i[d].hostAttrs,t);return Fy(o,e.attrs,t)}(i,e,o)}return void 0!==d&&(o?e.residualClasses=d:e.residualStyles=d),t}(u,d,e,o),function AN(i,e,t,o,u,d){let p=d?e.classBindings:e.styleBindings,g=Cp(p),_=qm(p);i[o]=t;let S,E=!1;if(Array.isArray(t)?(S=t[1],(null===S||sa(t,S)>0)&&(E=!0)):S=t,u)if(0!==_){const L=Cp(i[g+1]);i[o+1]=sb(L,g),0!==L&&(i[L+1]=Aw(i[L+1],o)),i[g+1]=function IN(i,e){return 131071&i|e<<17}(i[g+1],o)}else i[o+1]=sb(g,0),0!==g&&(i[g+1]=Aw(i[g+1],o)),g=o;else i[o+1]=sb(_,0),0===g?g=o:i[_+1]=Aw(i[_+1],o),_=o;E&&(i[o+1]=Tw(i[o+1])),US(i,S,o,!0),US(i,S,o,!1),function MN(i,e,t,o,u){const d=u?i.residualClasses:i.residualStyles;null!=d&&"string"==typeof e&&sa(d,e)>=0&&(t[o+1]=Mw(t[o+1]))}(e,S,i,o,d),p=sb(g,_),d?e.classBindings=p:e.styleBindings=p}(u,d,e,t,p,o)}}(d,i,p,o),e!==C&&ds(u,p,e)&&function QS(i,e,t,o,u,d,p,g){if(!(3&e.type))return;const _=i.data,E=_[g+1],S=function TN(i){return 1==(1&i)}(E)?JS(_,e,t,u,qm(E),p):void 0;ab(S)||(ab(d)||function SN(i){return 2==(2&i)}(E)&&(d=JS(_,null,t,u,g,p)),function my(i,e,t,o,u){if(e)u?i.addClass(t,o):i.removeClass(t,o);else{let d=-1===o.indexOf("-")?void 0:Co.DashCase;null==u?i.removeStyle(t,o,d):("string"==typeof u&&u.endsWith("!important")&&(u=u.slice(0,-10),d|=Co.Important),i.setStyle(t,o,u,d))}}(o,p,gc(Qr(),t),u,d))}(d,d.data[Qr()],u,u[Dt],i,u[p+1]=function GN(i,e){return null==i||""===i||("string"==typeof e?i+=e:"object"==typeof i&&(i=Mt(Hi(i)))),i}(e,t),o,p)}(i,e,null,!0),Ga}function xw(i,e,t,o,u){let d=null;const p=t.directiveEnd;let g=t.directiveStylingLast;for(-1===g?g=t.directiveStart:g++;g<p&&(d=e[g],o=Fy(o,d.hostAttrs,u),d!==i);)g++;return null!==i&&(t.directiveStylingLast=g),o}function Fy(i,e,t){const o=t?1:2;let u=-1;if(null!==e)for(let d=0;d<e.length;d++){const p=e[d];"number"==typeof p?u=p:u===o&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Hr(i,p,!!t||e[++d]))}return void 0===i?null:i}function JS(i,e,t,o,u,d){const p=null===e;let g;for(;u>0;){const _=i[u],E=Array.isArray(_),S=E?_[1]:_,x=null===S;let L=t[u+1];L===C&&(L=x?Wt:void 0);let V=x?Tu(L,o):S===o?L:void 0;if(E&&!ab(V)&&(V=Tu(_,o)),ab(V)&&(g=V,p))return g;const $=i[u+1];u=p?Cp($):qm($)}if(null!==e){let _=d?e.residualClasses:e.residualStyles;null!=_&&(g=Tu(_,o))}return g}function ab(i){return void 0!==i}function fn(i,e=""){const t=we(),o=jt(),u=i+Bt,d=o.firstCreatePass?mv(o,u,1,e,null):o.data[u],p=tI(o,t,d,e,i);t[u]=p,ra()&&Va(o,t,p,d),to(d,!1)}let tI=(i,e,t,o,u)=>(Lo(!0),function ql(i,e){return i.createText(e)}(e[Dt],o));function Gm(i){return ub("",i,""),Gm}function ub(i,e,t){const o=we(),u=vv(o,i,e,t);return u!==C&&function Yh(i,e,t){const o=gc(e,i);!function mh(i,e,t){i.setValue(e,t)}(i[Dt],o,t)}(o,Qr(),u),ub}function Rw(i,e,t){const o=we();return ds(o,xs(),e)&&qa(jt(),gn(),o,i,e,o[Dt],t,!0),Rw}function kw(i,e,t){const o=we();if(ds(o,xs(),e)){const d=jt(),p=gn();qa(d,p,o,i,e,rS(bu(d.data),p,o),t,!0)}return kw}const Tv="en-US";let wI=Tv;function Pw(i,e,t,o,u){if(i=at(i),Array.isArray(i))for(let d=0;d<i.length;d++)Pw(i[d],e,t,o,u);else{const d=jt(),p=we();let g=la(i)?i:at(i.provide),_=Vs(i);const E=Rr(),S=1048575&E.providerIndexes,x=E.directiveStart,L=E.providerIndexes>>20;if(la(i)||!i.multi){const V=new Eu(_,u,ee),$=Lw(g,e,u?S:S+L,x);-1===$?(Of(kf(E,p),d,g),Fw(d,i,e.length),e.push(g),E.directiveStart++,E.directiveEnd++,u&&(E.providerIndexes+=1048576),t.push(V),p.push(V)):(t[$]=V,p[$]=V)}else{const V=Lw(g,e,S+L,x),$=Lw(g,e,S,S+L),ue=$>=0&&t[$];if(u&&!ue||!u&&!(V>=0&&t[V])){Of(kf(E,p),d,g);const ve=function hF(i,e,t,o,u){const d=new Eu(i,t,ee);return d.multi=[],d.index=e,d.componentProviders=0,GI(d,u,o&&!t),d}(u?dF:lF,t.length,u,o,_);!u&&ue&&(t[$].providerFactory=ve),Fw(d,i,e.length,0),e.push(g),E.directiveStart++,E.directiveEnd++,u&&(E.providerIndexes+=1048576),t.push(ve),p.push(ve)}else Fw(d,i,V>-1?V:$,GI(t[u?$:V],_,!u&&o));!u&&o&&ue&&t[$].componentProviders++}}}function Fw(i,e,t,o){const u=la(e),d=function dv(i){return!!i.useClass}(e);if(u||d){const _=(d?at(e.useClass):e).prototype.ngOnDestroy;if(_){const E=i.destroyHooks||(i.destroyHooks=[]);if(!u&&e.multi){const S=E.indexOf(t);-1===S?E.push(t,[o,_]):E[S+1].push(o,_)}else E.push(t,_)}}}function GI(i,e,t){return t&&i.componentProviders++,i.multi.push(e)-1}function Lw(i,e,t,o){for(let u=t;u<o;u++)if(e[u]===i)return u;return-1}function lF(i,e,t,o){return Vw(this.multi,[])}function dF(i,e,t,o){const u=this.multi;let d;if(this.providerFactory){const p=this.providerFactory.componentProviders,g=Vo(t,t[Ve],this.providerFactory.index,o);d=g.slice(0,p),Vw(u,d);for(let _=p;_<g.length;_++)d.push(g[_])}else d=[],Vw(u,d);return d}function Vw(i,e){for(let t=0;t<i.length;t++)e.push((0,i[t])());return e}function $r(i,e=[]){return t=>{t.providersResolver=(o,u)=>function cF(i,e,t){const o=jt();if(o.firstCreatePass){const u=Ce(i);Pw(t,o.data,o.blueprint,u,!0),Pw(e,o.data,o.blueprint,u,!1)}}(o,u?u(i):i,e)}}class Av{}class WI{}class Bw extends Av{constructor(e,t,o){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new sS(this);const u=gi(e);this._bootstrapComponents=D(u.bootstrap),this._r3Injector=$n(e,t,[{provide:Av,useValue:this},{provide:So,useValue:this.componentFactoryResolver},...o],Mt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class jw extends WI{constructor(e){super(),this.moduleType=e}create(e){return new Bw(this.moduleType,e,[])}}class KI extends Av{constructor(e){super(),this.componentFactoryResolver=new sS(this),this.instance=null;const t=new Xt([...e.providers,{provide:Av,useValue:this},{provide:So,useValue:this.componentFactoryResolver}],e.parent||Ph(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Uw(i,e,t=null){return new KI({providers:i,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let mF=(()=>{class i{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const o=sd(0,t.type),u=o.length>0?Uw([o],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,u)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=xe({token:i,providedIn:"environment",factory:()=>new i(H(An))}),i})();function YI(i){i.getStandaloneInjector=e=>e.get(mF).getOrCreateStandaloneInjector(i)}function nT(i,e,t,o,u){return function iT(i,e,t,o,u,d,p){const g=e+t;return function zm(i,e,t,o){const u=ds(i,e,t);return ds(i,e+1,o)||u}(i,g,u,d)?function yd(i,e,t){return i[e]=t}(i,g+2,p?o.call(p,u,d):o(u,d)):function Hy(i,e){const t=i[e];return t===C?void 0:t}(i,g+2)}(we(),function wi(){const i=lt.lFrame;let e=i.bindingRootIndex;return-1===e&&(e=i.bindingRootIndex=i.tView.bindingStartIndex),e}(),i,e,t,o,u)}function zw(i){return e=>{setTimeout(i,void 0,e)}}const Tr=class jF extends ye{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,o){let u=e,d=t||(()=>null),p=o;if(e&&"object"==typeof e){const _=e;u=_.next?.bind(_),d=_.error?.bind(_),p=_.complete?.bind(_)}this.__isAsync&&(d=zw(d),u&&(u=zw(u)),p&&(p=zw(p)));const g=super.subscribe({next:u,error:d,complete:p});return e instanceof Nt&&e.add(g),g}};function UF(){return this._results[Symbol.iterator]()}class $w{get changes(){return this._changes||(this._changes=new Tr)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=$w.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=UF)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const o=this;o.dirty=!1;const u=function no(i){return i.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function Eo(i,e,t){if(i.length!==e.length)return!1;for(let o=0;o<i.length;o++){let u=i[o],d=e[o];if(t&&(u=t(u),d=t(d)),d!==u)return!1}return!0}(o._results,u,t))&&(o._results=u,o.length=u.length,o.last=u[this.length-1],o.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let wd=(()=>{class i{}return i.__NG_ELEMENT_ID__=$F,i})();const HF=wd,zF=class extends HF{constructor(e,t,o){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t,null)}createEmbeddedViewImpl(e,t,o){const u=this._declarationTContainer.tView,d=Hm(this._declarationLView,u,e,16,null,u.declTNode,null,null,null,t||null,o||null);d[Ss]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[Go];return null!==g&&(d[Go]=g.createEmbeddedView(u)),hw(u,d,e),new My(d)}};function $F(){return fb(Rr(),we())}function fb(i,e){return 4&i.type?new zF(e,i,$a(i,e)):null}let ju=(()=>{class i{}return i.__NG_ELEMENT_ID__=XF,i})();function XF(){return fT(Rr(),we())}const QF=ju,dT=class extends QF{constructor(e,t,o){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=o}get element(){return $a(this._hostTNode,this._hostLView)}get injector(){return new yr(this._hostTNode,this._hostLView)}get parentInjector(){const e=Oa(this._hostTNode,this._hostLView);if(Cu(e)){const t=Du(e,this._hostLView),o=Bi(e);return new yr(t[Ve].data[o+8],t)}return new yr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=hT(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Ri}createEmbeddedView(e,t,o){let u,d;"number"==typeof o?u=o:null!=o&&(u=o.index,d=o.injector);const g=e.createEmbeddedViewImpl(t||{},d,null);return this.insertImpl(g,u,!1),g}createComponent(e,t,o,u,d){const p=e&&!function Tc(i){return"function"==typeof i}(e);let g;if(p)g=t;else{const $=t||{};g=$.index,o=$.injector,u=$.projectableNodes,d=$.environmentInjector||$.ngModuleRef}const _=p?e:new xy(Ht(e)),E=o||this.parentInjector;if(!d&&null==_.ngModule){const Y=(p?E:this.parentInjector).get(An,null);Y&&(d=Y)}Ht(_.componentType??{});const V=_.create(E,u,null,d);return this.insertImpl(V.hostView,g,!1),V}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,o){const u=e._lView,d=u[Ve];if(function Cf(i){return oe(i[pr])}(u)){const _=this.indexOf(e);if(-1!==_)this.detach(_);else{const E=u[pr],S=new dT(E,E[yi],E[pr]);S.detach(S.indexOf(e))}}const p=this._adjustIndex(t),g=this._lContainer;if(function Gl(i,e,t,o){const u=Ri+o,d=t.length;o>0&&(t[u-1][Oo]=e),o<d-Ri?(e[Oo]=t[u],ih(t,Ri+o,e)):(t.push(e),e[Oo]=null),e[pr]=t;const p=e[Ss];null!==p&&t!==p&&function Yf(i,e){const t=i[Ts];e[Sr]!==e[pr][pr][Sr]&&(i[$p]=!0),null===t?i[Ts]=[e]:t.push(e)}(p,e);const g=e[Go];null!==g&&g.insertView(i),e[vt]|=128}(d,u,g,p),!o){const _=Ba(p,g),E=u[Dt],S=Bc(E,g[Po]);null!==S&&function fy(i,e,t,o,u,d){o[Dr]=u,o[yi]=e,Zl(i,o,t,1,u,d)}(d,g[yi],E,u,S,_)}return e.attachToViewContainerRef(),ih(Gw(g),p,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=hT(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),o=aa(this._lContainer,t);o&&(Ll(Gw(this._lContainer),t),wm(o[Ve],o))}detach(e){const t=this._adjustIndex(e,-1),o=aa(this._lContainer,t);return o&&null!=Ll(Gw(this._lContainer),t)?new My(o):null}_adjustIndex(e,t=0){return e??this.length+t}};function hT(i){return i[Is]}function Gw(i){return i[Is]||(i[Is]=[])}function fT(i,e){let t;const o=e[i.index];return oe(o)?t=o:(t=JD(o,e,null,i),e[i.index]=t,X_(e,t)),pT(t,e,i,o),new dT(t,i,e)}let pT=function mT(i,e,t,o){if(i[Po])return;let u;u=8&t.type?Un(o):function JF(i,e){const t=i[Dt],o=t.createComment(""),u=Vi(e,i);return Lc(t,Bc(t,u),o,function Xg(i,e){return i.nextSibling(e)}(t,u),!1),o}(e,t),i[Po]=u};class Ww{constructor(e){this.queryList=e,this.matches=null}clone(){return new Ww(this.queryList)}setDirty(){this.queryList.setDirty()}}class Kw{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const o=null!==e.contentQueries?e.contentQueries[0]:t.length,u=[];for(let d=0;d<o;d++){const p=t.getByIndex(d);u.push(this.queries[p.indexInDeclarationView].clone())}return new Kw(u)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==ET(e,t).matches&&this.queries[t].setDirty()}}class gT{constructor(e,t,o=null){this.predicate=e,this.flags=t,this.read=o}}class Yw{constructor(e=[]){this.queries=e}elementStart(e,t){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let o=0;o<this.length;o++){const u=null!==t?t.length:0,d=this.getByIndex(o).embeddedTView(e,u);d&&(d.indexInDeclarationView=o,null!==t?t.push(d):t=[d])}return null!==t?new Yw(t):null}template(e,t){for(let o=0;o<this.queries.length;o++)this.queries[o].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Zw{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Zw(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let o=e.parent;for(;null!==o&&8&o.type&&o.index!==t;)o=o.parent;return t===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const o=this.metadata.predicate;if(Array.isArray(o))for(let u=0;u<o.length;u++){const d=o[u];this.matchTNodeWithReadOption(e,t,nL(t,d)),this.matchTNodeWithReadOption(e,t,jr(t,e,d,!1,!1))}else o===wd?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,jr(t,e,o,!1,!1))}matchTNodeWithReadOption(e,t,o){if(null!==o){const u=this.metadata.read;if(null!==u)if(u===Nn||u===ju||u===wd&&4&t.type)this.addMatch(t.index,-2);else{const d=jr(t,e,u,!1,!1);null!==d&&this.addMatch(t.index,d)}else this.addMatch(t.index,o)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function nL(i,e){const t=i.localNames;if(null!==t)for(let o=0;o<t.length;o+=2)if(t[o]===e)return t[o+1];return null}function iL(i,e,t,o){return-1===t?function rL(i,e){return 11&i.type?$a(i,e):4&i.type?fb(i,e):null}(e,i):-2===t?function oL(i,e,t){return t===Nn?$a(e,i):t===wd?fb(e,i):t===ju?fT(e,i):void 0}(i,e,o):Vo(i,i[Ve],t,e)}function vT(i,e,t,o){const u=e[Go].queries[o];if(null===u.matches){const d=i.data,p=t.matches,g=[];for(let _=0;_<p.length;_+=2){const E=p[_];g.push(E<0?null:iL(e,d[E],p[_+1],t.metadata.read))}u.matches=g}return u.matches}function Xw(i,e,t,o){const u=i.queries.getByIndex(t),d=u.matches;if(null!==d){const p=vT(i,e,u,t);for(let g=0;g<d.length;g+=2){const _=d[g];if(_>0)o.push(p[g/2]);else{const E=d[g+1],S=e[-_];for(let x=Ri;x<S.length;x++){const L=S[x];L[Ss]===L[pr]&&Xw(L[Ve],L,E,o)}if(null!==S[Ts]){const x=S[Ts];for(let L=0;L<x.length;L++){const V=x[L];Xw(V[Ve],V,E,o)}}}}}return o}function Qw(i){const e=we(),t=jt(),o=xa();Tf(o+1);const u=ET(t,o);if(i.dirty&&function Gd(i){return 4==(4&i[vt])}(e)===(2==(2&u.metadata.flags))){if(null===u.matches)i.reset([]);else{const d=u.crossesNgTemplate?Xw(t,e,o,[]):vT(t,e,u,o);i.reset(d,wp),i.notifyOnChanges()}return!0}return!1}function yT(i,e,t){const o=jt();o.firstCreatePass&&(function wT(i,e,t){null===i.queries&&(i.queries=new Yw),i.queries.track(new Zw(e,t))}(o,new gT(i,e,t),-1),2==(2&e)&&(o.staticViewQueries=!0)),function bT(i,e,t){const o=new $w(4==(4&t));(function Jk(i,e,t,o){const u=tS(e);u.push(t),i.firstCreatePass&&nS(i).push(o,u.length-1)})(i,e,o,o.destroy),null===e[Go]&&(e[Go]=new Kw),e[Go].queries.push(new Ww(o))}(o,we(),e)}function ET(i,e){return i.queries.getByIndex(e)}const oE=new Ie("Application Initializer");let sE=(()=>{class i{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,o)=>{this.resolve=t,this.reject=o}),this.appInits=me(oE,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const u of this.appInits){const d=u();if(Py(d))t.push(d);else if(MS(d)){const p=new Promise((g,_)=>{d.subscribe({complete:g,error:_})});t.push(p)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{o()}).catch(u=>{this.reject(u)}),0===t.length&&o(),this.initialized=!0}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),BT=(()=>{class i{log(t){console.log(t)}warn(t){console.warn(t)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const Ed=new Ie("LocaleId",{providedIn:"root",factory:()=>me(Ed,it.Optional|it.SkipSelf)||function ML(){return typeof $localize<"u"&&$localize.locale||Tv}()});class RL{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let jT=(()=>{class i{compileModuleSync(t){return new jw(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const o=this.compileModuleSync(t),d=D(gi(t).declarations).reduce((p,g)=>{const _=Ht(g);return _&&p.push(new xy(_)),p},[]);return new RL(o,d)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const NL=(()=>Promise.resolve(0))();function aE(i){typeof Zone>"u"?NL.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}function zT(...i){}class $t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Tr(!1),this.onMicrotaskEmpty=new Tr(!1),this.onStable=new Tr(!1),this.onError=new Tr(!1),typeof Zone>"u")throw new le(908,!1);Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!o&&t,u.shouldCoalesceRunChangeDetection=o,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function PL(){let i=Vt.requestAnimationFrame,e=Vt.cancelAnimationFrame;if(typeof Zone<"u"&&i&&e){const t=i[Zone.__symbol__("OriginalDelegate")];t&&(i=t);const o=e[Zone.__symbol__("OriginalDelegate")];o&&(e=o)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function VL(i){const e=()=>{!function LL(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Vt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,cE(i),i.isCheckStableRunning=!0,uE(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),cE(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,o,u,d,p,g)=>{try{return $T(i),t.invokeTask(u,d,p,g)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||i.shouldCoalesceRunChangeDetection)&&e(),qT(i)}},onInvoke:(t,o,u,d,p,g,_)=>{try{return $T(i),t.invoke(u,d,p,g,_)}finally{i.shouldCoalesceRunChangeDetection&&e(),qT(i)}},onHasTask:(t,o,u,d)=>{t.hasTask(u,d),o===u&&("microTask"==d.change?(i._hasPendingMicrotasks=d.microTask,cE(i),uE(i)):"macroTask"==d.change&&(i.hasPendingMacrotasks=d.macroTask))},onHandleError:(t,o,u,d)=>(t.handleError(u,d),i.runOutsideAngular(()=>i.onError.emit(d)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!$t.isInAngularZone())throw new le(909,!1)}static assertNotInAngularZone(){if($t.isInAngularZone())throw new le(909,!1)}run(e,t,o){return this._inner.run(e,t,o)}runTask(e,t,o,u){const d=this._inner,p=d.scheduleEventTask("NgZoneEvent: "+u,e,FL,zT,zT);try{return d.runTask(p,t,o)}finally{d.cancelTask(p)}}runGuarded(e,t,o){return this._inner.runGuarded(e,t,o)}runOutsideAngular(e){return this._outer.run(e)}}const FL={};function uE(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function cE(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function $T(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function qT(i){i._nesting--,uE(i)}class BL{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Tr,this.onMicrotaskEmpty=new Tr,this.onStable=new Tr,this.onError=new Tr}run(e,t,o){return e.apply(t,o)}runGuarded(e,t,o){return e.apply(t,o)}runOutsideAngular(e){return e()}runTask(e,t,o,u){return e.apply(t,o)}}const GT=new Ie("",{providedIn:"root",factory:WT});function WT(){const i=me($t);let e=!0;return pi(new te(u=>{e=i.isStable&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks,i.runOutsideAngular(()=>{u.next(e),u.complete()})}),new te(u=>{let d;i.runOutsideAngular(()=>{d=i.onStable.subscribe(()=>{$t.assertNotInAngularZone(),aE(()=>{!e&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks&&(e=!0,u.next(!0))})})});const p=i.onUnstable.subscribe(()=>{$t.assertInAngularZone(),e&&(e=!1,i.runOutsideAngular(()=>{u.next(!1)}))});return()=>{d.unsubscribe(),p.unsubscribe()}}).pipe(_a()))}const KT=new Ie(""),mb=new Ie("");let hE,lE=(()=>{class i{constructor(t,o,u){this._ngZone=t,this.registry=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,hE||(function jL(i){hE=i}(u),u.addToWindow(o)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{$t.assertNotInAngularZone(),aE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())aE(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(t)||(clearTimeout(o.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,o,u){let d=-1;o&&o>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(p=>p.timeoutId!==d),t(this._didWork,this.getPendingTasks())},o)),this._callbacks.push({doneCb:t,timeoutId:d,updateCb:u})}whenStable(t,o,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,o,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,o,u){return[]}}return i.\u0275fac=function(t){return new(t||i)(H($t),H(dE),H(mb))},i.\u0275prov=xe({token:i,factory:i.\u0275fac}),i})(),dE=(()=>{class i{constructor(){this._applications=new Map}registerApplication(t,o){this._applications.set(t,o)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,o=!0){return hE?.findTestabilityInTree(this,t,o)??null}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})(),Dp=null;const YT=new Ie("AllowMultipleToken"),fE=new Ie("PlatformDestroyListeners"),pE=new Ie("appBootstrapListener");class XT{constructor(e,t){this.name=e,this.token=t}}function JT(i,e,t=[]){const o=`Platform: ${e}`,u=new Ie(o);return(d=[])=>{let p=mE();if(!p||p.injector.get(YT,!1)){const g=[...t,...d,{provide:u,useValue:!0}];i?i(g):function zL(i){if(Dp&&!Dp.get(YT,!1))throw new le(400,!1);(function ZT(){!function bg(i){Il=i}(()=>{throw new le(600,!1)})})(),Dp=i;const e=i.get(tA);(function QT(i){i.get(Vh,null)?.forEach(t=>t())})(i)}(function eA(i=[],e){return Dn.create({name:e,providers:[{provide:Kc,useValue:"platform"},{provide:fE,useValue:new Set([()=>Dp=null])},...i]})}(g,o))}return function qL(i){const e=mE();if(!e)throw new le(401,!1);return e}()}}function mE(){return Dp?.get(tA)??null}let tA=(()=>{class i{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,o){const u=function GL(i="zone.js",e){return"noop"===i?new BL:"zone.js"===i?new $t(e):i}(o?.ngZone,function nA(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}({eventCoalescing:o?.ngZoneEventCoalescing,runCoalescing:o?.ngZoneRunCoalescing}));return u.run(()=>{const d=function pF(i,e,t){return new Bw(i,e,t)}(t.moduleType,this.injector,function aA(i){return[{provide:$t,useFactory:i},{provide:Gc,multi:!0,useFactory:()=>{const e=me(KL,{optional:!0});return()=>e.initialize()}},{provide:sA,useFactory:WL},{provide:GT,useFactory:WT}]}(()=>u)),p=d.injector.get(ls,null);return u.runOutsideAngular(()=>{const g=u.onError.subscribe({next:_=>{p.handleError(_)}});d.onDestroy(()=>{gb(this._modules,d),g.unsubscribe()})}),function rA(i,e,t){try{const o=t();return Py(o)?o.catch(u=>{throw e.runOutsideAngular(()=>i.handleError(u)),u}):o}catch(o){throw e.runOutsideAngular(()=>i.handleError(o)),o}}(p,u,()=>{const g=d.injector.get(sE);return g.runInitializers(),g.donePromise.then(()=>(function EI(i){Mi(i,"Expected localeId to be defined"),"string"==typeof i&&(wI=i.toLowerCase().replace(/_/g,"-"))}(d.injector.get(Ed,Tv)||Tv),this._moduleDoBootstrap(d),d))})})}bootstrapModule(t,o=[]){const u=iA({},o);return function UL(i,e,t){const o=new jw(t);return Promise.resolve(o)}(0,0,t).then(d=>this.bootstrapModuleFactory(d,u))}_moduleDoBootstrap(t){const o=t.injector.get(Sp);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(u=>o.bootstrap(u));else{if(!t.instance.ngDoBootstrap)throw new le(-403,!1);t.instance.ngDoBootstrap(o)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new le(404,!1);this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());const t=this._injector.get(fE,null);t&&(t.forEach(o=>o()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(t){return new(t||i)(H(Dn))},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function iA(i,e){return Array.isArray(e)?e.reduce(iA,i):{...i,...e}}let Sp=(()=>{class i{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=me(sA),this.componentTypes=[],this.components=[],this.isStable=me(GT),this._injector=me(An)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,o){const u=t instanceof Wh;if(!this._injector.get(sE).done)throw!u&&function go(i){const e=Ht(i)||si(i)||Cr(i);return null!==e&&e.standalone}(t),new le(405,!1);let p;p=u?t:this._injector.get(So).resolveComponentFactory(t),this.componentTypes.push(p.componentType);const g=function HL(i){return i.isBoundToModule}(p)?void 0:this._injector.get(Av),E=p.create(Dn.NULL,[],o||p.selector,g),S=E.location.nativeElement,x=E.injector.get(KT,null);return x?.registerApplication(S),E.onDestroy(()=>{this.detachView(E.hostView),gb(this.components,E),x?.unregisterApplication(S)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new le(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const o=t;this._views.push(o),o.attachToAppRef(this)}detachView(t){const o=t;gb(this._views,o),o.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const o=this._injector.get(pE,[]);o.push(...this._bootstrapListeners),o.forEach(u=>u(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>gb(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new le(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function gb(i,e){const t=i.indexOf(e);t>-1&&i.splice(t,1)}const sA=new Ie("",{providedIn:"root",factory:()=>me(ls).handleError.bind(void 0)});function WL(){const i=me($t),e=me(ls);return t=>i.runOutsideAngular(()=>e.handleError(t))}let KL=(()=>{class i{constructor(){this.zone=me($t),this.applicationRef=me(Sp)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();let qy=(()=>{class i{}return i.__NG_ELEMENT_ID__=ZL,i})();function ZL(i){return function XL(i,e,t){if(Kr(i)&&!t){const o=Zr(i.index,e);return new My(o,o)}return 47&i.type?new My(e[Sr],e):null}(Rr(),we(),16==(16&i))}class dA{constructor(){}supports(e){return tb(e)}create(e){return new r2(e)}}const n2=(i,e)=>e;class r2{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||n2}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,o=this._removalsHead,u=0,d=null;for(;t||o;){const p=!o||t&&t.currentIndex<fA(o,u,d)?t:o,g=fA(p,u,d),_=p.currentIndex;if(p===o)u--,o=o._nextRemoved;else if(t=t._next,null==p.previousIndex)u++;else{d||(d=[]);const E=g-u,S=_-u;if(E!=S){for(let L=0;L<E;L++){const V=L<d.length?d[L]:d[L]=0,$=V+L;S<=$&&$<E&&(d[L]=V+1)}d[p.previousIndex]=S-E}}g!==_&&e(p,g,_)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!tb(e))throw new le(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let u,d,p,t=this._itHead,o=!1;if(Array.isArray(e)){this.length=e.length;for(let g=0;g<this.length;g++)d=e[g],p=this._trackByFn(g,d),null!==t&&Object.is(t.trackById,p)?(o&&(t=this._verifyReinsertion(t,d,p,g)),Object.is(t.item,d)||this._addIdentityChange(t,d)):(t=this._mismatch(t,d,p,g),o=!0),t=t._next}else u=0,function YO(i,e){if(Array.isArray(i))for(let t=0;t<i.length;t++)e(i[t]);else{const t=i[Symbol.iterator]();let o;for(;!(o=t.next()).done;)e(o.value)}}(e,g=>{p=this._trackByFn(u,g),null!==t&&Object.is(t.trackById,p)?(o&&(t=this._verifyReinsertion(t,g,p,u)),Object.is(t.item,g)||this._addIdentityChange(t,g)):(t=this._mismatch(t,g,p,u),o=!0),t=t._next,u++}),this.length=u;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,o,u){let d;return null===e?d=this._itTail:(d=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,d,u)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(o,u))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,d,u)):e=this._addAfter(new o2(t,o),d,u),e}_verifyReinsertion(e,t,o,u){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==d?e=this._reinsertAfter(d,e._prev,u):e.currentIndex!=u&&(e.currentIndex=u,this._addToMoves(e,u)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const u=e._prevRemoved,d=e._nextRemoved;return null===u?this._removalsHead=d:u._nextRemoved=d,null===d?this._removalsTail=u:d._prevRemoved=u,this._insertAfter(e,t,o),this._addToMoves(e,o),e}_moveAfter(e,t,o){return this._unlink(e),this._insertAfter(e,t,o),this._addToMoves(e,o),e}_addAfter(e,t,o){return this._insertAfter(e,t,o),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,o){const u=null===t?this._itHead:t._next;return e._next=u,e._prev=t,null===u?this._itTail=e:u._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new hA),this._linkedRecords.put(e),e.currentIndex=o,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,o=e._next;return null===t?this._itHead=o:t._next=o,null===o?this._itTail=t:o._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new hA),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class o2{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class s2{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===t||t<=o.currentIndex)&&Object.is(o.trackById,e))return o;return null}remove(e){const t=e._prevDup,o=e._nextDup;return null===t?this._head=o:t._nextDup=o,null===o?this._tail=t:o._prevDup=t,null===this._head}}class hA{constructor(){this.map=new Map}put(e){const t=e.trackById;let o=this.map.get(t);o||(o=new s2,this.map.set(t,o)),o.add(e)}get(e,t){const u=this.map.get(e);return u?u.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fA(i,e,t){const o=i.previousIndex;if(null===o)return o;let u=0;return t&&o<t.length&&(u=t[o]),o+e+u}class pA{constructor(){}supports(e){return e instanceof Map||mw(e)}create(){return new a2}}class a2{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||mw(e)))throw new le(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(o,u)=>{if(t&&t.key===u)this._maybeAddToChanges(t,o),this._appendAfter=t,t=t._next;else{const d=this._getOrCreateRecordForKey(u,o);t=this._insertBeforeOrAppend(t,d)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let o=t;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const o=e._prev;return t._next=e,t._prev=o,e._prev=t,o&&(o._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const u=this._records.get(e);this._maybeAddToChanges(u,t);const d=u._prev,p=u._next;return d&&(d._next=p),p&&(p._prev=d),u._next=null,u._prev=null,u}const o=new u2(e);return this._records.set(e,o),o.currentValue=t,this._addToAdditions(o),o}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(o=>t(e[o],o))}}class u2{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function mA(){return new _b([new dA])}let _b=(()=>{class i{constructor(t){this.factories=t}static create(t,o){if(null!=o){const u=o.factories.slice();t=t.concat(u)}return new i(t)}static extend(t){return{provide:i,useFactory:o=>i.create(t,o||mA()),deps:[[i,new sh,new Au]]}}find(t){const o=this.factories.find(u=>u.supports(t));if(null!=o)return o;throw new le(901,!1)}}return i.\u0275prov=xe({token:i,providedIn:"root",factory:mA}),i})();function gA(){return new Gy([new pA])}let Gy=(()=>{class i{constructor(t){this.factories=t}static create(t,o){if(o){const u=o.factories.slice();t=t.concat(u)}return new i(t)}static extend(t){return{provide:i,useFactory:o=>i.create(t,o||gA()),deps:[[i,new sh,new Au]]}}find(t){const o=this.factories.find(u=>u.supports(t));if(o)return o;throw new le(901,!1)}}return i.\u0275prov=xe({token:i,providedIn:"root",factory:gA}),i})();const d2=JT(null,"core",[]);let h2=(()=>{class i{constructor(t){}}return i.\u0275fac=function(t){return new(t||i)(H(Sp))},i.\u0275mod=Bn({type:i}),i.\u0275inj=an({}),i})(),EA=(()=>{class i{get whenAllTasksComplete(){return 0===this.collection.size&&this.complete(),this.promise}constructor(){this.taskId=0,this.collection=new Set,this.ngZone=me($t),this.completed=!1,this.ngZone.runOutsideAngular(()=>{this.promise=new Promise(t=>{this.resolve=t})})}add(){if(this.completed)return-1;const t=this.taskId++;return this.collection.add(t),t}remove(t){this.completed||(this.collection.delete(t),0===this.collection.size&&this.complete())}ngOnDestroy(){this.complete(),this.collection.clear()}complete(){this.completed=!0,this.resolve()}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();let EE=null;function Ip(){return EE}class D2{}const rn=new Ie("DocumentToken");let CE=(()=>{class i{historyGo(t){throw new Error("Not implemented")}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=xe({token:i,factory:function(){return function S2(){return H(DA)}()},providedIn:"platform"}),i})();const I2=new Ie("Location Initialized");let DA=(()=>{class i extends CE{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ip().getBaseHref(this._doc)}onPopState(t){const o=Ip().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",t,!1),()=>o.removeEventListener("popstate",t)}onHashChange(t){const o=Ip().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",t,!1),()=>o.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,o,u){SA()?this._history.pushState(t,o,u):this._location.hash=u}replaceState(t,o,u){SA()?this._history.replaceState(t,o,u):this._location.hash=u}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return i.\u0275fac=function(t){return new(t||i)(H(rn))},i.\u0275prov=xe({token:i,factory:function(){return function T2(){return new DA(H(rn))}()},providedIn:"platform"}),i})();function SA(){return!!window.history.pushState}function DE(i,e){if(0==i.length)return e;if(0==e.length)return i;let t=0;return i.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?i+e.substring(1):1==t?i+e:i+"/"+e}function IA(i){const e=i.match(/#|\?|$/),t=e&&e.index||i.length;return i.slice(0,t-("/"===i[t-1]?1:0))+i.slice(t)}function Zh(i){return i&&"?"!==i[0]?"?"+i:i}let Ym=(()=>{class i{historyGo(t){throw new Error("Not implemented")}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=xe({token:i,factory:function(){return me(AA)},providedIn:"root"}),i})();const TA=new Ie("appBaseHref");let AA=(()=>{class i extends Ym{constructor(t,o){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=o??this._platformLocation.getBaseHrefFromDOM()??me(rn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return DE(this._baseHref,t)}path(t=!1){const o=this._platformLocation.pathname+Zh(this._platformLocation.search),u=this._platformLocation.hash;return u&&t?`${o}${u}`:o}pushState(t,o,u,d){const p=this.prepareExternalUrl(u+Zh(d));this._platformLocation.pushState(t,o,p)}replaceState(t,o,u,d){const p=this.prepareExternalUrl(u+Zh(d));this._platformLocation.replaceState(t,o,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return i.\u0275fac=function(t){return new(t||i)(H(CE),H(TA,8))},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),A2=(()=>{class i extends Ym{constructor(t,o){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(t){const o=DE(this._baseHref,t);return o.length>0?"#"+o:o}pushState(t,o,u,d){let p=this.prepareExternalUrl(u+Zh(d));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.pushState(t,o,p)}replaceState(t,o,u,d){let p=this.prepareExternalUrl(u+Zh(d));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.replaceState(t,o,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return i.\u0275fac=function(t){return new(t||i)(H(CE),H(TA,8))},i.\u0275prov=xe({token:i,factory:i.\u0275fac}),i})(),Wy=(()=>{class i{constructor(t){this._subject=new Tr,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const o=this._locationStrategy.getBaseHref();this._basePath=function R2(i){if(new RegExp("^(https?:)?//").test(i)){const[,t]=i.split(/\/\/[^\/]+/);return t}return i}(IA(MA(o))),this._locationStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,o=""){return this.path()==this.normalize(t+Zh(o))}normalize(t){return i.stripTrailingSlash(function x2(i,e){if(!i||!e.startsWith(i))return e;const t=e.substring(i.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,MA(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,o="",u=null){this._locationStrategy.pushState(u,"",t,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Zh(o)),u)}replaceState(t,o="",u=null){this._locationStrategy.replaceState(u,"",t,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Zh(o)),u)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)})),()=>{const o=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(o,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",o){this._urlChangeListeners.forEach(u=>u(t,o))}subscribe(t,o,u){return this._subject.subscribe({next:t,error:o,complete:u})}}return i.normalizeQueryParams=Zh,i.joinWithSlash=DE,i.stripTrailingSlash=IA,i.\u0275fac=function(t){return new(t||i)(H(Ym))},i.\u0275prov=xe({token:i,factory:function(){return function M2(){return new Wy(H(Ym))}()},providedIn:"root"}),i})();function MA(i){return i.replace(/\/index.html$/,"")}const NE=/\s+/,VA=[];let BA=(()=>{class i{constructor(t,o,u,d){this._iterableDiffers=t,this._keyValueDiffers=o,this._ngEl=u,this._renderer=d,this.initialClasses=VA,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(NE):VA}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(NE):t}ngDoCheck(){for(const o of this.initialClasses)this._updateState(o,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const o of t)this._updateState(o,!0);else if(null!=t)for(const o of Object.keys(t))this._updateState(o,!!t[o]);this._applyStateDiff()}_updateState(t,o){const u=this.stateMap.get(t);void 0!==u?(u.enabled!==o&&(u.changed=!0,u.enabled=o),u.touched=!0):this.stateMap.set(t,{enabled:o,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const o=t[0],u=t[1];u.changed?(this._toggleClass(o,u.enabled),u.changed=!1):u.touched||(u.enabled&&this._toggleClass(o,!1),this.stateMap.delete(o)),u.touched=!1}}_toggleClass(t,o){(t=t.trim()).length>0&&t.split(NE).forEach(u=>{o?this._renderer.addClass(this._ngEl.nativeElement,u):this._renderer.removeClass(this._ngEl.nativeElement,u)})}}return i.\u0275fac=function(t){return new(t||i)(ee(_b),ee(Gy),ee(Nn),ee(us))},i.\u0275dir=We({type:i,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),i})();class gV{constructor(e,t,o,u){this.$implicit=e,this.ngForOf=t,this.index=o,this.count=u}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let xb=(()=>{class i{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,o,u){this._viewContainer=t,this._template=o,this._differs=u,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const o=this._viewContainer;t.forEachOperation((u,d,p)=>{if(null==u.previousIndex)o.createEmbeddedView(this._template,new gV(u.item,this._ngForOf,-1,-1),null===p?void 0:p);else if(null==p)o.remove(null===d?void 0:d);else if(null!==d){const g=o.get(d);o.move(g,p),UA(g,u)}});for(let u=0,d=o.length;u<d;u++){const g=o.get(u).context;g.index=u,g.count=d,g.ngForOf=this._ngForOf}t.forEachIdentityChange(u=>{UA(o.get(u.currentIndex),u)})}static ngTemplateContextGuard(t,o){return!0}}return i.\u0275fac=function(t){return new(t||i)(ee(ju),ee(wd),ee(_b))},i.\u0275dir=We({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),i})();function UA(i,e){i.context.$implicit=e.item}let Zy=(()=>{class i{constructor(t,o){this._viewContainer=t,this._context=new vV,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){HA("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){HA("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,o){return!0}}return i.\u0275fac=function(t){return new(t||i)(ee(ju),ee(wd))},i.\u0275dir=We({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),i})();class vV{constructor(){this.$implicit=null,this.ngIf=null}}function HA(i,e){if(e&&!e.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${Mt(e)}'.`)}let qA=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Bn({type:i}),i.\u0275inj=an({}),i})();const GA="browser";function WA(i){return"server"===i}let GV=(()=>{class i{}return i.\u0275prov=xe({token:i,providedIn:"root",factory:()=>new WV(H(rn),window)}),i})();class WV{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function KV(i,e){const t=i.getElementById(e)||i.getElementsByName(e)[0];if(t)return t;if("function"==typeof i.createTreeWalker&&i.body&&"function"==typeof i.body.attachShadow){const o=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let u=o.currentNode;for(;u;){const d=u.shadowRoot;if(d){const p=d.getElementById(e)||d.querySelector(`[name="${e}"]`);if(p)return p}u=o.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),o=t.left+this.window.pageXOffset,u=t.top+this.window.pageYOffset,d=this.offset();this.window.scrollTo(o-d[0],u-d[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=KA(this.window.history)||KA(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function KA(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class EB extends D2{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class UE extends EB{static makeCurrent(){!function C2(i){EE||(EE=i)}(new UE)}onAndCancel(e,t,o){return e.addEventListener(t,o),()=>{e.removeEventListener(t,o)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function CB(){return Qy=Qy||document.querySelector("base"),Qy?Qy.getAttribute("href"):null}();return null==t?null:function DB(i){Ob=Ob||document.createElement("a"),Ob.setAttribute("href",i);const e=Ob.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Qy=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function pV(i,e){e=encodeURIComponent(e);for(const t of i.split(";")){const o=t.indexOf("="),[u,d]=-1==o?[t,""]:[t.slice(0,o),t.slice(o+1)];if(u.trim()===e)return decodeURIComponent(d)}return null}(document.cookie,e)}}let Ob,Qy=null,IB=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=xe({token:i,factory:i.\u0275fac}),i})();const HE=new Ie("EventManagerPlugins");let JA=(()=>{class i{constructor(t,o){this._zone=o,this._eventNameToPlugin=new Map,t.forEach(u=>{u.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,o,u){return this._findPluginFor(o).addEventListener(t,o,u)}getZone(){return this._zone}_findPluginFor(t){const o=this._eventNameToPlugin.get(t);if(o)return o;const u=this._plugins;for(let d=0;d<u.length;d++){const p=u[d];if(p.supports(t))return this._eventNameToPlugin.set(t,p),p}throw new Error(`No event manager plugin found for event ${t}`)}}return i.\u0275fac=function(t){return new(t||i)(H(HE),H($t))},i.\u0275prov=xe({token:i,factory:i.\u0275fac}),i})();class eM{constructor(e){this._doc=e}}const zE="ng-app-id";let tM=(()=>{class i{constructor(t,o,u,d={}){this.doc=t,this.appId=o,this.nonce=u,this.platformId=d,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=WA(d),this.resetHostNodes()}addStyles(t){for(const o of t)1===this.changeUsageCount(o,1)&&this.onStyleAdded(o)}removeStyles(t){for(const o of t)this.changeUsageCount(o,-1)<=0&&this.onStyleRemoved(o)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(o=>o.remove()),t.clear());for(const o of this.getAllStyles())this.onStyleRemoved(o);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const o of this.getAllStyles())this.addStyleToHost(t,o)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const o of this.hostNodes)this.addStyleToHost(o,t)}onStyleRemoved(t){const o=this.styleRef;o.get(t)?.elements?.forEach(u=>u.remove()),o.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${zE}="${this.appId}"]`);if(t?.length){const o=new Map;return t.forEach(u=>{null!=u.textContent&&o.set(u.textContent,u)}),o}return null}changeUsageCount(t,o){const u=this.styleRef;if(u.has(t)){const d=u.get(t);return d.usage+=o,d.usage}return u.set(t,{usage:o,elements:[]}),o}getStyleElement(t,o){const u=this.styleNodesInDOM,d=u?.get(o);if(d?.parentNode===t)return u.delete(o),d.removeAttribute(zE),d;{const p=this.doc.createElement("style");return this.nonce&&p.setAttribute("nonce",this.nonce),p.textContent=o,this.platformIsServer&&p.setAttribute(zE,this.appId),p}}addStyleToHost(t,o){const u=this.getStyleElement(t,o);t.appendChild(u);const d=this.styleRef,p=d.get(o)?.elements;p?p.push(u):d.set(o,{elements:[u],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return i.\u0275fac=function(t){return new(t||i)(H(rn),H(Zc),H(cd,8),H(io))},i.\u0275prov=xe({token:i,factory:i.\u0275fac}),i})();const $E={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},qE=/%COMP%/g,xB=new Ie("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function rM(i,e){return e.map(t=>t.replace(qE,i))}let GE=(()=>{class i{constructor(t,o,u,d,p,g,_,E=null){this.eventManager=t,this.sharedStylesHost=o,this.appId=u,this.removeStylesOnCompDestory=d,this.doc=p,this.platformId=g,this.ngZone=_,this.nonce=E,this.rendererByCompId=new Map,this.platformIsServer=WA(g),this.defaultRenderer=new WE(t,p,_,this.platformIsServer)}createRenderer(t,o){if(!t||!o)return this.defaultRenderer;this.platformIsServer&&o.encapsulation===Kn.ShadowDom&&(o={...o,encapsulation:Kn.Emulated});const u=this.getOrCreateRenderer(t,o);return u instanceof oM?u.applyToHost(t):u instanceof KE&&u.applyStyles(),u}getOrCreateRenderer(t,o){const u=this.rendererByCompId;let d=u.get(o.id);if(!d){const p=this.doc,g=this.ngZone,_=this.eventManager,E=this.sharedStylesHost,S=this.removeStylesOnCompDestory,x=this.platformIsServer;switch(o.encapsulation){case Kn.Emulated:d=new oM(_,E,o,this.appId,S,p,g,x);break;case Kn.ShadowDom:return new NB(_,E,t,o,p,g,this.nonce,x);default:d=new KE(_,E,o,S,p,g,x)}d.onDestroy=()=>u.delete(o.id),u.set(o.id,d)}return d}ngOnDestroy(){this.rendererByCompId.clear()}}return i.\u0275fac=function(t){return new(t||i)(H(JA),H(tM),H(Zc),H(xB),H(rn),H(io),H($t),H(cd))},i.\u0275prov=xe({token:i,factory:i.\u0275fac}),i})();class WE{constructor(e,t,o,u){this.eventManager=e,this.doc=t,this.ngZone=o,this.platformIsServer=u,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS($E[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(iM(e)?e.content:e).appendChild(t)}insertBefore(e,t,o){e&&(iM(e)?e.content:e).insertBefore(t,o)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let o="string"==typeof e?this.doc.querySelector(e):e;if(!o)throw new Error(`The selector "${e}" did not match any elements`);return t||(o.textContent=""),o}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,o,u){if(u){t=u+":"+t;const d=$E[u];d?e.setAttributeNS(d,t,o):e.setAttribute(t,o)}else e.setAttribute(t,o)}removeAttribute(e,t,o){if(o){const u=$E[o];u?e.removeAttributeNS(u,t):e.removeAttribute(`${o}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,o,u){u&(Co.DashCase|Co.Important)?e.style.setProperty(t,o,u&Co.Important?"important":""):e.style[t]=o}removeStyle(e,t,o){o&Co.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,o){e[t]=o}setValue(e,t){e.nodeValue=t}listen(e,t,o){if("string"==typeof e&&!(e=Ip().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(o))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&(t.preventDefault(),t.returnValue=!1)}}}function iM(i){return"TEMPLATE"===i.tagName&&void 0!==i.content}class NB extends WE{constructor(e,t,o,u,d,p,g,_){super(e,d,p,_),this.sharedStylesHost=t,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const E=rM(u.id,u.styles);for(const S of E){const x=document.createElement("style");g&&x.setAttribute("nonce",g),x.textContent=S,this.shadowRoot.appendChild(x)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,o){return super.insertBefore(this.nodeOrShadowRoot(e),t,o)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class KE extends WE{constructor(e,t,o,u,d,p,g,_){super(e,d,p,g),this.sharedStylesHost=t,this.removeStylesOnCompDestory=u,this.rendererUsageCount=0,this.styles=_?rM(_,o.styles):o.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class oM extends KE{constructor(e,t,o,u,d,p,g,_){const E=u+"-"+o.id;super(e,t,o,d,p,g,_,E),this.contentAttr=function RB(i){return"_ngcontent-%COMP%".replace(qE,i)}(E),this.hostAttr=function kB(i){return"_nghost-%COMP%".replace(qE,i)}(E)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const o=super.createElement(e,t);return super.setAttribute(o,this.contentAttr,""),o}}let PB=(()=>{class i extends eM{constructor(t){super(t)}supports(t){return!0}addEventListener(t,o,u){return t.addEventListener(o,u,!1),()=>this.removeEventListener(t,o,u)}removeEventListener(t,o,u){return t.removeEventListener(o,u)}}return i.\u0275fac=function(t){return new(t||i)(H(rn))},i.\u0275prov=xe({token:i,factory:i.\u0275fac}),i})();const sM=["alt","control","meta","shift"],FB={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},LB={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let VB=(()=>{class i extends eM{constructor(t){super(t)}supports(t){return null!=i.parseEventName(t)}addEventListener(t,o,u){const d=i.parseEventName(o),p=i.eventCallback(d.fullKey,u,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ip().onAndCancel(t,d.domEventName,p))}static parseEventName(t){const o=t.toLowerCase().split("."),u=o.shift();if(0===o.length||"keydown"!==u&&"keyup"!==u)return null;const d=i._normalizeKey(o.pop());let p="",g=o.indexOf("code");if(g>-1&&(o.splice(g,1),p="code."),sM.forEach(E=>{const S=o.indexOf(E);S>-1&&(o.splice(S,1),p+=E+".")}),p+=d,0!=o.length||0===d.length)return null;const _={};return _.domEventName=u,_.fullKey=p,_}static matchEventFullKeyCode(t,o){let u=FB[t.key]||t.key,d="";return o.indexOf("code.")>-1&&(u=t.code,d="code."),!(null==u||!u)&&(u=u.toLowerCase()," "===u?u="space":"."===u&&(u="dot"),sM.forEach(p=>{p!==u&&(0,LB[p])(t)&&(d+=p+".")}),d+=u,d===o)}static eventCallback(t,o,u){return d=>{i.matchEventFullKeyCode(d,t)&&u.runGuarded(()=>o(d))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return i.\u0275fac=function(t){return new(t||i)(H(rn))},i.\u0275prov=xe({token:i,factory:i.\u0275fac}),i})();const HB=JT(d2,"browser",[{provide:io,useValue:GA},{provide:Vh,useValue:function BB(){UE.makeCurrent()},multi:!0},{provide:rn,useFactory:function UB(){return function tp(i){Em=i}(document),document},deps:[]}]),zB=new Ie(""),cM=[{provide:mb,useClass:class SB{addToWindow(e){Vt.getAngularTestability=(o,u=!0)=>{const d=e.findTestabilityInTree(o,u);if(null==d)throw new Error("Could not find testability for element.");return d},Vt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Vt.getAllAngularRootElements=()=>e.getAllRootElements(),Vt.frameworkStabilizers||(Vt.frameworkStabilizers=[]),Vt.frameworkStabilizers.push(o=>{const u=Vt.getAllAngularTestabilities();let d=u.length,p=!1;const g=function(_){p=p||_,d--,0==d&&o(p)};u.forEach(function(_){_.whenStable(g)})})}findTestabilityInTree(e,t,o){return null==t?null:e.getTestability(t)??(o?Ip().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:KT,useClass:lE,deps:[$t,dE,mb]},{provide:lE,useClass:lE,deps:[$t,dE,mb]}],lM=[{provide:Kc,useValue:"root"},{provide:ls,useFactory:function jB(){return new ls},deps:[]},{provide:HE,useClass:PB,multi:!0,deps:[rn,$t,io]},{provide:HE,useClass:VB,multi:!0,deps:[rn]},GE,tM,JA,{provide:pa,useExisting:GE},{provide:class YV{},useClass:IB,deps:[]},[]];let dM=(()=>{class i{constructor(t){}static withServerTransition(t){return{ngModule:i,providers:[{provide:Zc,useValue:t.appId}]}}}return i.\u0275fac=function(t){return new(t||i)(H(zB,12))},i.\u0275mod=Bn({type:i}),i.\u0275inj=an({providers:[...lM,...cM],imports:[qA,h2]}),i})(),hM=(()=>{class i{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return i.\u0275fac=function(t){return new(t||i)(H(rn))},i.\u0275prov=xe({token:i,factory:function(t){let o=null;return o=t?new t:function qB(){return new hM(H(rn))}(),o},providedIn:"root"}),i})();typeof window<"u"&&window;let ZE=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=xe({token:i,factory:function(t){let o=null;return o=t?new(t||i):H(mM),o},providedIn:"root"}),i})(),mM=(()=>{class i extends ZE{constructor(t){super(),this._doc=t}sanitize(t,o){if(null==o)return null;switch(t){case _n.NONE:return o;case _n.HTML:return Di(o,"HTML")?Hi(o):nd(this._doc,String(o)).toString();case _n.STYLE:return Di(o,"Style")?Hi(o):o;case _n.SCRIPT:if(Di(o,"Script"))return Hi(o);throw new Error("unsafe value used in a script context");case _n.URL:return Di(o,"URL")?Hi(o):Hc(String(o));case _n.RESOURCE_URL:if(Di(o,"ResourceURL"))return Hi(o);throw new Error(`unsafe value used in a resource URL context (see ${Ks})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${Ks})`)}}bypassSecurityTrustHtml(t){return function rp(i){return new tv(i)}(t)}bypassSecurityTrustStyle(t){return function ip(i){return new Dm(i)}(t)}bypassSecurityTrustScript(t){return function Sm(i){return new nv(i)}(t)}bypassSecurityTrustUrl(t){return function ja(i){return new rv(i)}(t)}bypassSecurityTrustResourceUrl(t){return function iv(i){return new xh(i)}(t)}}return i.\u0275fac=function(t){return new(t||i)(H(rn))},i.\u0275prov=xe({token:i,factory:function(t){let o=null;return o=t?new t:function YB(i){return new mM(i.get(rn))}(H(Dn)),o},providedIn:"root"}),i})();function _t(...i){return gt(i,G(i))}class zu extends ye{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:o}=this;if(e)throw t;return this._throwIfClosed(),o}next(e){super.next(this._value=e)}}const{isArray:XB}=Array,{getPrototypeOf:QB,prototype:JB,keys:ej}=Object;function vM(i){if(1===i.length){const e=i[0];if(XB(e))return{args:e,keys:null};if(function tj(i){return i&&"object"==typeof i&&QB(i)===JB}(e)){const t=ej(e);return{args:t.map(o=>e[o]),keys:t}}}return{args:i,keys:null}}const{isArray:nj}=Array;function XE(i){return je(e=>function rj(i,e){return nj(e)?i(...e):i(e)}(i,e))}function yM(i,e){return i.reduce((t,o,u)=>(t[o]=e[u],t),{})}function Nb(...i){const e=G(i),t=W(i),{args:o,keys:u}=vM(i);if(0===o.length)return gt([],e);const d=new te(function ij(i,e,t=qr){return o=>{_M(e,()=>{const{length:u}=i,d=new Array(u);let p=u,g=u;for(let _=0;_<u;_++)_M(e,()=>{const E=gt(i[_],e);let S=!1;E.subscribe(Ue(o,x=>{d[_]=x,S||(S=!0,g--),g||o.next(t(d.slice()))},()=>{--p||o.complete()}))},o)},o)}}(o,e,u?p=>yM(u,p):qr));return t?d.pipe(XE(t)):d}function _M(i,e,t){i?Ti(t,i,e):e()}const Pb=I(i=>function(){i(this),this.name="EmptyError",this.message="no elements in sequence"});function Fb(...i){return function oj(){return Yi(1)}()(gt(i,G(i)))}function Lb(i){return new te(e=>{pn(i()).subscribe(e)})}function kv(i,e){const t=_e(i)?i:()=>i,o=u=>u.error(t());return new te(e?u=>e.schedule(o,0,u):o)}function QE(){return Oe((i,e)=>{let t=null;i._refCount++;const o=Ue(e,void 0,void 0,void 0,()=>{if(!i||i._refCount<=0||0<--i._refCount)return void(t=null);const u=i._connection,d=t;t=null,u&&(!d||u===d)&&u.unsubscribe(),e.unsubscribe()});i.subscribe(o),o.closed||(t=i.connect())})}class bM extends te{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,ht(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Nt;const t=this.getSubject();e.add(this.source.subscribe(Ue(t,void 0,()=>{this._teardown(),t.complete()},o=>{this._teardown(),t.error(o)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Nt.EMPTY)}return e}refCount(){return QE()(this)}}function Qh(i,e){return Oe((t,o)=>{let u=null,d=0,p=!1;const g=()=>p&&!u&&o.complete();t.subscribe(Ue(o,_=>{u?.unsubscribe();let E=0;const S=d++;pn(i(_,S)).subscribe(u=Ue(o,x=>o.next(e?e(_,x,S,E++):x),()=>{u=null,g()}))},()=>{p=!0,g()}))})}function ps(i){return i<=0?()=>br:Oe((e,t)=>{let o=0;e.subscribe(Ue(t,u=>{++o<=i&&(t.next(u),i<=o&&t.complete())}))})}function Vb(...i){const e=G(i);return Oe((t,o)=>{(e?Fb(i,t,e):Fb(i,t)).subscribe(o)})}function qi(i,e){return Oe((t,o)=>{let u=0;t.subscribe(Ue(o,d=>i.call(e,d,u++)&&o.next(d)))})}function Bb(i){return Oe((e,t)=>{let o=!1;e.subscribe(Ue(t,u=>{o=!0,t.next(u)},()=>{o||t.next(i),t.complete()}))})}function wM(i=sj){return Oe((e,t)=>{let o=!1;e.subscribe(Ue(t,u=>{o=!0,t.next(u)},()=>o?t.complete():t.error(i())))})}function sj(){return new Pb}function Zm(i,e){const t=arguments.length>=2;return o=>o.pipe(i?qi((u,d)=>i(u,d,o)):qr,ps(1),t?Bb(e):wM(()=>new Pb))}function Ov(i,e){return _e(e)?St(i,e,1):St(i,1)}function Ao(i,e,t){const o=_e(i)||e||t?{next:i,error:e,complete:t}:i;return o?Oe((u,d)=>{var p;null===(p=o.subscribe)||void 0===p||p.call(o);let g=!0;u.subscribe(Ue(d,_=>{var E;null===(E=o.next)||void 0===E||E.call(o,_),d.next(_)},()=>{var _;g=!1,null===(_=o.complete)||void 0===_||_.call(o),d.complete()},_=>{var E;g=!1,null===(E=o.error)||void 0===E||E.call(o,_),d.error(_)},()=>{var _,E;g&&(null===(_=o.unsubscribe)||void 0===_||_.call(o)),null===(E=o.finalize)||void 0===E||E.call(o)}))}):qr}function Ap(i){return Oe((e,t)=>{let d,o=null,u=!1;o=e.subscribe(Ue(t,void 0,void 0,p=>{d=pn(i(p,Ap(i)(e))),o?(o.unsubscribe(),o=null,d.subscribe(t)):u=!0})),u&&(o.unsubscribe(),o=null,d.subscribe(t))})}function JE(i){return i<=0?()=>br:Oe((e,t)=>{let o=[];e.subscribe(Ue(t,u=>{o.push(u),i<o.length&&o.shift()},()=>{for(const u of o)t.next(u);t.complete()},void 0,()=>{o=null}))})}function jb(i){return Oe((e,t)=>{try{e.subscribe(t)}finally{t.add(i)}})}const Qt="primary",Jy=Symbol("RouteTitle");class dj{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Nv(i){return new dj(i)}function hj(i,e,t){const o=t.path.split("/");if(o.length>i.length||"full"===t.pathMatch&&(e.hasChildren()||o.length<i.length))return null;const u={};for(let d=0;d<o.length;d++){const p=o[d],g=i[d];if(p.startsWith(":"))u[p.substring(1)]=g;else if(p!==g.path)return null}return{consumed:i.slice(0,o.length),posParams:u}}function Cd(i,e){const t=i?Object.keys(i):void 0,o=e?Object.keys(e):void 0;if(!t||!o||t.length!=o.length)return!1;let u;for(let d=0;d<t.length;d++)if(u=t[d],!EM(i[u],e[u]))return!1;return!0}function EM(i,e){if(Array.isArray(i)&&Array.isArray(e)){if(i.length!==e.length)return!1;const t=[...i].sort(),o=[...e].sort();return t.every((u,d)=>o[d]===u)}return i===e}function CM(i){return i.length>0?i[i.length-1]:null}function Mp(i){return function ZB(i){return!!i&&(i instanceof te||_e(i.lift)&&_e(i.subscribe))}(i)?i:Py(i)?gt(Promise.resolve(i)):_t(i)}const pj={exact:function IM(i,e,t){if(!Xm(i.segments,e.segments)||!Ub(i.segments,e.segments,t)||i.numberOfChildren!==e.numberOfChildren)return!1;for(const o in e.children)if(!i.children[o]||!IM(i.children[o],e.children[o],t))return!1;return!0},subset:TM},DM={exact:function mj(i,e){return Cd(i,e)},subset:function gj(i,e){return Object.keys(e).length<=Object.keys(i).length&&Object.keys(e).every(t=>EM(i[t],e[t]))},ignored:()=>!0};function SM(i,e,t){return pj[t.paths](i.root,e.root,t.matrixParams)&&DM[t.queryParams](i.queryParams,e.queryParams)&&!("exact"===t.fragment&&i.fragment!==e.fragment)}function TM(i,e,t){return AM(i,e,e.segments,t)}function AM(i,e,t,o){if(i.segments.length>t.length){const u=i.segments.slice(0,t.length);return!(!Xm(u,t)||e.hasChildren()||!Ub(u,t,o))}if(i.segments.length===t.length){if(!Xm(i.segments,t)||!Ub(i.segments,t,o))return!1;for(const u in e.children)if(!i.children[u]||!TM(i.children[u],e.children[u],o))return!1;return!0}{const u=t.slice(0,i.segments.length),d=t.slice(i.segments.length);return!!(Xm(i.segments,u)&&Ub(i.segments,u,o)&&i.children[Qt])&&AM(i.children[Qt],e,d,o)}}function Ub(i,e,t){return e.every((o,u)=>DM[t](i[u].parameters,o.parameters))}class Pv{constructor(e=new ur([],{}),t={},o=null){this.root=e,this.queryParams=t,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nv(this.queryParams)),this._queryParamMap}toString(){return _j.serialize(this)}}class ur{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(o=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Hb(this)}}class e_{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Nv(this.parameters)),this._parameterMap}toString(){return RM(this)}}function Xm(i,e){return i.length===e.length&&i.every((t,o)=>t.path===e[o].path)}let t_=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=xe({token:i,factory:function(){return new eC},providedIn:"root"}),i})();class eC{parse(e){const t=new xj(e);return new Pv(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${n_(e.root,!0)}`,o=function Ej(i){const e=Object.keys(i).map(t=>{const o=i[t];return Array.isArray(o)?o.map(u=>`${zb(t)}=${zb(u)}`).join("&"):`${zb(t)}=${zb(o)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${o}${"string"==typeof e.fragment?`#${function bj(i){return encodeURI(i)}(e.fragment)}`:""}`}}const _j=new eC;function Hb(i){return i.segments.map(e=>RM(e)).join("/")}function n_(i,e){if(!i.hasChildren())return Hb(i);if(e){const t=i.children[Qt]?n_(i.children[Qt],!1):"",o=[];return Object.entries(i.children).forEach(([u,d])=>{u!==Qt&&o.push(`${u}:${n_(d,!1)}`)}),o.length>0?`${t}(${o.join("//")})`:t}{const t=function yj(i,e){let t=[];return Object.entries(i.children).forEach(([o,u])=>{o===Qt&&(t=t.concat(e(u,o)))}),Object.entries(i.children).forEach(([o,u])=>{o!==Qt&&(t=t.concat(e(u,o)))}),t}(i,(o,u)=>u===Qt?[n_(i.children[Qt],!1)]:[`${u}:${n_(o,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[Qt]?`${Hb(i)}/${t[0]}`:`${Hb(i)}/(${t.join("//")})`}}function MM(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function zb(i){return MM(i).replace(/%3B/gi,";")}function tC(i){return MM(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $b(i){return decodeURIComponent(i)}function xM(i){return $b(i.replace(/\+/g,"%20"))}function RM(i){return`${tC(i.path)}${function wj(i){return Object.keys(i).map(e=>`;${tC(e)}=${tC(i[e])}`).join("")}(i.parameters)}`}const Cj=/^[^\/()?;#]+/;function nC(i){const e=i.match(Cj);return e?e[0]:""}const Dj=/^[^\/()?;=#]+/,Ij=/^[^=?&#]+/,Aj=/^[^&#]+/;class xj{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ur([],{}):new ur([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(o[Qt]=new ur(e,t)),o}parseSegment(){const e=nC(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new le(4009,!1);return this.capture(e),new e_($b(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function Sj(i){const e=i.match(Dj);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let o="";if(this.consumeOptional("=")){const u=nC(this.remaining);u&&(o=u,this.capture(o))}e[$b(t)]=$b(o)}parseQueryParam(e){const t=function Tj(i){const e=i.match(Ij);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let o="";if(this.consumeOptional("=")){const p=function Mj(i){const e=i.match(Aj);return e?e[0]:""}(this.remaining);p&&(o=p,this.capture(o))}const u=xM(t),d=xM(o);if(e.hasOwnProperty(u)){let p=e[u];Array.isArray(p)||(p=[p],e[u]=p),p.push(d)}else e[u]=d}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=nC(this.remaining),u=this.remaining[o.length];if("/"!==u&&")"!==u&&";"!==u)throw new le(4010,!1);let d;o.indexOf(":")>-1?(d=o.slice(0,o.indexOf(":")),this.capture(d),this.capture(":")):e&&(d=Qt);const p=this.parseChildren();t[d]=1===Object.keys(p).length?p[Qt]:new ur([],p),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new le(4011,!1)}}function kM(i){return i.segments.length>0?new ur([],{[Qt]:i}):i}function OM(i){const e={};for(const o of Object.keys(i.children)){const d=OM(i.children[o]);if(o===Qt&&0===d.segments.length&&d.hasChildren())for(const[p,g]of Object.entries(d.children))e[p]=g;else(d.segments.length>0||d.hasChildren())&&(e[o]=d)}return function Rj(i){if(1===i.numberOfChildren&&i.children[Qt]){const e=i.children[Qt];return new ur(i.segments.concat(e.segments),e.children)}return i}(new ur(i.segments,e))}function Qm(i){return i instanceof Pv}function NM(i){let e;const u=kM(function t(d){const p={};for(const _ of d.children){const E=t(_);p[_.outlet]=E}const g=new ur(d.url,p);return d===i&&(e=g),g}(i.root));return e??u}function PM(i,e,t,o){let u=i;for(;u.parent;)u=u.parent;if(0===e.length)return rC(u,u,u,t,o);const d=function Oj(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new LM(!0,0,i);let e=0,t=!1;const o=i.reduce((u,d,p)=>{if("object"==typeof d&&null!=d){if(d.outlets){const g={};return Object.entries(d.outlets).forEach(([_,E])=>{g[_]="string"==typeof E?E.split("/"):E}),[...u,{outlets:g}]}if(d.segmentPath)return[...u,d.segmentPath]}return"string"!=typeof d?[...u,d]:0===p?(d.split("/").forEach((g,_)=>{0==_&&"."===g||(0==_&&""===g?t=!0:".."===g?e++:""!=g&&u.push(g))}),u):[...u,d]},[]);return new LM(t,e,o)}(e);if(d.toRoot())return rC(u,u,new ur([],{}),t,o);const p=function Nj(i,e,t){if(i.isAbsolute)return new Gb(e,!0,0);if(!t)return new Gb(e,!1,NaN);if(null===t.parent)return new Gb(t,!0,0);const o=qb(i.commands[0])?0:1;return function Pj(i,e,t){let o=i,u=e,d=t;for(;d>u;){if(d-=u,o=o.parent,!o)throw new le(4005,!1);u=o.segments.length}return new Gb(o,!1,u-d)}(t,t.segments.length-1+o,i.numberOfDoubleDots)}(d,u,i),g=p.processChildren?i_(p.segmentGroup,p.index,d.commands):VM(p.segmentGroup,p.index,d.commands);return rC(u,p.segmentGroup,g,t,o)}function qb(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function r_(i){return"object"==typeof i&&null!=i&&i.outlets}function rC(i,e,t,o,u){let p,d={};o&&Object.entries(o).forEach(([_,E])=>{d[_]=Array.isArray(E)?E.map(S=>`${S}`):`${E}`}),p=i===e?t:FM(i,e,t);const g=kM(OM(p));return new Pv(g,d,u)}function FM(i,e,t){const o={};return Object.entries(i.children).forEach(([u,d])=>{o[u]=d===e?t:FM(d,e,t)}),new ur(i.segments,o)}class LM{constructor(e,t,o){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=o,e&&o.length>0&&qb(o[0]))throw new le(4003,!1);const u=o.find(r_);if(u&&u!==CM(o))throw new le(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Gb{constructor(e,t,o){this.segmentGroup=e,this.processChildren=t,this.index=o}}function VM(i,e,t){if(i||(i=new ur([],{})),0===i.segments.length&&i.hasChildren())return i_(i,e,t);const o=function Lj(i,e,t){let o=0,u=e;const d={match:!1,pathIndex:0,commandIndex:0};for(;u<i.segments.length;){if(o>=t.length)return d;const p=i.segments[u],g=t[o];if(r_(g))break;const _=`${g}`,E=o<t.length-1?t[o+1]:null;if(u>0&&void 0===_)break;if(_&&E&&"object"==typeof E&&void 0===E.outlets){if(!jM(_,E,p))return d;o+=2}else{if(!jM(_,{},p))return d;o++}u++}return{match:!0,pathIndex:u,commandIndex:o}}(i,e,t),u=t.slice(o.commandIndex);if(o.match&&o.pathIndex<i.segments.length){const d=new ur(i.segments.slice(0,o.pathIndex),{});return d.children[Qt]=new ur(i.segments.slice(o.pathIndex),i.children),i_(d,0,u)}return o.match&&0===u.length?new ur(i.segments,{}):o.match&&!i.hasChildren()?iC(i,e,t):o.match?i_(i,0,u):iC(i,e,t)}function i_(i,e,t){if(0===t.length)return new ur(i.segments,{});{const o=function Fj(i){return r_(i[0])?i[0].outlets:{[Qt]:i}}(t),u={};if(!o[Qt]&&i.children[Qt]&&1===i.numberOfChildren&&0===i.children[Qt].segments.length){const d=i_(i.children[Qt],e,t);return new ur(i.segments,d.children)}return Object.entries(o).forEach(([d,p])=>{"string"==typeof p&&(p=[p]),null!==p&&(u[d]=VM(i.children[d],e,p))}),Object.entries(i.children).forEach(([d,p])=>{void 0===o[d]&&(u[d]=p)}),new ur(i.segments,u)}}function iC(i,e,t){const o=i.segments.slice(0,e);let u=0;for(;u<t.length;){const d=t[u];if(r_(d)){const _=Vj(d.outlets);return new ur(o,_)}if(0===u&&qb(t[0])){o.push(new e_(i.segments[e].path,BM(t[0]))),u++;continue}const p=r_(d)?d.outlets[Qt]:`${d}`,g=u<t.length-1?t[u+1]:null;p&&g&&qb(g)?(o.push(new e_(p,BM(g))),u+=2):(o.push(new e_(p,{})),u++)}return new ur(o,{})}function Vj(i){const e={};return Object.entries(i).forEach(([t,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(e[t]=iC(new ur([],{}),0,o))}),e}function BM(i){const e={};return Object.entries(i).forEach(([t,o])=>e[t]=`${o}`),e}function jM(i,e,t){return i==t.path&&Cd(e,t.parameters)}const o_="imperative";class Dd{constructor(e,t){this.id=e,this.url=t}}class oC extends Dd{constructor(e,t,o="imperative",u=null){super(e,t),this.type=0,this.navigationTrigger=o,this.restoredState=u}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Jm extends Dd{constructor(e,t,o){super(e,t),this.urlAfterRedirects=o,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Wb extends Dd{constructor(e,t,o,u){super(e,t),this.reason=o,this.code=u,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class s_ extends Dd{constructor(e,t,o,u){super(e,t),this.reason=o,this.code=u,this.type=16}}class sC extends Dd{constructor(e,t,o,u){super(e,t),this.error=o,this.target=u,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Bj extends Dd{constructor(e,t,o,u){super(e,t),this.urlAfterRedirects=o,this.state=u,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jj extends Dd{constructor(e,t,o,u){super(e,t),this.urlAfterRedirects=o,this.state=u,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Uj extends Dd{constructor(e,t,o,u,d){super(e,t),this.urlAfterRedirects=o,this.state=u,this.shouldActivate=d,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Hj extends Dd{constructor(e,t,o,u){super(e,t),this.urlAfterRedirects=o,this.state=u,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zj extends Dd{constructor(e,t,o,u){super(e,t),this.urlAfterRedirects=o,this.state=u,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $j{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class qj{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Gj{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wj{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kj{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yj{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class UM{constructor(e,t,o){this.routerEvent=e,this.position=t,this.anchor=o,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Zj{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new a_,this.attachRef=null}}let a_=(()=>{class i{constructor(){this.contexts=new Map}onChildOutletCreated(t,o){const u=this.getOrCreateContext(t);u.outlet=o,this.contexts.set(t,u)}onChildOutletDestroyed(t){const o=this.getContext(t);o&&(o.outlet=null,o.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let o=this.getContext(t);return o||(o=new Zj,this.contexts.set(t,o)),o}getContext(t){return this.contexts.get(t)||null}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class HM{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=aC(e,this._root);return t?t.children.map(o=>o.value):[]}firstChild(e){const t=aC(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=uC(e,this._root);return t.length<2?[]:t[t.length-2].children.map(u=>u.value).filter(u=>u!==e)}pathFromRoot(e){return uC(e,this._root).map(t=>t.value)}}function aC(i,e){if(i===e.value)return e;for(const t of e.children){const o=aC(i,t);if(o)return o}return null}function uC(i,e){if(i===e.value)return[e];for(const t of e.children){const o=uC(i,t);if(o.length)return o.unshift(e),o}return[]}class Jh{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Fv(i){const e={};return i&&i.children.forEach(t=>e[t.value.outlet]=t),e}class zM extends HM{constructor(e,t){super(e),this.snapshot=t,cC(this,e)}toString(){return this.snapshot.toString()}}function $M(i,e){const t=function Xj(i,e){const p=new Kb([],{},{},"",{},Qt,e,null,{});return new GM("",new Jh(p,[]))}(0,e),o=new zu([new e_("",{})]),u=new zu({}),d=new zu({}),p=new zu({}),g=new zu(""),_=new eg(o,u,p,g,d,Qt,e,t.root);return _.snapshot=t.root,new zM(new Jh(_,[]),t)}class eg{constructor(e,t,o,u,d,p,g,_){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=o,this.fragmentSubject=u,this.dataSubject=d,this.outlet=p,this.component=g,this._futureSnapshot=_,this.title=this.dataSubject?.pipe(je(E=>E[Jy]))??_t(void 0),this.url=e,this.params=t,this.queryParams=o,this.fragment=u,this.data=d}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(je(e=>Nv(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(je(e=>Nv(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function qM(i,e="emptyOnly"){const t=i.pathFromRoot;let o=0;if("always"!==e)for(o=t.length-1;o>=1;){const u=t[o],d=t[o-1];if(u.routeConfig&&""===u.routeConfig.path)o--;else{if(d.component)break;o--}}return function Qj(i){return i.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(o))}class Kb{get title(){return this.data?.[Jy]}constructor(e,t,o,u,d,p,g,_,E){this.url=e,this.params=t,this.queryParams=o,this.fragment=u,this.data=d,this.outlet=p,this.component=g,this.routeConfig=_,this._resolve=E}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Nv(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nv(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class GM extends HM{constructor(e,t){super(t),this.url=e,cC(this,t)}toString(){return WM(this._root)}}function cC(i,e){e.value._routerState=i,e.children.forEach(t=>cC(i,t))}function WM(i){const e=i.children.length>0?` { ${i.children.map(WM).join(", ")} } `:"";return`${i.value}${e}`}function lC(i){if(i.snapshot){const e=i.snapshot,t=i._futureSnapshot;i.snapshot=t,Cd(e.queryParams,t.queryParams)||i.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&i.fragmentSubject.next(t.fragment),Cd(e.params,t.params)||i.paramsSubject.next(t.params),function fj(i,e){if(i.length!==e.length)return!1;for(let t=0;t<i.length;++t)if(!Cd(i[t],e[t]))return!1;return!0}(e.url,t.url)||i.urlSubject.next(t.url),Cd(e.data,t.data)||i.dataSubject.next(t.data)}else i.snapshot=i._futureSnapshot,i.dataSubject.next(i._futureSnapshot.data)}function dC(i,e){const t=Cd(i.params,e.params)&&function vj(i,e){return Xm(i,e)&&i.every((t,o)=>Cd(t.parameters,e[o].parameters))}(i.url,e.url);return t&&!(!i.parent!=!e.parent)&&(!i.parent||dC(i.parent,e.parent))}let hC=(()=>{class i{constructor(){this.activated=null,this._activatedRoute=null,this.name=Qt,this.activateEvents=new Tr,this.deactivateEvents=new Tr,this.attachEvents=new Tr,this.detachEvents=new Tr,this.parentContexts=me(a_),this.location=me(ju),this.changeDetector=me(qy),this.environmentInjector=me(An),this.inputBinder=me(Yb,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:o,previousValue:u}=t.name;if(o)return;this.isTrackedInParentContexts(u)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(u)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new le(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new le(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new le(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,o){this.activated=t,this._activatedRoute=o,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,o){if(this.isActivated)throw new le(4013,!1);this._activatedRoute=t;const u=this.location,p=t.snapshot.component,g=this.parentContexts.getOrCreateContext(this.name).children,_=new Jj(t,g,u.injector);this.activated=u.createComponent(p,{index:u.length,injector:_,environmentInjector:o??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=We({type:i,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Li]}),i})();class Jj{constructor(e,t,o){this.route=e,this.childContexts=t,this.parent=o}get(e,t){return e===eg?this.route:e===a_?this.childContexts:this.parent.get(e,t)}}const Yb=new Ie("");let KM=(()=>{class i{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:o}=t,u=Nb([o.queryParams,o.params,o.data]).pipe(Qh(([d,p,g],_)=>(g={...d,...p,...g},0===_?_t(g):Promise.resolve(g)))).subscribe(d=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==o||null===o.component)return void this.unsubscribeFromRouteData(t);const p=function E2(i){const e=Ht(i);if(!e)return null;const t=new xy(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone}}}(o.component);if(p)for(const{templateName:g}of p.inputs)t.activatedComponentRef.setInput(g,d[g]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,u)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=xe({token:i,factory:i.\u0275fac}),i})();function u_(i,e,t){if(t&&i.shouldReuseRoute(e.value,t.value.snapshot)){const o=t.value;o._futureSnapshot=e.value;const u=function tU(i,e,t){return e.children.map(o=>{for(const u of t.children)if(i.shouldReuseRoute(o.value,u.value.snapshot))return u_(i,o,u);return u_(i,o)})}(i,e,t);return new Jh(o,u)}{if(i.shouldAttach(e.value)){const d=i.retrieve(e.value);if(null!==d){const p=d.route;return p.value._futureSnapshot=e.value,p.children=e.children.map(g=>u_(i,g)),p}}const o=function nU(i){return new eg(new zu(i.url),new zu(i.params),new zu(i.queryParams),new zu(i.fragment),new zu(i.data),i.outlet,i.component,i)}(e.value),u=e.children.map(d=>u_(i,d));return new Jh(o,u)}}const fC="ngNavigationCancelingError";function YM(i,e){const{redirectTo:t,navigationBehaviorOptions:o}=Qm(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,u=ZM(!1,0,e);return u.url=t,u.navigationBehaviorOptions=o,u}function ZM(i,e,t){const o=new Error("NavigationCancelingError: "+(i||""));return o[fC]=!0,o.cancellationCode=e,t&&(o.url=t),o}function XM(i){return QM(i)&&Qm(i.url)}function QM(i){return i&&i[fC]}let JM=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=kt({type:i,selectors:[["ng-component"]],standalone:!0,features:[YI],decls:1,vars:0,template:function(t,o){1&t&&To(0,"router-outlet")},dependencies:[hC],encapsulation:2}),i})();function pC(i){const e=i.children&&i.children.map(pC),t=e?{...i,children:e}:{...i};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Qt&&(t.component=JM),t}function ul(i){return i.outlet||Qt}function c_(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let e=i.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class cU{constructor(e,t,o,u,d){this.routeReuseStrategy=e,this.futureState=t,this.currState=o,this.forwardEvent=u,this.inputBindingEnabled=d}activate(e){const t=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,o,e),lC(this.futureState.root),this.activateChildRoutes(t,o,e)}deactivateChildRoutes(e,t,o){const u=Fv(t);e.children.forEach(d=>{const p=d.value.outlet;this.deactivateRoutes(d,u[p],o),delete u[p]}),Object.values(u).forEach(d=>{this.deactivateRouteAndItsChildren(d,o)})}deactivateRoutes(e,t,o){const u=e.value,d=t?t.value:null;if(u===d)if(u.component){const p=o.getContext(u.outlet);p&&this.deactivateChildRoutes(e,t,p.children)}else this.deactivateChildRoutes(e,t,o);else d&&this.deactivateRouteAndItsChildren(t,o)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const o=t.getContext(e.value.outlet),u=o&&e.value.component?o.children:t,d=Fv(e);for(const p of Object.keys(d))this.deactivateRouteAndItsChildren(d[p],u);if(o&&o.outlet){const p=o.outlet.detach(),g=o.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:p,route:e,contexts:g})}}deactivateRouteAndOutlet(e,t){const o=t.getContext(e.value.outlet),u=o&&e.value.component?o.children:t,d=Fv(e);for(const p of Object.keys(d))this.deactivateRouteAndItsChildren(d[p],u);o&&(o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated()),o.attachRef=null,o.route=null)}activateChildRoutes(e,t,o){const u=Fv(t);e.children.forEach(d=>{this.activateRoutes(d,u[d.value.outlet],o),this.forwardEvent(new Yj(d.value.snapshot))}),e.children.length&&this.forwardEvent(new Wj(e.value.snapshot))}activateRoutes(e,t,o){const u=e.value,d=t?t.value:null;if(lC(u),u===d)if(u.component){const p=o.getOrCreateContext(u.outlet);this.activateChildRoutes(e,t,p.children)}else this.activateChildRoutes(e,t,o);else if(u.component){const p=o.getOrCreateContext(u.outlet);if(this.routeReuseStrategy.shouldAttach(u.snapshot)){const g=this.routeReuseStrategy.retrieve(u.snapshot);this.routeReuseStrategy.store(u.snapshot,null),p.children.onOutletReAttached(g.contexts),p.attachRef=g.componentRef,p.route=g.route.value,p.outlet&&p.outlet.attach(g.componentRef,g.route.value),lC(g.route.value),this.activateChildRoutes(e,null,p.children)}else{const g=c_(u.snapshot);p.attachRef=null,p.route=u,p.injector=g,p.outlet&&p.outlet.activateWith(u,p.injector),this.activateChildRoutes(e,null,p.children)}}else this.activateChildRoutes(e,null,o)}}class ex{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Zb{constructor(e,t){this.component=e,this.route=t}}function lU(i,e,t){const o=i._root;return l_(o,e?e._root:null,t,[o.value])}function Lv(i,e){const t=Symbol(),o=e.get(i,t);return o===t?"function"!=typeof i||function su(i){return null!==ou(i)}(i)?e.get(i):i:o}function l_(i,e,t,o,u={canDeactivateChecks:[],canActivateChecks:[]}){const d=Fv(e);return i.children.forEach(p=>{(function hU(i,e,t,o,u={canDeactivateChecks:[],canActivateChecks:[]}){const d=i.value,p=e?e.value:null,g=t?t.getContext(i.value.outlet):null;if(p&&d.routeConfig===p.routeConfig){const _=function fU(i,e,t){if("function"==typeof t)return t(i,e);switch(t){case"pathParamsChange":return!Xm(i.url,e.url);case"pathParamsOrQueryParamsChange":return!Xm(i.url,e.url)||!Cd(i.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!dC(i,e)||!Cd(i.queryParams,e.queryParams);default:return!dC(i,e)}}(p,d,d.routeConfig.runGuardsAndResolvers);_?u.canActivateChecks.push(new ex(o)):(d.data=p.data,d._resolvedData=p._resolvedData),l_(i,e,d.component?g?g.children:null:t,o,u),_&&g&&g.outlet&&g.outlet.isActivated&&u.canDeactivateChecks.push(new Zb(g.outlet.component,p))}else p&&d_(e,g,u),u.canActivateChecks.push(new ex(o)),l_(i,null,d.component?g?g.children:null:t,o,u)})(p,d[p.value.outlet],t,o.concat([p.value]),u),delete d[p.value.outlet]}),Object.entries(d).forEach(([p,g])=>d_(g,t.getContext(p),u)),u}function d_(i,e,t){const o=Fv(i),u=i.value;Object.entries(o).forEach(([d,p])=>{d_(p,u.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new Zb(u.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,u))}function h_(i){return"function"==typeof i}function tx(i){return i instanceof Pb||"EmptyError"===i?.name}const Xb=Symbol("INITIAL_VALUE");function Vv(){return Qh(i=>Nb(i.map(e=>e.pipe(ps(1),Vb(Xb)))).pipe(je(e=>{for(const t of e)if(!0!==t){if(t===Xb)return Xb;if(!1===t||t instanceof Pv)return t}return!0}),qi(e=>e!==Xb),ps(1)))}function nx(i){return function Jn(...i){return de(i)}(Ao(e=>{if(Qm(e))throw YM(0,e)}),je(e=>!0===e))}class Qb{constructor(e){this.segmentGroup=e||null}}class rx{constructor(e){this.urlTree=e}}function Bv(i){return kv(new Qb(i))}function ix(i){return kv(new rx(i))}class OU{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new le(4002,!1)}lineralizeSegments(e,t){let o=[],u=t.root;for(;;){if(o=o.concat(u.segments),0===u.numberOfChildren)return _t(o);if(u.numberOfChildren>1||!u.children[Qt])return kv(new le(4e3,!1));u=u.children[Qt]}}applyRedirectCommands(e,t,o){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,o)}applyRedirectCreateUrlTree(e,t,o,u){const d=this.createSegmentGroup(e,t.root,o,u);return new Pv(d,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const o={};return Object.entries(e).forEach(([u,d])=>{if("string"==typeof d&&d.startsWith(":")){const g=d.substring(1);o[u]=t[g]}else o[u]=d}),o}createSegmentGroup(e,t,o,u){const d=this.createSegments(e,t.segments,o,u);let p={};return Object.entries(t.children).forEach(([g,_])=>{p[g]=this.createSegmentGroup(e,_,o,u)}),new ur(d,p)}createSegments(e,t,o,u){return t.map(d=>d.path.startsWith(":")?this.findPosParam(e,d,u):this.findOrReturn(d,o))}findPosParam(e,t,o){const u=o[t.path.substring(1)];if(!u)throw new le(4001,!1);return u}findOrReturn(e,t){let o=0;for(const u of t){if(u.path===e.path)return t.splice(o),u;o++}return e}}const mC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function NU(i,e,t,o,u){const d=gC(i,e,t);return d.matched?(o=function rU(i,e){return i.providers&&!i._injector&&(i._injector=Uw(i.providers,e,`Route: ${i.path}`)),i._injector??e}(e,o),function xU(i,e,t,o){const u=e.canMatch;return u&&0!==u.length?_t(u.map(p=>{const g=Lv(p,i);return Mp(function _U(i){return i&&h_(i.canMatch)}(g)?g.canMatch(e,t):i.runInContext(()=>g(e,t)))})).pipe(Vv(),nx()):_t(!0)}(o,e,t).pipe(je(p=>!0===p?d:{...mC}))):_t(d)}function gC(i,e,t){if(""===e.path)return"full"===e.pathMatch&&(i.hasChildren()||t.length>0)?{...mC}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const u=(e.matcher||hj)(t,i,e);if(!u)return{...mC};const d={};Object.entries(u.posParams??{}).forEach(([g,_])=>{d[g]=_.path});const p=u.consumed.length>0?{...d,...u.consumed[u.consumed.length-1].parameters}:d;return{matched:!0,consumedSegments:u.consumed,remainingSegments:t.slice(u.consumed.length),parameters:p,positionalParamSegments:u.posParams??{}}}function ox(i,e,t,o){return t.length>0&&function LU(i,e,t){return t.some(o=>Jb(i,e,o)&&ul(o)!==Qt)}(i,t,o)?{segmentGroup:new ur(e,FU(o,new ur(t,i.children))),slicedSegments:[]}:0===t.length&&function VU(i,e,t){return t.some(o=>Jb(i,e,o))}(i,t,o)?{segmentGroup:new ur(i.segments,PU(i,0,t,o,i.children)),slicedSegments:t}:{segmentGroup:new ur(i.segments,i.children),slicedSegments:t}}function PU(i,e,t,o,u){const d={};for(const p of o)if(Jb(i,t,p)&&!u[ul(p)]){const g=new ur([],{});d[ul(p)]=g}return{...u,...d}}function FU(i,e){const t={};t[Qt]=e;for(const o of i)if(""===o.path&&ul(o)!==Qt){const u=new ur([],{});t[ul(o)]=u}return t}function Jb(i,e,t){return(!(i.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class HU{constructor(e,t,o,u,d,p,g){this.injector=e,this.configLoader=t,this.rootComponentType=o,this.config=u,this.urlTree=d,this.paramsInheritanceStrategy=p,this.urlSerializer=g,this.allowRedirects=!0,this.applyRedirects=new OU(this.urlSerializer,this.urlTree)}noMatchError(e){return new le(4002,!1)}recognize(){const e=ox(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Qt).pipe(Ap(t=>{if(t instanceof rx)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Qb?this.noMatchError(t):t}),je(t=>{const o=new Kb([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Qt,this.rootComponentType,null,{}),u=new Jh(o,t),d=new GM("",u),p=function kj(i,e,t=null,o=null){return PM(NM(i),e,t,o)}(o,[],this.urlTree.queryParams,this.urlTree.fragment);return p.queryParams=this.urlTree.queryParams,d.url=this.urlSerializer.serialize(p),this.inheritParamsAndData(d._root),{state:d,tree:p}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Qt).pipe(Ap(o=>{throw o instanceof Qb?this.noMatchError(o):o}))}inheritParamsAndData(e){const t=e.value,o=qM(t,this.paramsInheritanceStrategy);t.params=Object.freeze(o.params),t.data=Object.freeze(o.data),e.children.forEach(u=>this.inheritParamsAndData(u))}processSegmentGroup(e,t,o,u){return 0===o.segments.length&&o.hasChildren()?this.processChildren(e,t,o):this.processSegment(e,t,o,o.segments,u,!0)}processChildren(e,t,o){const u=[];for(const d of Object.keys(o.children))"primary"===d?u.unshift(d):u.push(d);return gt(u).pipe(Ov(d=>{const p=o.children[d],g=function aU(i,e){const t=i.filter(o=>ul(o)===e);return t.push(...i.filter(o=>ul(o)!==e)),t}(t,d);return this.processSegmentGroup(e,g,p,d)}),function uj(i,e){return Oe(function aj(i,e,t,o,u){return(d,p)=>{let g=t,_=e,E=0;d.subscribe(Ue(p,S=>{const x=E++;_=g?i(_,S,x):(g=!0,S),o&&p.next(_)},u&&(()=>{g&&p.next(_),p.complete()})))}}(i,e,arguments.length>=2,!0))}((d,p)=>(d.push(...p),d)),Bb(null),function cj(i,e){const t=arguments.length>=2;return o=>o.pipe(i?qi((u,d)=>i(u,d,o)):qr,JE(1),t?Bb(e):wM(()=>new Pb))}(),St(d=>{if(null===d)return Bv(o);const p=sx(d);return function zU(i){i.sort((e,t)=>e.value.outlet===Qt?-1:t.value.outlet===Qt?1:e.value.outlet.localeCompare(t.value.outlet))}(p),_t(p)}))}processSegment(e,t,o,u,d,p){return gt(t).pipe(Ov(g=>this.processSegmentAgainstRoute(g._injector??e,t,g,o,u,d,p).pipe(Ap(_=>{if(_ instanceof Qb)return _t(null);throw _}))),Zm(g=>!!g),Ap(g=>{if(tx(g))return function jU(i,e,t){return 0===e.length&&!i.children[t]}(o,u,d)?_t([]):Bv(o);throw g}))}processSegmentAgainstRoute(e,t,o,u,d,p,g){return function BU(i,e,t,o){return!!(ul(i)===o||o!==Qt&&Jb(e,t,i))&&("**"===i.path||gC(e,i,t).matched)}(o,u,d,p)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,u,o,d,p,g):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,u,t,o,d,p):Bv(u):Bv(u)}expandSegmentAgainstRouteUsingRedirect(e,t,o,u,d,p){return"**"===u.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,o,u,p):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,o,u,d,p)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,o,u){const d=this.applyRedirects.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?ix(d):this.applyRedirects.lineralizeSegments(o,d).pipe(St(p=>{const g=new ur(p,{});return this.processSegment(e,t,g,p,u,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,o,u,d,p){const{matched:g,consumedSegments:_,remainingSegments:E,positionalParamSegments:S}=gC(t,u,d);if(!g)return Bv(t);const x=this.applyRedirects.applyRedirectCommands(_,u.redirectTo,S);return u.redirectTo.startsWith("/")?ix(x):this.applyRedirects.lineralizeSegments(u,x).pipe(St(L=>this.processSegment(e,o,t,L.concat(E),p,!1)))}matchSegmentAgainstRoute(e,t,o,u,d,p){let g;if("**"===o.path){const _=u.length>0?CM(u).parameters:{};g=_t({snapshot:new Kb(u,_,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ax(o),ul(o),o.component??o._loadedComponent??null,o,ux(o)),consumedSegments:[],remainingSegments:[]}),t.children={}}else g=NU(t,o,u,e).pipe(je(({matched:_,consumedSegments:E,remainingSegments:S,parameters:x})=>_?{snapshot:new Kb(E,x,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ax(o),ul(o),o.component??o._loadedComponent??null,o,ux(o)),consumedSegments:E,remainingSegments:S}:null));return g.pipe(Qh(_=>null===_?Bv(t):this.getChildConfig(e=o._injector??e,o,u).pipe(Qh(({routes:E})=>{const S=o._loadedInjector??e,{snapshot:x,consumedSegments:L,remainingSegments:V}=_,{segmentGroup:$,slicedSegments:Y}=ox(t,L,V,E);if(0===Y.length&&$.hasChildren())return this.processChildren(S,E,$).pipe(je(ve=>null===ve?null:[new Jh(x,ve)]));if(0===E.length&&0===Y.length)return _t([new Jh(x,[])]);const ue=ul(o)===d;return this.processSegment(S,E,$,Y,ue?Qt:d,!0).pipe(je(ve=>[new Jh(x,ve)]))}))))}getChildConfig(e,t,o){return t.children?_t({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?_t({routes:t._loadedRoutes,injector:t._loadedInjector}):function MU(i,e,t,o){const u=e.canLoad;return void 0===u||0===u.length?_t(!0):_t(u.map(p=>{const g=Lv(p,i);return Mp(function mU(i){return i&&h_(i.canLoad)}(g)?g.canLoad(e,t):i.runInContext(()=>g(e,t)))})).pipe(Vv(),nx())}(e,t,o).pipe(St(u=>u?this.configLoader.loadChildren(e,t).pipe(Ao(d=>{t._loadedRoutes=d.routes,t._loadedInjector=d.injector})):function kU(i){return kv(ZM(!1,3))}())):_t({routes:[],injector:e})}}function $U(i){const e=i.value.routeConfig;return e&&""===e.path}function sx(i){const e=[],t=new Set;for(const o of i){if(!$U(o)){e.push(o);continue}const u=e.find(d=>o.value.routeConfig===d.value.routeConfig);void 0!==u?(u.children.push(...o.children),t.add(u)):e.push(o)}for(const o of t){const u=sx(o.children);e.push(new Jh(o.value,u))}return e.filter(o=>!t.has(o))}function ax(i){return i.data||{}}function ux(i){return i.resolve||{}}function cx(i){return"string"==typeof i.title||null===i.title}function vC(i){return Qh(e=>{const t=i(e);return t?gt(t).pipe(je(()=>e)):_t(e)})}const jv=new Ie("ROUTES");let yC=(()=>{class i{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=me(jT)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return _t(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const o=Mp(t.loadComponent()).pipe(je(lx),Ao(d=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=d}),jb(()=>{this.componentLoaders.delete(t)})),u=new bM(o,()=>new ye).pipe(QE());return this.componentLoaders.set(t,u),u}loadChildren(t,o){if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return _t({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);const d=this.loadModuleFactoryOrRoutes(o.loadChildren).pipe(je(g=>{this.onLoadEndListener&&this.onLoadEndListener(o);let _,E;return Array.isArray(g)?E=g:(_=g.create(t).injector,E=_.get(jv,[],it.Self|it.Optional).flat()),{routes:E.map(pC),injector:_}}),jb(()=>{this.childrenLoaders.delete(o)})),p=new bM(d,()=>new ye).pipe(QE());return this.childrenLoaders.set(o,p),p}loadModuleFactoryOrRoutes(t){return Mp(t()).pipe(je(lx),St(o=>o instanceof WI||Array.isArray(o)?_t(o):gt(this.compiler.compileModuleAsync(o))))}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function lx(i){return function XU(i){return i&&"object"==typeof i&&"default"in i}(i)?i.default:i}let e0=(()=>{class i{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new ye,this.configLoader=me(yC),this.environmentInjector=me(An),this.urlSerializer=me(t_),this.rootContexts=me(a_),this.inputBindingEnabled=null!==me(Yb,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>_t(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=u=>this.events.next(new qj(u)),this.configLoader.onLoadStartListener=u=>this.events.next(new $j(u))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const o=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:o})}setupNavigations(t){return this.transitions=new zu({id:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:o_,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(qi(o=>0!==o.id),je(o=>({...o,extractedUrl:t.urlHandlingStrategy.extract(o.rawUrl)})),Qh(o=>{let u=!1,d=!1;return _t(o).pipe(Ao(p=>{this.currentNavigation={id:p.id,initialUrl:p.rawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Qh(p=>{const g=t.browserUrlTree.toString(),_=!t.navigated||p.extractedUrl.toString()!==g||g!==t.currentUrlTree.toString();if(!_&&"reload"!==(p.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const S="";return this.events.next(new s_(p.id,t.serializeUrl(o.rawUrl),S,0)),t.rawUrlTree=p.rawUrl,p.resolve(null),br}if(t.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return dx(p.source)&&(t.browserUrlTree=p.extractedUrl),_t(p).pipe(Qh(S=>{const x=this.transitions?.getValue();return this.events.next(new oC(S.id,this.urlSerializer.serialize(S.extractedUrl),S.source,S.restoredState)),x!==this.transitions?.getValue()?br:Promise.resolve(S)}),function qU(i,e,t,o,u,d){return St(p=>function UU(i,e,t,o,u,d,p="emptyOnly"){return new HU(i,e,t,o,u,p,d).recognize()}(i,e,t,o,p.extractedUrl,u,d).pipe(je(({state:g,tree:_})=>({...p,targetSnapshot:g,urlAfterRedirects:_}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Ao(S=>{if(o.targetSnapshot=S.targetSnapshot,o.urlAfterRedirects=S.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:S.urlAfterRedirects},"eager"===t.urlUpdateStrategy){if(!S.extras.skipLocationChange){const L=t.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);t.setBrowserUrl(L,S)}t.browserUrlTree=S.urlAfterRedirects}const x=new Bj(S.id,this.urlSerializer.serialize(S.extractedUrl),this.urlSerializer.serialize(S.urlAfterRedirects),S.targetSnapshot);this.events.next(x)}));if(_&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:S,extractedUrl:x,source:L,restoredState:V,extras:$}=p,Y=new oC(S,this.urlSerializer.serialize(x),L,V);this.events.next(Y);const ue=$M(0,this.rootComponentType).snapshot;return _t(o={...p,targetSnapshot:ue,urlAfterRedirects:x,extras:{...$,skipLocationChange:!1,replaceUrl:!1}})}{const S="";return this.events.next(new s_(p.id,t.serializeUrl(o.extractedUrl),S,1)),t.rawUrlTree=p.rawUrl,p.resolve(null),br}}),Ao(p=>{const g=new jj(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}),je(p=>o={...p,guards:lU(p.targetSnapshot,p.currentSnapshot,this.rootContexts)}),function wU(i,e){return St(t=>{const{targetSnapshot:o,currentSnapshot:u,guards:{canActivateChecks:d,canDeactivateChecks:p}}=t;return 0===p.length&&0===d.length?_t({...t,guardsResult:!0}):function EU(i,e,t,o){return gt(i).pipe(St(u=>function AU(i,e,t,o,u){const d=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return d&&0!==d.length?_t(d.map(g=>{const _=c_(e)??u,E=Lv(g,_);return Mp(function yU(i){return i&&h_(i.canDeactivate)}(E)?E.canDeactivate(i,e,t,o):_.runInContext(()=>E(i,e,t,o))).pipe(Zm())})).pipe(Vv()):_t(!0)}(u.component,u.route,t,e,o)),Zm(u=>!0!==u,!0))}(p,o,u,i).pipe(St(g=>g&&function pU(i){return"boolean"==typeof i}(g)?function CU(i,e,t,o){return gt(e).pipe(Ov(u=>Fb(function SU(i,e){return null!==i&&e&&e(new Gj(i)),_t(!0)}(u.route.parent,o),function DU(i,e){return null!==i&&e&&e(new Kj(i)),_t(!0)}(u.route,o),function TU(i,e,t){const o=e[e.length-1],d=e.slice(0,e.length-1).reverse().map(p=>function dU(i){const e=i.routeConfig?i.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:i,guards:e}:null}(p)).filter(p=>null!==p).map(p=>Lb(()=>_t(p.guards.map(_=>{const E=c_(p.node)??t,S=Lv(_,E);return Mp(function vU(i){return i&&h_(i.canActivateChild)}(S)?S.canActivateChild(o,i):E.runInContext(()=>S(o,i))).pipe(Zm())})).pipe(Vv())));return _t(d).pipe(Vv())}(i,u.path,t),function IU(i,e,t){const o=e.routeConfig?e.routeConfig.canActivate:null;if(!o||0===o.length)return _t(!0);const u=o.map(d=>Lb(()=>{const p=c_(e)??t,g=Lv(d,p);return Mp(function gU(i){return i&&h_(i.canActivate)}(g)?g.canActivate(e,i):p.runInContext(()=>g(e,i))).pipe(Zm())}));return _t(u).pipe(Vv())}(i,u.route,t))),Zm(u=>!0!==u,!0))}(o,d,i,e):_t(g)),je(g=>({...t,guardsResult:g})))})}(this.environmentInjector,p=>this.events.next(p)),Ao(p=>{if(o.guardsResult=p.guardsResult,Qm(p.guardsResult))throw YM(0,p.guardsResult);const g=new Uj(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.events.next(g)}),qi(p=>!!p.guardsResult||(t.restoreHistory(p),this.cancelNavigationTransition(p,"",3),!1)),vC(p=>{if(p.guards.canActivateChecks.length)return _t(p).pipe(Ao(g=>{const _=new Hj(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(_)}),Qh(g=>{let _=!1;return _t(g).pipe(function GU(i,e){return St(t=>{const{targetSnapshot:o,guards:{canActivateChecks:u}}=t;if(!u.length)return _t(t);let d=0;return gt(u).pipe(Ov(p=>function WU(i,e,t,o){const u=i.routeConfig,d=i._resolve;return void 0!==u?.title&&!cx(u)&&(d[Jy]=u.title),function KU(i,e,t,o){const u=function YU(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}(i);if(0===u.length)return _t({});const d={};return gt(u).pipe(St(p=>function ZU(i,e,t,o){const u=c_(e)??o,d=Lv(i,u);return Mp(d.resolve?d.resolve(e,t):u.runInContext(()=>d(e,t)))}(i[p],e,t,o).pipe(Zm(),Ao(g=>{d[p]=g}))),JE(1),function lj(i){return je(()=>i)}(d),Ap(p=>tx(p)?br:kv(p)))}(d,i,e,o).pipe(je(p=>(i._resolvedData=p,i.data=qM(i,t).resolve,u&&cx(u)&&(i.data[Jy]=u.title),null)))}(p.route,o,i,e)),Ao(()=>d++),JE(1),St(p=>d===u.length?_t(t):br))})}(t.paramsInheritanceStrategy,this.environmentInjector),Ao({next:()=>_=!0,complete:()=>{_||(t.restoreHistory(g),this.cancelNavigationTransition(g,"",2))}}))}),Ao(g=>{const _=new zj(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(_)}))}),vC(p=>{const g=_=>{const E=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&E.push(this.configLoader.loadComponent(_.routeConfig).pipe(Ao(S=>{_.component=S}),je(()=>{})));for(const S of _.children)E.push(...g(S));return E};return Nb(g(p.targetSnapshot.root)).pipe(Bb(),ps(1))}),vC(()=>this.afterPreactivation()),je(p=>{const g=function eU(i,e,t){const o=u_(i,e._root,t?t._root:void 0);return new zM(o,e)}(t.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return o={...p,targetRouterState:g}}),Ao(p=>{t.currentUrlTree=p.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(p.urlAfterRedirects,p.rawUrl),t.routerState=p.targetRouterState,"deferred"===t.urlUpdateStrategy&&(p.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,p),t.browserUrlTree=p.urlAfterRedirects)}),((i,e,t,o)=>je(u=>(new cU(e,u.targetRouterState,u.currentRouterState,t,o).activate(i),u)))(this.rootContexts,t.routeReuseStrategy,p=>this.events.next(p),this.inputBindingEnabled),ps(1),Ao({next:p=>{u=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Jm(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(p.targetRouterState.snapshot),p.resolve(!0)},complete:()=>{u=!0}}),jb(()=>{u||d||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Ap(p=>{if(d=!0,QM(p)){XM(p)||(t.navigated=!0,t.restoreHistory(o,!0));const g=new Wb(o.id,this.urlSerializer.serialize(o.extractedUrl),p.message,p.cancellationCode);if(this.events.next(g),XM(p)){const _=t.urlHandlingStrategy.merge(p.url,t.rawUrlTree),E={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||dx(o.source)};t.scheduleNavigation(_,o_,null,E,{resolve:o.resolve,reject:o.reject,promise:o.promise})}else o.resolve(!1)}else{t.restoreHistory(o,!0);const g=new sC(o.id,this.urlSerializer.serialize(o.extractedUrl),p,o.targetSnapshot??void 0);this.events.next(g);try{o.resolve(t.errorHandler(p))}catch(_){o.reject(_)}}return br}))}))}cancelNavigationTransition(t,o,u){const d=new Wb(t.id,this.urlSerializer.serialize(t.extractedUrl),o,u);this.events.next(d),t.resolve(!1)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function dx(i){return i!==o_}let hx=(()=>{class i{buildTitle(t){let o,u=t.root;for(;void 0!==u;)o=this.getResolvedTitleForRoute(u)??o,u=u.children.find(d=>d.outlet===Qt);return o}getResolvedTitleForRoute(t){return t.data[Jy]}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=xe({token:i,factory:function(){return me(QU)},providedIn:"root"}),i})(),QU=(()=>{class i extends hx{constructor(t){super(),this.title=t}updateTitle(t){const o=this.buildTitle(t);void 0!==o&&this.title.setTitle(o)}}return i.\u0275fac=function(t){return new(t||i)(H(hM))},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),JU=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=xe({token:i,factory:function(){return me(tH)},providedIn:"root"}),i})();class eH{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let tH=(()=>{class i extends eH{}return i.\u0275fac=function(){let e;return function(o){return(e||(e=ui(i)))(o||i)}}(),i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const t0=new Ie("",{providedIn:"root",factory:()=>({})});let nH=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=xe({token:i,factory:function(){return me(rH)},providedIn:"root"}),i})(),rH=(()=>{class i{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,o){return t}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var Wa=(()=>((Wa=Wa||{})[Wa.COMPLETE=0]="COMPLETE",Wa[Wa.FAILED=1]="FAILED",Wa[Wa.REDIRECTING=2]="REDIRECTING",Wa))();function fx(i,e){i.events.pipe(qi(t=>t instanceof Jm||t instanceof Wb||t instanceof sC||t instanceof s_),je(t=>t instanceof Jm||t instanceof s_?Wa.COMPLETE:t instanceof Wb&&(0===t.code||1===t.code)?Wa.REDIRECTING:Wa.FAILED),qi(t=>t!==Wa.REDIRECTING),ps(1)).subscribe(()=>{e()})}function iH(i){throw i}function oH(i,e,t){return e.parse("/")}const sH={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},aH={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let qs=(()=>{class i{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=me(BT),this.isNgZoneEnabled=!1,this.options=me(t0,{optional:!0})||{},this.pendingTasks=me(EA),this.errorHandler=this.options.errorHandler||iH,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||oH,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=me(nH),this.routeReuseStrategy=me(JU),this.titleStrategy=me(hx),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=me(jv,{optional:!0})?.flat()??[],this.navigationTransitions=me(e0),this.urlSerializer=me(t_),this.location=me(Wy),this.componentInputBindingEnabled=!!me(Yb,{optional:!0}),this.isNgZoneEnabled=me($t)instanceof $t&&$t.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Pv,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=$M(0,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),o_,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const o="popstate"===t.type?"popstate":"hashchange";"popstate"===o&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,o,t.state)},0)}))}navigateToSyncWithBrowser(t,o,u){const d={replaceUrl:!0},p=u?.navigationId?u:null;if(u){const _={...u};delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(d.state=_)}const g=this.parseUrl(t);this.scheduleNavigation(g,o,p,d)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(pC),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,o={}){const{relativeTo:u,queryParams:d,fragment:p,queryParamsHandling:g,preserveFragment:_}=o,E=_?this.currentUrlTree.fragment:p;let x,S=null;switch(g){case"merge":S={...this.currentUrlTree.queryParams,...d};break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=d||null}null!==S&&(S=this.removeEmptyProps(S));try{x=NM(u?u.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),x=this.currentUrlTree.root}return PM(x,t,S,E??null)}navigateByUrl(t,o={skipLocationChange:!1}){const u=Qm(t)?t:this.parseUrl(t),d=this.urlHandlingStrategy.merge(u,this.rawUrlTree);return this.scheduleNavigation(d,o_,null,o)}navigate(t,o={skipLocationChange:!1}){return function uH(i){for(let e=0;e<i.length;e++)if(null==i[e])throw new le(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,o),o)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let o;try{o=this.urlSerializer.parse(t)}catch(u){o=this.malformedUriErrorHandler(u,this.urlSerializer,t)}return o}isActive(t,o){let u;if(u=!0===o?{...sH}:!1===o?{...aH}:o,Qm(t))return SM(this.currentUrlTree,t,u);const d=this.parseUrl(t);return SM(this.currentUrlTree,d,u)}removeEmptyProps(t){return Object.keys(t).reduce((o,u)=>{const d=t[u];return null!=d&&(o[u]=d),o},{})}scheduleNavigation(t,o,u,d,p){if(this.disposed)return Promise.resolve(!1);let g,_,E;p?(g=p.resolve,_=p.reject,E=p.promise):E=new Promise((x,L)=>{g=x,_=L});const S=this.pendingTasks.add();return fx(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(S))}),this.navigationTransitions.handleNavigationRequest({source:o,restoredState:u,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:d,resolve:g,reject:_,promise:E,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),E.catch(x=>Promise.reject(x))}setBrowserUrl(t,o){const u=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(u)||o.extras.replaceUrl){const p={...o.extras.state,...this.generateNgRouterState(o.id,this.browserPageId)};this.location.replaceState(u,"",p)}else{const d={...o.extras.state,...this.generateNgRouterState(o.id,(this.browserPageId??0)+1)};this.location.go(u,"",d)}}restoreHistory(t,o=!1){if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-(this.browserPageId??this.currentPageId);0!==d?this.location.historyGo(d):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===d&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,o){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:o}:{navigationId:t}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class px{}let dH=(()=>{class i{constructor(t,o,u,d,p){this.router=t,this.injector=u,this.preloadingStrategy=d,this.loader=p}setUpPreloading(){this.subscription=this.router.events.pipe(qi(t=>t instanceof Jm),Ov(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,o){const u=[];for(const d of o){d.providers&&!d._injector&&(d._injector=Uw(d.providers,t,`Route: ${d.path}`));const p=d._injector??t,g=d._loadedInjector??p;(d.loadChildren&&!d._loadedRoutes&&void 0===d.canLoad||d.loadComponent&&!d._loadedComponent)&&u.push(this.preloadConfig(p,d)),(d.children||d._loadedRoutes)&&u.push(this.processRoutes(g,d.children??d._loadedRoutes))}return gt(u).pipe(Yi())}preloadConfig(t,o){return this.preloadingStrategy.preload(o,()=>{let u;u=o.loadChildren&&void 0===o.canLoad?this.loader.loadChildren(t,o):_t(null);const d=u.pipe(St(p=>null===p?_t(void 0):(o._loadedRoutes=p.routes,o._loadedInjector=p.injector,this.processRoutes(p.injector??t,p.routes))));return o.loadComponent&&!o._loadedComponent?gt([d,this.loader.loadComponent(o)]).pipe(Yi()):d})}}return i.\u0275fac=function(t){return new(t||i)(H(qs),H(jT),H(An),H(px),H(yC))},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const bC=new Ie("");let mx=(()=>{class i{constructor(t,o,u,d,p={}){this.urlSerializer=t,this.transitions=o,this.viewportScroller=u,this.zone=d,this.options=p,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},p.scrollPositionRestoration=p.scrollPositionRestoration||"disabled",p.anchorScrolling=p.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof oC?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Jm?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof s_&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof UM&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,o){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new UM(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return i.\u0275fac=function(t){gd()},i.\u0275prov=xe({token:i,factory:i.\u0275fac}),i})();function ef(i,e){return{\u0275kind:i,\u0275providers:e}}function vx(){const i=me(Dn);return e=>{const t=i.get(Sp);if(e!==t.components[0])return;const o=i.get(qs),u=i.get(yx);1===i.get(wC)&&o.initialNavigation(),i.get(_x,null,it.Optional)?.setUpPreloading(),i.get(bC,null,it.Optional)?.init(),o.resetRootComponentType(t.componentTypes[0]),u.closed||(u.next(),u.complete(),u.unsubscribe())}}const yx=new Ie("",{factory:()=>new ye}),wC=new Ie("",{providedIn:"root",factory:()=>1}),_x=new Ie("");function mH(i){return ef(0,[{provide:_x,useExisting:dH},{provide:px,useExisting:i}])}const bx=new Ie("ROUTER_FORROOT_GUARD"),vH=[Wy,{provide:t_,useClass:eC},qs,a_,{provide:eg,useFactory:function gx(i){return i.routerState.root},deps:[qs]},yC,[]];function yH(){return new XT("Router",qs)}let wx=(()=>{class i{constructor(t){}static forRoot(t,o){return{ngModule:i,providers:[vH,[],{provide:jv,multi:!0,useValue:t},{provide:bx,useFactory:EH,deps:[[qs,new Au,new sh]]},{provide:t0,useValue:o||{}},o?.useHash?{provide:Ym,useClass:A2}:{provide:Ym,useClass:AA},{provide:bC,useFactory:()=>{const i=me(GV),e=me($t),t=me(t0),o=me(e0),u=me(t_);return t.scrollOffset&&i.setOffset(t.scrollOffset),new mx(u,o,i,e,t)}},o?.preloadingStrategy?mH(o.preloadingStrategy).\u0275providers:[],{provide:XT,multi:!0,useFactory:yH},o?.initialNavigation?CH(o):[],o?.bindToComponentInputs?ef(8,[KM,{provide:Yb,useExisting:KM}]).\u0275providers:[],[{provide:Ex,useFactory:vx},{provide:pE,multi:!0,useExisting:Ex}]]}}static forChild(t){return{ngModule:i,providers:[{provide:jv,multi:!0,useValue:t}]}}}return i.\u0275fac=function(t){return new(t||i)(H(bx,8))},i.\u0275mod=Bn({type:i}),i.\u0275inj=an({}),i})();function EH(i){return"guarded"}function CH(i){return["disabled"===i.initialNavigation?ef(3,[{provide:oE,multi:!0,useFactory:()=>{const e=me(qs);return()=>{e.setUpLocationChangeListener()}}},{provide:wC,useValue:2}]).\u0275providers:[],"enabledBlocking"===i.initialNavigation?ef(2,[{provide:wC,useValue:0},{provide:oE,multi:!0,deps:[Dn],useFactory:e=>{const t=e.get(I2,Promise.resolve());return()=>t.then(()=>new Promise(o=>{const u=e.get(qs),d=e.get(yx);fx(u,()=>{o(!0)}),e.get(e0).afterPreactivation=()=>(o(!0),d.closed?_t(void 0):d),u.initialNavigation()}))}}]).\u0275providers:[]]}const Ex=new Ie(""),Ka=qt(867);class Ya{static init(e){return Ka.default.initializeApp(e),[]}static getFirestore(){return Ka.default.firestore()}static _getFirestore(){return Ka.default.firestore}static getAuth(){return Ka.default.auth()}static getStorage(){return Ka.default.storage()}static getFirestoreTimestamp(){return Ka.default.firestore.Timestamp.now()}}qt(315);class xp{constructor(){this.auth=Ya.getAuth()}createAccountWith(e){return new Promise((t,o)=>{this.auth.createUserWithEmailAndPassword(e.email,e.password).then(u=>{try{e.onComplete(u)}catch{}t(u)}).catch(u=>{try{e.onFail(u)}catch{}o(u)})})}signInAnonymously(e){return new Promise((t,o)=>{this.auth.signInAnonymously().then(u=>{try{e.onComplete(u)}catch{}t(u)}).catch(u=>{try{e.onFail(u)}catch{}o(u)})})}signInWith(e){return new Promise((t,o)=>{e.provider?this.auth.signInWithPopup(this.getProvider(e.provider)).then(u=>{try{e.onComplete(u)}catch{}t(u)}).catch(u=>{try{e.onFail(u)}catch{}o(u)}):this.auth.signInWithEmailAndPassword(e.email,e.password).then(u=>{try{e.onComplete(u)}catch{}t(u)}).catch(u=>{try{e.onFail(u)}catch{}o(u)})})}getProvider(e){switch(e.toLowerCase()){case"google":return new Ka.default.auth.GoogleAuthProvider;case"apple":return new Ka.default.auth.OAuthProvider("apple.com");case"facebook":return new Ka.default.auth.FacebookAuthProvider;case"yahoo":return new Ka.default.auth.OAuthProvider("yahoo.com");case"github":return new Ka.default.auth.GithubAuthProvider;case"twitter":return new Ka.default.auth.TwitterAuthProvider;case"microsoft":return new Ka.default.auth.OAuthProvider("microsoft.com")}}signOut(e){return new Promise((t,o)=>{e?this.auth.signOut().then(()=>{try{e.onComplete()}catch{}t()}).catch(()=>{try{e.onFail()}catch{}o(new Error("Failed to signout."))}):this.auth.signOut()})}listenToSignInStateChanges(e){this.auth.onAuthStateChanged(t=>{e(t)})}sendVerificationEmail(){try{this.validateIsSignedIn(),this.auth.currentUser.sendEmailVerification()}catch(e){console.error(`${e} User must be signed in to use the sendVerificaitonEmail() function.`)}}sendPasswordResetEmail(e){e.onComplete?this.auth.sendPasswordResetEmail(e.email).then(()=>e.onComplete(`Instructions to reset password was sent to ${e.email}.`)).catch(()=>e.onComplete("Failed to send password reset email.")):this.auth.sendPasswordResetEmail(e.email)}isEmailVerified(){try{return this.validateIsSignedIn(),this.auth.currentUser.emailVerified}catch(e){console.error(`User must be signed in to use the isEmailVerified() function. \n${e}`)}return!1}isSignedIn(){return null!=this.auth.currentUser||null!=this.auth.currentUser}validateIsSignedIn(){if(!this.isSignedIn())throw new Error("No user was signed in.")}getAuth(){return this.auth}checkSignInState(e){let t=this.getAuth().currentUser;try{e.whenChanged(t)}catch{}if(this.isSignedIn()){try{e.whenSignedIn(t)}catch{}if(this.isEmailVerified())try{e.whenSignedInAndEmailVerified(t)}catch{}else try{e.whenSignedInAndEmailNotVerified(t)}catch{}}else try{e.whenSignedOut(t)}catch{}}}let EC;try{EC=typeof Intl<"u"&&Intl.v8BreakIterator}catch{EC=!1}let f_,tg,CC,ya=(()=>{class i{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function qV(i){return i===GA}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!EC)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return i.\u0275fac=function(t){return new(t||i)(H(io))},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function n0(i){return function SH(){if(null==f_&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>f_=!0}))}finally{f_=f_||!1}return f_}()?i:!!i.capture}function IH(){if(null==tg){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return tg=!1,tg;if("scrollBehavior"in document.documentElement.style)tg=!0;else{const i=Element.prototype.scrollTo;tg=!!i&&!/\{\s*\[native code\]\s*\}/.test(i.toString())}}return tg}function DC(){let i=typeof document<"u"&&document?document.activeElement:null;for(;i&&i.shadowRoot;){const e=i.shadowRoot.activeElement;if(e===i)break;i=e}return i}function Rp(i){return i.composedPath?i.composedPath()[0]:i.target}function SC(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function TC(i,...e){return e.length?e.some(t=>i[t]):i.altKey||i.shiftKey||i.ctrlKey||i.metaKey}function Dx(i){return qi((e,t)=>i<=t)}function PH(i,e){return i===e}function AC(i){return Oe((e,t)=>{pn(i).subscribe(Ue(t,()=>t.complete(),He)),!t.closed&&e.subscribe(t)})}function o0(i){return null!=i&&"false"!=`${i}`}function Sx(i,e=0){return function FH(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}(i)?Number(i):e}function s0(i){return Array.isArray(i)?i:[i]}function Gi(i){return null==i?"":"string"==typeof i?i:`${i}px`}function Hv(i){return i instanceof Nn?i.nativeElement:i}let LH=(()=>{class i{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),VH=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Bn({type:i}),i.\u0275inj=an({providers:[LH]}),i})();class BH extends Nt{constructor(e,t){super()}schedule(e,t=0){return this}}const a0={setInterval(i,e,...t){const{delegate:o}=a0;return o?.setInterval?o.setInterval(i,e,...t):setInterval(i,e,...t)},clearInterval(i){const{delegate:e}=a0;return(e?.clearInterval||clearInterval)(i)},delegate:void 0};class MC extends BH{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var o;if(this.closed)return this;this.state=e;const u=this.id,d=this.scheduler;return null!=u&&(this.id=this.recycleAsyncId(d,u,t)),this.pending=!0,this.delay=t,this.id=null!==(o=this.id)&&void 0!==o?o:this.requestAsyncId(d,this.id,t),this}requestAsyncId(e,t,o=0){return a0.setInterval(e.flush.bind(e,this),o)}recycleAsyncId(e,t,o=0){if(null!=o&&this.delay===o&&!1===this.pending)return t;null!=t&&a0.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const o=this._execute(e,t);if(o)return o;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let u,o=!1;try{this.work(e)}catch(d){o=!0,u=d||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),u}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:o}=t;this.work=this.state=this.scheduler=null,this.pending=!1,qe(o,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const Ix={now:()=>(Ix.delegate||Date).now(),delegate:void 0};class p_{constructor(e,t=p_.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,o){return new this.schedulerActionCtor(this,e).schedule(o,t)}}p_.now=Ix.now;class xC extends p_{constructor(e,t=p_.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let o;this._active=!0;do{if(o=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,o){for(;e=t.shift();)e.unsubscribe();throw o}}}const RC=new xC(MC),jH=RC,Tx=new Set;let ng,HH=(()=>{class i{constructor(t,o){this._platform=t,this._nonce=o,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):$H}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function zH(i,e){if(!Tx.has(i))try{ng||(ng=document.createElement("style"),e&&(ng.nonce=e),ng.setAttribute("type","text/css"),document.head.appendChild(ng)),ng.sheet&&(ng.sheet.insertRule(`@media ${i} {body{ }}`,0),Tx.add(i))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}}return i.\u0275fac=function(t){return new(t||i)(H(ya),H(cd,8))},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function $H(i){return{matches:"all"===i||""===i,media:i,addListener:()=>{},removeListener:()=>{}}}let Ax=(()=>{class i{constructor(t,o){this._mediaMatcher=t,this._zone=o,this._queries=new Map,this._destroySubject=new ye}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return Mx(s0(t)).some(u=>this._registerQuery(u).mql.matches)}observe(t){let d=Nb(Mx(s0(t)).map(p=>this._registerQuery(p).observable));return d=Fb(d.pipe(ps(1)),d.pipe(Dx(1),function UH(i,e=RC){return Oe((t,o)=>{let u=null,d=null,p=null;const g=()=>{if(u){u.unsubscribe(),u=null;const E=d;d=null,o.next(E)}};function _(){const E=p+i,S=e.now();if(S<E)return u=this.schedule(void 0,E-S),void o.add(u);g()}t.subscribe(Ue(o,E=>{d=E,p=e.now(),u||(u=e.schedule(_,i),o.add(u))},()=>{g(),o.complete()},void 0,()=>{d=u=null}))})}(0))),d.pipe(je(p=>{const g={matches:!1,breakpoints:{}};return p.forEach(({matches:_,query:E})=>{g.matches=g.matches||_,g.breakpoints[E]=_}),g}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const o=this._mediaMatcher.matchMedia(t),d={observable:new te(p=>{const g=_=>this._zone.run(()=>p.next(_));return o.addListener(g),()=>{o.removeListener(g)}}).pipe(Vb(o),je(({matches:p})=>({query:t,matches:p})),AC(this._destroySubject)),mql:o};return this._queries.set(t,d),d}}return i.\u0275fac=function(t){return new(t||i)(H(HH),H($t))},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Mx(i){return i.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const zv_Medium="(min-width: 960px) and (max-width: 1279.98px)",zv_Large="(min-width: 1280px) and (max-width: 1919.98px)";let m_=(()=>{class i{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function KH(i){return!!(i.offsetWidth||i.offsetHeight||"function"==typeof i.getClientRects&&i.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const o=function WH(i){try{return i.frameElement}catch{return null}}(function n3(i){return i.ownerDocument&&i.ownerDocument.defaultView||window}(t));if(o&&(-1===Ox(o)||!this.isVisible(o)))return!1;let u=t.nodeName.toLowerCase(),d=Ox(t);return t.hasAttribute("contenteditable")?-1!==d:!("iframe"===u||"object"===u||this._platform.WEBKIT&&this._platform.IOS&&!function e3(i){let e=i.nodeName.toLowerCase(),t="input"===e&&i.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===u?!!t.hasAttribute("controls")&&-1!==d:"video"===u?-1!==d&&(null!==d||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,o){return function t3(i){return!function ZH(i){return function QH(i){return"input"==i.nodeName.toLowerCase()}(i)&&"hidden"==i.type}(i)&&(function YH(i){let e=i.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(i)||function XH(i){return function JH(i){return"a"==i.nodeName.toLowerCase()}(i)&&i.hasAttribute("href")}(i)||i.hasAttribute("contenteditable")||kx(i))}(t)&&!this.isDisabled(t)&&(o?.ignoreVisibility||this.isVisible(t))}}return i.\u0275fac=function(t){return new(t||i)(H(ya))},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function kx(i){if(!i.hasAttribute("tabindex")||void 0===i.tabIndex)return!1;let e=i.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function Ox(i){if(!kx(i))return null;const e=parseInt(i.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class r3{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,o,u,d=!1){this._element=e,this._checker=t,this._ngZone=o,this._document=u,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,d||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const o=this._getFirstTabbableElement(t);return o?.focus(e),!!o}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let o=0;o<t.length;o++){const u=t[o].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[o]):null;if(u)return u}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let o=t.length-1;o>=0;o--){const u=t[o].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[o]):null;if(u)return u}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(ps(1)).subscribe(e)}}let u0=(()=>{class i{constructor(t,o,u){this._checker=t,this._ngZone=o,this._document=u}create(t,o=!1){return new r3(t,this._checker,this._ngZone,this._document,o)}}return i.\u0275fac=function(t){return new(t||i)(H(m_),H($t),H(rn))},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Nx(i){return 0===i.buttons||0===i.offsetX&&0===i.offsetY}function Px(i){const e=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const o3=new Ie("cdk-input-modality-detector-options"),s3={ignoreKeys:[18,17,224,91,16]},$v=n0({passive:!0,capture:!0});let a3=(()=>{class i{get mostRecentModality(){return this._modality.value}constructor(t,o,u,d){this._platform=t,this._mostRecentTarget=null,this._modality=new zu(null),this._lastTouchMs=0,this._onKeydown=p=>{this._options?.ignoreKeys?.some(g=>g===p.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Rp(p))},this._onMousedown=p=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Nx(p)?"keyboard":"mouse"),this._mostRecentTarget=Rp(p))},this._onTouchstart=p=>{Px(p)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Rp(p))},this._options={...s3,...d},this.modalityDetected=this._modality.pipe(Dx(1)),this.modalityChanged=this.modalityDetected.pipe(function NH(i,e=qr){return i=i??PH,Oe((t,o)=>{let u,d=!0;t.subscribe(Ue(o,p=>{const g=e(p);(d||!i(u,g))&&(d=!1,u=g,o.next(p))}))})}()),t.isBrowser&&o.runOutsideAngular(()=>{u.addEventListener("keydown",this._onKeydown,$v),u.addEventListener("mousedown",this._onMousedown,$v),u.addEventListener("touchstart",this._onTouchstart,$v)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,$v),document.removeEventListener("mousedown",this._onMousedown,$v),document.removeEventListener("touchstart",this._onTouchstart,$v))}}return i.\u0275fac=function(t){return new(t||i)(H(ya),H($t),H(rn),H(o3,8))},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const c3=new Ie("cdk-focus-monitor-default-options"),c0=n0({passive:!0,capture:!0});let g_=(()=>{class i{constructor(t,o,u,d,p){this._ngZone=t,this._platform=o,this._inputModalityDetector=u,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ye,this._rootNodeFocusAndBlurListener=g=>{for(let E=Rp(g);E;E=E.parentElement)"focus"===g.type?this._onFocus(g,E):this._onBlur(g,E)},this._document=d,this._detectionMode=p?.detectionMode||0}monitor(t,o=!1){const u=Hv(t);if(!this._platform.isBrowser||1!==u.nodeType)return _t(null);const d=function AH(i){if(function TH(){if(null==CC){const i=typeof document<"u"?document.head:null;CC=!(!i||!i.createShadowRoot&&!i.attachShadow)}return CC}()){const e=i.getRootNode?i.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(u)||this._getDocument(),p=this._elementInfo.get(u);if(p)return o&&(p.checkChildren=!0),p.subject;const g={checkChildren:o,subject:new ye,rootNode:d};return this._elementInfo.set(u,g),this._registerGlobalListeners(g),g.subject}stopMonitoring(t){const o=Hv(t),u=this._elementInfo.get(o);u&&(u.subject.complete(),this._setClasses(o),this._elementInfo.delete(o),this._removeGlobalListeners(u))}focusVia(t,o,u){const d=Hv(t);d===this._getDocument().activeElement?this._getClosestElementsInfo(d).forEach(([g,_])=>this._originChanged(g,o,_)):(this._setOrigin(o),"function"==typeof d.focus&&d.focus(u))}ngOnDestroy(){this._elementInfo.forEach((t,o)=>this.stopMonitoring(o))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,o){t.classList.toggle("cdk-focused",!!o),t.classList.toggle("cdk-touch-focused","touch"===o),t.classList.toggle("cdk-keyboard-focused","keyboard"===o),t.classList.toggle("cdk-mouse-focused","mouse"===o),t.classList.toggle("cdk-program-focused","program"===o)}_setOrigin(t,o=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&o,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,o){const u=this._elementInfo.get(o),d=Rp(t);!u||!u.checkChildren&&o!==d||this._originChanged(o,this._getFocusOrigin(d),u)}_onBlur(t,o){const u=this._elementInfo.get(o);!u||u.checkChildren&&t.relatedTarget instanceof Node&&o.contains(t.relatedTarget)||(this._setClasses(o),this._emitOrigin(u,null))}_emitOrigin(t,o){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(o))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const o=t.rootNode,u=this._rootNodeFocusListenerCount.get(o)||0;u||this._ngZone.runOutsideAngular(()=>{o.addEventListener("focus",this._rootNodeFocusAndBlurListener,c0),o.addEventListener("blur",this._rootNodeFocusAndBlurListener,c0)}),this._rootNodeFocusListenerCount.set(o,u+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(AC(this._stopInputModalityDetector)).subscribe(d=>{this._setOrigin(d,!0)}))}_removeGlobalListeners(t){const o=t.rootNode;if(this._rootNodeFocusListenerCount.has(o)){const u=this._rootNodeFocusListenerCount.get(o);u>1?this._rootNodeFocusListenerCount.set(o,u-1):(o.removeEventListener("focus",this._rootNodeFocusAndBlurListener,c0),o.removeEventListener("blur",this._rootNodeFocusAndBlurListener,c0),this._rootNodeFocusListenerCount.delete(o))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,o,u){this._setClasses(t,o),this._emitOrigin(u,o),this._lastFocusOrigin=o}_getClosestElementsInfo(t){const o=[];return this._elementInfo.forEach((u,d)=>{(d===t||u.checkChildren&&d.contains(t))&&o.push([d,u])}),o}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:o,mostRecentModality:u}=this._inputModalityDetector;if("mouse"!==u||!o||o===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const d=t.labels;if(d)for(let p=0;p<d.length;p++)if(d[p].contains(o))return!0;return!1}}return i.\u0275fac=function(t){return new(t||i)(H($t),H(ya),H(a3),H(rn,8),H(c3,8))},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Lx="cdk-high-contrast-black-on-white",Vx="cdk-high-contrast-white-on-black",kC="cdk-high-contrast-active";let Bx=(()=>{class i{constructor(t,o){this._platform=t,this._document=o,this._breakpointSubscription=me(Ax).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const o=this._document.defaultView||window,u=o&&o.getComputedStyle?o.getComputedStyle(t):null,d=(u&&u.backgroundColor||"").replace(/ /g,"");switch(t.remove(),d){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(kC,Lx,Vx),this._hasCheckedHighContrastMode=!0;const o=this.getHighContrastMode();1===o?t.add(kC,Lx):2===o&&t.add(kC,Vx)}}}return i.\u0275fac=function(t){return new(t||i)(H(ya),H(rn))},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),l3=(()=>{class i{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return i.\u0275fac=function(t){return new(t||i)(H(Bx))},i.\u0275mod=Bn({type:i}),i.\u0275inj=an({imports:[VH]}),i})();const d3=["addListener","removeListener"],h3=["addEventListener","removeEventListener"],f3=["on","off"];function OC(i,e,t,o){if(_e(t)&&(o=t,t=void 0),o)return OC(i,e,t).pipe(XE(o));const[u,d]=function g3(i){return _e(i.addEventListener)&&_e(i.removeEventListener)}(i)?h3.map(p=>g=>i[p](e,g,t)):function p3(i){return _e(i.addListener)&&_e(i.removeListener)}(i)?d3.map(jx(i,e)):function m3(i){return _e(i.on)&&_e(i.off)}(i)?f3.map(jx(i,e)):[];if(!u&&Nr(i))return St(p=>OC(p,e,t))(pn(i));if(!u)throw new TypeError("Invalid event target");return new te(p=>{const g=(..._)=>p.next(1<_.length?_:_[0]);return u(g),()=>d(g)})}function jx(i,e){return t=>o=>i[t](e,o)}const v_={schedule(i){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:o}=v_;o&&(e=o.requestAnimationFrame,t=o.cancelAnimationFrame);const u=e(d=>{t=void 0,i(d)});return new Nt(()=>t?.(u))},requestAnimationFrame(...i){const{delegate:e}=v_;return(e?.requestAnimationFrame||requestAnimationFrame)(...i)},cancelAnimationFrame(...i){const{delegate:e}=v_;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...i)},delegate:void 0};new class y3 extends xC{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:o}=this;let u;e=e||o.shift();do{if(u=e.execute(e.state,e.delay))break}while((e=o[0])&&e.id===t&&o.shift());if(this._active=!1,u){for(;(e=o[0])&&e.id===t&&o.shift();)e.unsubscribe();throw u}}}(class v3 extends MC{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,o=0){return null!==o&&o>0?super.requestAsyncId(e,t,o):(e.actions.push(this),e._scheduled||(e._scheduled=v_.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,o=0){var u;if(null!=o?o>0:this.delay>0)return super.recycleAsyncId(e,t,o);const{actions:d}=e;null!=t&&(null===(u=d[d.length-1])||void 0===u?void 0:u.id)!==t&&(v_.cancelAnimationFrame(t),e._scheduled=void 0)}});let NC,b3=1;const l0={};function Ux(i){return i in l0&&(delete l0[i],!0)}const w3={setImmediate(i){const e=b3++;return l0[e]=!0,NC||(NC=Promise.resolve()),NC.then(()=>Ux(e)&&i()),e},clearImmediate(i){Ux(i)}},{setImmediate:E3,clearImmediate:C3}=w3,d0={setImmediate(...i){const{delegate:e}=d0;return(e?.setImmediate||E3)(...i)},clearImmediate(i){const{delegate:e}=d0;return(e?.clearImmediate||C3)(i)},delegate:void 0};new class S3 extends xC{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:o}=this;let u;e=e||o.shift();do{if(u=e.execute(e.state,e.delay))break}while((e=o[0])&&e.id===t&&o.shift());if(this._active=!1,u){for(;(e=o[0])&&e.id===t&&o.shift();)e.unsubscribe();throw u}}}(class D3 extends MC{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,o=0){return null!==o&&o>0?super.requestAsyncId(e,t,o):(e.actions.push(this),e._scheduled||(e._scheduled=d0.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,o=0){var u;if(null!=o?o>0:this.delay>0)return super.recycleAsyncId(e,t,o);const{actions:d}=e;null!=t&&(null===(u=d[d.length-1])||void 0===u?void 0:u.id)!==t&&(d0.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});function Hx(i,e=RC){return function T3(i){return Oe((e,t)=>{let o=!1,u=null,d=null,p=!1;const g=()=>{if(d?.unsubscribe(),d=null,o){o=!1;const E=u;u=null,t.next(E)}p&&t.complete()},_=()=>{d=null,p&&t.complete()};e.subscribe(Ue(t,E=>{o=!0,u=E,d||pn(i(E)).subscribe(d=Ue(t,g,_))},()=>{p=!0,(!o||!d||d.closed)&&t.complete()}))})}(()=>function M3(i=0,e,t=jH){let o=-1;return null!=e&&(Ln(e)?t=e:o=e),new te(u=>{let d=function A3(i){return i instanceof Date&&!isNaN(i)}(i)?+i-t.now():i;d<0&&(d=0);let p=0;return t.schedule(function(){u.closed||(u.next(p++),0<=o?this.schedule(void 0,o):u.complete())},d)})}(i,e))}const x3=new Ie("cdk-dir-doc",{providedIn:"root",factory:function R3(){return me(rn)}}),k3=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let PC=(()=>{class i{constructor(t){this.value="ltr",this.change=new Tr,t&&(this.value=function O3(i){const e=i?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?k3.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return i.\u0275fac=function(t){return new(t||i)(H(x3,8))},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),y_=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Bn({type:i}),i.\u0275inj=an({}),i})(),P3=(()=>{class i{constructor(t,o,u){this._ngZone=t,this._platform=o,this._scrolled=new ye,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=u}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const o=this.scrollContainers.get(t);o&&(o.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new te(o=>{this._globalSubscription||this._addGlobalListener();const u=t>0?this._scrolled.pipe(Hx(t)).subscribe(o):this._scrolled.subscribe(o);return this._scrolledCount++,()=>{u.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):_t()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,o)=>this.deregister(o)),this._scrolled.complete()}ancestorScrolled(t,o){const u=this.getAncestorScrollContainers(t);return this.scrolled(o).pipe(qi(d=>!d||u.indexOf(d)>-1))}getAncestorScrollContainers(t){const o=[];return this.scrollContainers.forEach((u,d)=>{this._scrollableContainsElement(d,t)&&o.push(d)}),o}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,o){let u=Hv(o),d=t.getElementRef().nativeElement;do{if(u==d)return!0}while(u=u.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>OC(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return i.\u0275fac=function(t){return new(t||i)(H($t),H(ya),H(rn,8))},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),zx=(()=>{class i{constructor(t,o,u){this._platform=t,this._change=new ye,this._changeListener=d=>{this._change.next(d)},this._document=u,o.runOutsideAngular(()=>{if(t.isBrowser){const d=this._getWindow();d.addEventListener("resize",this._changeListener),d.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:o,height:u}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+u,right:t.left+o,height:u,width:o}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,o=this._getWindow(),u=t.documentElement,d=u.getBoundingClientRect();return{top:-d.top||t.body.scrollTop||o.scrollY||u.scrollTop||0,left:-d.left||t.body.scrollLeft||o.scrollX||u.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Hx(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return i.\u0275fac=function(t){return new(t||i)(H(ya),H($t),H(rn,8))},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),$x=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Bn({type:i}),i.\u0275inj=an({}),i})(),qx=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Bn({type:i}),i.\u0275inj=an({imports:[y_,$x,y_,$x]}),i})();class FC{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class LC extends FC{constructor(e,t,o,u,d){super(),this.component=e,this.viewContainerRef=t,this.injector=o,this.componentFactoryResolver=u,this.projectableNodes=d}}class Gx extends FC{constructor(e,t,o,u){super(),this.templateRef=e,this.viewContainerRef=t,this.context=o,this.injector=u}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class L3 extends FC{constructor(e){super(),this.element=e instanceof Nn?e.nativeElement:e}}class VC{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof LC?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof Gx?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof L3?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class V3 extends VC{constructor(e,t,o,u,d){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=o,this._defaultInjector=u,this.attachDomPortal=p=>{const g=p.element,_=this._document.createComment("dom-portal");g.parentNode.insertBefore(_,g),this.outletElement.appendChild(g),this._attachedPortal=p,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(g,_)})},this._document=d}attachComponentPortal(e){const o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let u;return e.viewContainerRef?(u=e.viewContainerRef.createComponent(o,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>u.destroy())):(u=o.create(e.injector||this._defaultInjector||Dn.NULL),this._appRef.attachView(u.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(u.hostView),u.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(u)),this._attachedPortal=e,u}attachTemplatePortal(e){let t=e.viewContainerRef,o=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return o.rootNodes.forEach(u=>this.outletElement.appendChild(u)),o.detectChanges(),this.setDisposeFn(()=>{let u=t.indexOf(o);-1!==u&&t.remove(u)}),this._attachedPortal=e,o}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let h0=(()=>{class i extends VC{constructor(t,o,u){super(),this._componentFactoryResolver=t,this._viewContainerRef=o,this._isInitialized=!1,this.attached=new Tr,this.attachDomPortal=d=>{const p=d.element,g=this._document.createComment("dom-portal");d.setAttachedHost(this),p.parentNode.insertBefore(g,p),this._getRootNode().appendChild(p),this._attachedPortal=d,super.setDisposeFn(()=>{g.parentNode&&g.parentNode.replaceChild(p,g)})},this._document=u}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const o=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,d=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),p=o.createComponent(d,o.length,t.injector||o.injector,t.projectableNodes||void 0);return o!==this._viewContainerRef&&this._getRootNode().appendChild(p.hostView.rootNodes[0]),super.setDisposeFn(()=>p.destroy()),this._attachedPortal=t,this._attachedRef=p,this.attached.emit(p),p}attachTemplatePortal(t){t.setAttachedHost(this);const o=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return i.\u0275fac=function(t){return new(t||i)(ee(So),ee(ju),ee(rn))},i.\u0275dir=We({type:i,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[vn]}),i})(),__=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Bn({type:i}),i.\u0275inj=an({}),i})();const Wx=IH();class B3{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Gi(-this._previousScrollPosition.left),e.style.top=Gi(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,o=e.style,u=this._document.body.style,d=o.scrollBehavior||"",p=u.scrollBehavior||"";this._isEnabled=!1,o.left=this._previousHTMLStyles.left,o.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),Wx&&(o.scrollBehavior=u.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Wx&&(o.scrollBehavior=d,u.scrollBehavior=p)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,o=this._viewportRuler.getViewportSize();return t.scrollHeight>o.height||t.scrollWidth>o.width}}class j3{constructor(e,t,o,u){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=o,this._config=u,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(qi(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Kx{enable(){}disable(){}attach(){}}function BC(i,e){return e.some(t=>i.bottom<t.top||i.top>t.bottom||i.right<t.left||i.left>t.right)}function Yx(i,e){return e.some(t=>i.top<t.top||i.bottom>t.bottom||i.left<t.left||i.right>t.right)}class U3{constructor(e,t,o,u){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=o,this._config=u,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:o,height:u}=this._viewportRuler.getViewportSize();BC(t,[{width:o,height:u,bottom:u,right:o,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let H3=(()=>{class i{constructor(t,o,u,d){this._scrollDispatcher=t,this._viewportRuler=o,this._ngZone=u,this.noop=()=>new Kx,this.close=p=>new j3(this._scrollDispatcher,this._ngZone,this._viewportRuler,p),this.block=()=>new B3(this._viewportRuler,this._document),this.reposition=p=>new U3(this._scrollDispatcher,this._viewportRuler,this._ngZone,p),this._document=d}}return i.\u0275fac=function(t){return new(t||i)(H(P3),H(zx),H($t),H(rn))},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class Zx{constructor(e){if(this.scrollStrategy=new Kx,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const o of t)void 0!==e[o]&&(this[o]=e[o])}}}class z3{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let Xx=(()=>{class i{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const o=this._attachedOverlays.indexOf(t);o>-1&&this._attachedOverlays.splice(o,1),0===this._attachedOverlays.length&&this.detach()}}return i.\u0275fac=function(t){return new(t||i)(H(rn))},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),$3=(()=>{class i extends Xx{constructor(t,o){super(t),this._ngZone=o,this._keydownListener=u=>{const d=this._attachedOverlays;for(let p=d.length-1;p>-1;p--)if(d[p]._keydownEvents.observers.length>0){const g=d[p]._keydownEvents;this._ngZone?this._ngZone.run(()=>g.next(u)):g.next(u);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return i.\u0275fac=function(t){return new(t||i)(H(rn),H($t,8))},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),q3=(()=>{class i extends Xx{constructor(t,o,u){super(t),this._platform=o,this._ngZone=u,this._cursorStyleIsSet=!1,this._pointerDownListener=d=>{this._pointerDownEventTarget=Rp(d)},this._clickListener=d=>{const p=Rp(d),g="click"===d.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:p;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let E=_.length-1;E>-1;E--){const S=_[E];if(S._outsidePointerEvents.observers.length<1||!S.hasAttached())continue;if(S.overlayElement.contains(p)||S.overlayElement.contains(g))break;const x=S._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>x.next(d)):x.next(d)}}}add(t){if(super.add(t),!this._isAttached){const o=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(o)):this._addEventListeners(o),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=o.style.cursor,o.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return i.\u0275fac=function(t){return new(t||i)(H(rn),H(ya),H($t,8))},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),f0=(()=>{class i{constructor(t,o){this._platform=o,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||SC()){const u=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let d=0;d<u.length;d++)u[d].remove()}const o=this._document.createElement("div");o.classList.add(t),SC()?o.setAttribute("platform","test"):this._platform.isBrowser||o.setAttribute("platform","server"),this._document.body.appendChild(o),this._containerElement=o}}return i.\u0275fac=function(t){return new(t||i)(H(rn),H(ya))},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class qv{constructor(e,t,o,u,d,p,g,_,E,S=!1){this._portalOutlet=e,this._host=t,this._pane=o,this._config=u,this._ngZone=d,this._keyboardDispatcher=p,this._document=g,this._location=_,this._outsideClickDispatcher=E,this._animationsDisabled=S,this._backdropElement=null,this._backdropClick=new ye,this._attachments=new ye,this._detachments=new ye,this._locationChanges=Nt.EMPTY,this._backdropClickHandler=x=>this._backdropClick.next(x),this._backdropTransitionendHandler=x=>{this._disposeBackdrop(x.target)},this._keydownEvents=new ye,this._outsidePointerEvents=new ye,u.scrollStrategy&&(this._scrollStrategy=u.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=u.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(ps(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Gi(this._config.width),e.height=Gi(this._config.height),e.minWidth=Gi(this._config.minWidth),e.minHeight=Gi(this._config.minHeight),e.maxWidth=Gi(this._config.maxWidth),e.maxHeight=Gi(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,o){const u=s0(t||[]).filter(d=>!!d);u.length&&(o?e.classList.add(...u):e.classList.remove(...u))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(AC(pi(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Qx="cdk-overlay-connected-position-bounding-box",G3=/([A-Za-z%]+)$/;class W3{get positions(){return this._preferredPositions}constructor(e,t,o,u,d){this._viewportRuler=t,this._document=o,this._platform=u,this._overlayContainer=d,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ye,this._resizeSubscription=Nt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(Qx),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,o=this._viewportRect,u=this._containerRect,d=[];let p;for(let g of this._preferredPositions){let _=this._getOriginPoint(e,u,g),E=this._getOverlayPoint(_,t,g),S=this._getOverlayFit(E,t,o,g);if(S.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(g,_);this._canFitWithFlexibleDimensions(S,E,o)?d.push({position:g,origin:_,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(_,g)}):(!p||p.overlayFit.visibleArea<S.visibleArea)&&(p={overlayFit:S,overlayPoint:E,originPoint:_,position:g,overlayRect:t})}if(d.length){let g=null,_=-1;for(const E of d){const S=E.boundingBoxRect.width*E.boundingBoxRect.height*(E.position.weight||1);S>_&&(_=S,g=E)}return this._isPushed=!1,void this._applyPosition(g.position,g.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(p.position,p.originPoint);this._applyPosition(p.position,p.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&rg(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Qx),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,o){let u,d;if("center"==o.originX)u=e.left+e.width/2;else{const p=this._isRtl()?e.right:e.left,g=this._isRtl()?e.left:e.right;u="start"==o.originX?p:g}return t.left<0&&(u-=t.left),d="center"==o.originY?e.top+e.height/2:"top"==o.originY?e.top:e.bottom,t.top<0&&(d-=t.top),{x:u,y:d}}_getOverlayPoint(e,t,o){let u,d;return u="center"==o.overlayX?-t.width/2:"start"===o.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,d="center"==o.overlayY?-t.height/2:"top"==o.overlayY?0:-t.height,{x:e.x+u,y:e.y+d}}_getOverlayFit(e,t,o,u){const d=eR(t);let{x:p,y:g}=e,_=this._getOffset(u,"x"),E=this._getOffset(u,"y");_&&(p+=_),E&&(g+=E);let L=0-g,V=g+d.height-o.height,$=this._subtractOverflows(d.width,0-p,p+d.width-o.width),Y=this._subtractOverflows(d.height,L,V),ue=$*Y;return{visibleArea:ue,isCompletelyWithinViewport:d.width*d.height===ue,fitsInViewportVertically:Y===d.height,fitsInViewportHorizontally:$==d.width}}_canFitWithFlexibleDimensions(e,t,o){if(this._hasFlexibleDimensions){const u=o.bottom-t.y,d=o.right-t.x,p=Jx(this._overlayRef.getConfig().minHeight),g=Jx(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=p&&p<=u)&&(e.fitsInViewportHorizontally||null!=g&&g<=d)}return!1}_pushOverlayOnScreen(e,t,o){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const u=eR(t),d=this._viewportRect,p=Math.max(e.x+u.width-d.width,0),g=Math.max(e.y+u.height-d.height,0),_=Math.max(d.top-o.top-e.y,0),E=Math.max(d.left-o.left-e.x,0);let S=0,x=0;return S=u.width<=d.width?E||-p:e.x<this._viewportMargin?d.left-o.left-e.x:0,x=u.height<=d.height?_||-g:e.y<this._viewportMargin?d.top-o.top-e.y:0,this._previousPushAmount={x:S,y:x},{x:e.x+S,y:e.y+x}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const o=this._getScrollVisibility(),u=new z3(e,o);this._positionChanges.next(u)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let o,u=e.overlayY;o="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let d=0;d<t.length;d++)t[d].style.transformOrigin=`${o} ${u}`}_calculateBoundingBoxRect(e,t){const o=this._viewportRect,u=this._isRtl();let d,p,g,S,x,L;if("top"===t.overlayY)p=e.y,d=o.height-p+this._viewportMargin;else if("bottom"===t.overlayY)g=o.height-e.y+2*this._viewportMargin,d=o.height-g+this._viewportMargin;else{const V=Math.min(o.bottom-e.y+o.top,e.y),$=this._lastBoundingBoxSize.height;d=2*V,p=e.y-V,d>$&&!this._isInitialRender&&!this._growAfterOpen&&(p=e.y-$/2)}if("end"===t.overlayX&&!u||"start"===t.overlayX&&u)L=o.width-e.x+this._viewportMargin,S=e.x-this._viewportMargin;else if("start"===t.overlayX&&!u||"end"===t.overlayX&&u)x=e.x,S=o.right-e.x;else{const V=Math.min(o.right-e.x+o.left,e.x),$=this._lastBoundingBoxSize.width;S=2*V,x=e.x-V,S>$&&!this._isInitialRender&&!this._growAfterOpen&&(x=e.x-$/2)}return{top:p,left:x,bottom:g,right:L,width:S,height:d}}_setBoundingBoxStyles(e,t){const o=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(o.height=Math.min(o.height,this._lastBoundingBoxSize.height),o.width=Math.min(o.width,this._lastBoundingBoxSize.width));const u={};if(this._hasExactPosition())u.top=u.left="0",u.bottom=u.right=u.maxHeight=u.maxWidth="",u.width=u.height="100%";else{const d=this._overlayRef.getConfig().maxHeight,p=this._overlayRef.getConfig().maxWidth;u.height=Gi(o.height),u.top=Gi(o.top),u.bottom=Gi(o.bottom),u.width=Gi(o.width),u.left=Gi(o.left),u.right=Gi(o.right),u.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",u.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",d&&(u.maxHeight=Gi(d)),p&&(u.maxWidth=Gi(p))}this._lastBoundingBoxSize=o,rg(this._boundingBox.style,u)}_resetBoundingBoxStyles(){rg(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){rg(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const o={},u=this._hasExactPosition(),d=this._hasFlexibleDimensions,p=this._overlayRef.getConfig();if(u){const S=this._viewportRuler.getViewportScrollPosition();rg(o,this._getExactOverlayY(t,e,S)),rg(o,this._getExactOverlayX(t,e,S))}else o.position="static";let g="",_=this._getOffset(t,"x"),E=this._getOffset(t,"y");_&&(g+=`translateX(${_}px) `),E&&(g+=`translateY(${E}px)`),o.transform=g.trim(),p.maxHeight&&(u?o.maxHeight=Gi(p.maxHeight):d&&(o.maxHeight="")),p.maxWidth&&(u?o.maxWidth=Gi(p.maxWidth):d&&(o.maxWidth="")),rg(this._pane.style,o)}_getExactOverlayY(e,t,o){let u={top:"",bottom:""},d=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(d=this._pushOverlayOnScreen(d,this._overlayRect,o)),"bottom"===e.overlayY?u.bottom=this._document.documentElement.clientHeight-(d.y+this._overlayRect.height)+"px":u.top=Gi(d.y),u}_getExactOverlayX(e,t,o){let p,u={left:"",right:""},d=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(d=this._pushOverlayOnScreen(d,this._overlayRect,o)),p=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===p?u.right=this._document.documentElement.clientWidth-(d.x+this._overlayRect.width)+"px":u.left=Gi(d.x),u}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),o=this._scrollables.map(u=>u.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Yx(e,o),isOriginOutsideView:BC(e,o),isOverlayClipped:Yx(t,o),isOverlayOutsideView:BC(t,o)}}_subtractOverflows(e,...t){return t.reduce((o,u)=>o-Math.max(u,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,o=this._viewportRuler.getViewportScrollPosition();return{top:o.top+this._viewportMargin,left:o.left+this._viewportMargin,right:o.left+e-this._viewportMargin,bottom:o.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&s0(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof Nn)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,o=e.height||0;return{top:e.y,bottom:e.y+o,left:e.x,right:e.x+t,height:o,width:t}}}function rg(i,e){for(let t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);return i}function Jx(i){if("number"!=typeof i&&null!=i){const[e,t]=i.split(G3);return t&&"px"!==t?null:parseFloat(e)}return i||null}function eR(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}const tR="cdk-global-overlay-wrapper";class K3{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(tR),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,o=this._overlayRef.getConfig(),{width:u,height:d,maxWidth:p,maxHeight:g}=o,_=!("100%"!==u&&"100vw"!==u||p&&"100%"!==p&&"100vw"!==p),E=!("100%"!==d&&"100vh"!==d||g&&"100%"!==g&&"100vh"!==g),S=this._xPosition,x=this._xOffset,L="rtl"===this._overlayRef.getConfig().direction;let V="",$="",Y="";_?Y="flex-start":"center"===S?(Y="center",L?$=x:V=x):L?"left"===S||"end"===S?(Y="flex-end",V=x):("right"===S||"start"===S)&&(Y="flex-start",$=x):"left"===S||"start"===S?(Y="flex-start",V=x):("right"===S||"end"===S)&&(Y="flex-end",$=x),e.position=this._cssPosition,e.marginLeft=_?"0":V,e.marginTop=E?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=_?"0":$,t.justifyContent=Y,t.alignItems=E?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,o=t.style;t.classList.remove(tR),o.justifyContent=o.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let Y3=(()=>{class i{constructor(t,o,u,d){this._viewportRuler=t,this._document=o,this._platform=u,this._overlayContainer=d}global(){return new K3}flexibleConnectedTo(t){return new W3(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return i.\u0275fac=function(t){return new(t||i)(H(zx),H(rn),H(ya),H(f0))},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Z3=0,ig=(()=>{class i{constructor(t,o,u,d,p,g,_,E,S,x,L,V){this.scrollStrategies=t,this._overlayContainer=o,this._componentFactoryResolver=u,this._positionBuilder=d,this._keyboardDispatcher=p,this._injector=g,this._ngZone=_,this._document=E,this._directionality=S,this._location=x,this._outsideClickDispatcher=L,this._animationsModuleType=V}create(t){const o=this._createHostElement(),u=this._createPaneElement(o),d=this._createPortalOutlet(u),p=new Zx(t);return p.direction=p.direction||this._directionality.value,new qv(d,o,u,p,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const o=this._document.createElement("div");return o.id="cdk-overlay-"+Z3++,o.classList.add("cdk-overlay-pane"),t.appendChild(o),o}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Sp)),new V3(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return i.\u0275fac=function(t){return new(t||i)(H(H3),H(f0),H(So),H(Y3),H($3),H(Dn),H($t),H(rn),H(PC),H(Wy),H(q3),H(Uo,8))},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const J3={provide:new Ie("cdk-connected-overlay-scroll-strategy"),deps:[ig],useFactory:function Q3(i){return()=>i.scrollStrategies.reposition()}};let nR=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Bn({type:i}),i.\u0275inj=an({providers:[ig,J3],imports:[y_,__,qx,qx]}),i})();function ez(i,e){}class b_{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let jC=(()=>{class i extends VC{constructor(t,o,u,d,p,g,_,E){super(),this._elementRef=t,this._focusTrapFactory=o,this._config=d,this._interactivityChecker=p,this._ngZone=g,this._overlayRef=_,this._focusMonitor=E,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=S=>{this._portalOutlet.hasAttached();const x=this._portalOutlet.attachDomPortal(S);return this._contentAttached(),x},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=u}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const o=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),o}attachTemplatePortal(t){this._portalOutlet.hasAttached();const o=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),o}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,o){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const u=()=>{t.removeEventListener("blur",u),t.removeEventListener("mousedown",u),t.removeAttribute("tabindex")};t.addEventListener("blur",u),t.addEventListener("mousedown",u)})),t.focus(o)}_focusByCssSelector(t,o){let u=this._elementRef.nativeElement.querySelector(t);u&&this._forceFocus(u,o)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(o=>{o||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let o=null;if("string"==typeof t?o=this._document.querySelector(t):"boolean"==typeof t?o=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(o=t),this._config.restoreFocus&&o&&"function"==typeof o.focus){const u=DC(),d=this._elementRef.nativeElement;(!u||u===this._document.body||u===d||d.contains(u))&&(this._focusMonitor?(this._focusMonitor.focusVia(o,this._closeInteractionType),this._closeInteractionType=null):o.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,o=DC();return t===o||t.contains(o)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=DC())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return i.\u0275fac=function(t){return new(t||i)(ee(Nn),ee(u0),ee(rn,8),ee(b_),ee(m_),ee($t),ee(qv),ee(g_))},i.\u0275cmp=kt({type:i,selectors:[["cdk-dialog-container"]],viewQuery:function(t,o){if(1&t&&yT(h0,7),2&t){let u;Qw(u=function Jw(){return function sL(i,e){return i[Go].queries[e].queryList}(we(),xa())}())&&(o._portalOutlet=u.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,o){2&t&&hs("id",o._config.id||null)("role",o._config.role)("aria-modal",o._config.ariaModal)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledBy)("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null)},features:[vn],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,o){1&t&&oo(0,ez,0,0,"ng-template",0)},dependencies:[h0],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),i})();class UC{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new ye,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(o=>{27===o.keyCode&&!this.disableClose&&!TC(o)&&(o.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{!1!==t.closeOnOverlayDetachments&&this.close()})}close(e,t){if(this.containerInstance){const o=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),o.next(e),o.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const rR=new Ie("DialogScrollStrategy"),tz=new Ie("DialogData"),nz=new Ie("DefaultDialogConfig"),iz={provide:rR,deps:[ig],useFactory:function rz(i){return()=>i.scrollStrategies.block()}};let oz=0,HC=(()=>{class i{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,o,u,d,p,g){this._overlay=t,this._injector=o,this._defaultOptions=u,this._parentDialog=d,this._overlayContainer=p,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ye,this._afterOpenedAtThisLevel=new ye,this._ariaHiddenElements=new Map,this.afterAllClosed=Lb(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Vb(void 0))),this._scrollStrategy=g}open(t,o){(o={...this._defaultOptions||new b_,...o}).id=o.id||"cdk-dialog-"+oz++,o.id&&this.getDialogById(o.id);const d=this._getOverlayConfig(o),p=this._overlay.create(d),g=new UC(p,o),_=this._attachContainer(p,g,o);return g.containerInstance=_,this._attachDialogContent(t,g,_,o),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(g),g.closed.subscribe(()=>this._removeOpenDialog(g,!0)),this.afterOpened.next(g),g}closeAll(){zC(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(o=>o.id===t)}ngOnDestroy(){zC(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),zC(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const o=new Zx({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(o.backdropClass=t.backdropClass),o}_attachContainer(t,o,u){const d=u.injector||u.viewContainerRef?.injector,p=[{provide:b_,useValue:u},{provide:UC,useValue:o},{provide:qv,useValue:t}];let g;u.container?"function"==typeof u.container?g=u.container:(g=u.container.type,p.push(...u.container.providers(u))):g=jC;const _=new LC(g,u.viewContainerRef,Dn.create({parent:d||this._injector,providers:p}),u.componentFactoryResolver);return t.attach(_).instance}_attachDialogContent(t,o,u,d){if(t instanceof wd){const p=this._createInjector(d,o,u,void 0);let g={$implicit:d.data,dialogRef:o};d.templateContext&&(g={...g,..."function"==typeof d.templateContext?d.templateContext():d.templateContext}),u.attachTemplatePortal(new Gx(t,null,g,p))}else{const p=this._createInjector(d,o,u,this._injector),g=u.attachComponentPortal(new LC(t,d.viewContainerRef,p,d.componentFactoryResolver));o.componentInstance=g.instance}}_createInjector(t,o,u,d){const p=t.injector||t.viewContainerRef?.injector,g=[{provide:tz,useValue:t.data},{provide:UC,useValue:o}];return t.providers&&("function"==typeof t.providers?g.push(...t.providers(o,t,u)):g.push(...t.providers)),t.direction&&(!p||!p.get(PC,null,{optional:!0}))&&g.push({provide:PC,useValue:{value:t.direction,change:_t()}}),Dn.create({parent:p||d,providers:g})}_removeOpenDialog(t,o){const u=this.openDialogs.indexOf(t);u>-1&&(this.openDialogs.splice(u,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((d,p)=>{d?p.setAttribute("aria-hidden",d):p.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),o&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const o=t.parentElement.children;for(let u=o.length-1;u>-1;u--){const d=o[u];d!==t&&"SCRIPT"!==d.nodeName&&"STYLE"!==d.nodeName&&!d.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(d,d.getAttribute("aria-hidden")),d.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return i.\u0275fac=function(t){return new(t||i)(H(ig),H(Dn),H(nz,8),H(i,12),H(f0),H(rR))},i.\u0275prov=xe({token:i,factory:i.\u0275fac}),i})();function zC(i,e){let t=i.length;for(;t--;)e(i[t])}let iR=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Bn({type:i}),i.\u0275inj=an({providers:[HC,iz],imports:[nR,__,l3,__]}),i})(),aR=(()=>{class i{}return i.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",i.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",i.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",i.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",i})(),uR=(()=>{class i{}return i.COMPLEX="375ms",i.ENTERING="225ms",i.EXITING="195ms",i})();const az=new Ie("mat-sanity-checks",{providedIn:"root",factory:function sz(){return!0}});let $u=(()=>{class i{constructor(t,o,u){this._sanityChecks=o,this._document=u,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!SC()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return i.\u0275fac=function(t){return new(t||i)(H(Bx),H(az,8),H(rn))},i.\u0275mod=Bn({type:i}),i.\u0275inj=an({imports:[y_,y_]}),i})();function uz(i){return class extends i{get disabled(){return this._disabled}set disabled(e){this._disabled=o0(e)}constructor(...e){super(...e),this._disabled=!1}}}function cR(i,e){return class extends i{get color(){return this._color}set color(t){const o=t||this.defaultColor;o!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),o&&this._elementRef.nativeElement.classList.add(`mat-${o}`),this._color=o)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function cz(i){return class extends i{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=o0(e)}constructor(...e){super(...e),this._disableRipple=!1}}}class dz{constructor(e,t,o,u=!1){this._renderer=e,this.element=t,this.config=o,this._animationForciblyDisabledThroughCss=u,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const lR=n0({passive:!0,capture:!0});class hz{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=Rp(e);t&&this._events.get(e.type)?.forEach((o,u)=>{(u===t||u.contains(t))&&o.forEach(d=>d.handleEvent(e))})}}addHandler(e,t,o,u){const d=this._events.get(t);if(d){const p=d.get(o);p?p.add(u):d.set(o,new Set([u]))}else this._events.set(t,new Map([[o,new Set([u])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,lR)})}removeHandler(e,t,o){const u=this._events.get(e);if(!u)return;const d=u.get(t);d&&(d.delete(o),0===d.size&&u.delete(t),0===u.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,lR)))}}const dR={enterDuration:225,exitDuration:150},hR=n0({passive:!0,capture:!0}),fR=["mousedown","touchstart"],pR=["mouseup","mouseleave","touchend","touchcancel"];class Gv{constructor(e,t,o,u){this._target=e,this._ngZone=t,this._platform=u,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,u.isBrowser&&(this._containerElement=Hv(o))}fadeInRipple(e,t,o={}){const u=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),d={...dR,...o.animation};o.centered&&(e=u.left+u.width/2,t=u.top+u.height/2);const p=o.radius||function pz(i,e,t){const o=Math.max(Math.abs(i-t.left),Math.abs(i-t.right)),u=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(o*o+u*u)}(e,t,u),g=e-u.left,_=t-u.top,E=d.enterDuration,S=document.createElement("div");S.classList.add("mat-ripple-element"),S.style.left=g-p+"px",S.style.top=_-p+"px",S.style.height=2*p+"px",S.style.width=2*p+"px",null!=o.color&&(S.style.backgroundColor=o.color),S.style.transitionDuration=`${E}ms`,this._containerElement.appendChild(S);const x=window.getComputedStyle(S),V=x.transitionDuration,$="none"===x.transitionProperty||"0s"===V||"0s, 0s"===V||0===u.width&&0===u.height,Y=new dz(this,S,o,$);S.style.transform="scale3d(1, 1, 1)",Y.state=0,o.persistent||(this._mostRecentTransientRipple=Y);let ue=null;return!$&&(E||d.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const ve=()=>this._finishRippleTransition(Y),ae=()=>this._destroyRipple(Y);S.addEventListener("transitionend",ve),S.addEventListener("transitioncancel",ae),ue={onTransitionEnd:ve,onTransitionCancel:ae}}),this._activeRipples.set(Y,ue),($||!E)&&this._finishRippleTransition(Y),Y}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,o={...dR,...e.config.animation};t.style.transitionDuration=`${o.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!o.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Hv(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,fR.forEach(o=>{Gv._eventManager.addHandler(this._ngZone,o,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{pR.forEach(t=>{this._triggerElement.addEventListener(t,this,hR)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:o}=e.config;e.state=1,!o&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=Nx(e),o=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!o&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Px(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let o=0;o<t.length;o++)this.fadeInRipple(t[o].clientX,t[o].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(fR.forEach(t=>Gv._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&pR.forEach(t=>e.removeEventListener(t,this,hR)))}}Gv._eventManager=new hz;const mR=new Ie("mat-ripple-global-options");let mz=(()=>{class i{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,o,u,d,p){this._elementRef=t,this._animationMode=p,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=d||{},this._rippleRenderer=new Gv(this,o,t,u)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,o=0,u){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,o,{...this.rippleConfig,...u}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return i.\u0275fac=function(t){return new(t||i)(ee(Nn),ee($t),ee(ya),ee(mR,8),ee(Uo,8))},i.\u0275dir=We({type:i,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,o){2&t&&Ga("mat-ripple-unbounded",o.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),i})(),gz=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Bn({type:i}),i.\u0275inj=an({imports:[$u,$u]}),i})();class gR{}class vz{}const tf="*";function vR(i,e){return{type:7,name:i,definitions:e,options:{}}}function p0(i,e=null){return{type:4,styles:e,timings:i}}function m0(i,e=null){return{type:3,steps:i,options:e}}function yR(i,e=null){return{type:2,steps:i,options:e}}function kp(i){return{type:6,styles:i,offset:null}}function g0(i,e,t){return{type:0,name:i,styles:e,options:t}}function v0(i,e,t=null){return{type:1,expr:i,animation:e,options:t}}function y0(i=null){return{type:9,options:i}}function _0(i,e,t=null){return{type:11,selector:i,animation:e,options:t}}function _R(i){Promise.resolve().then(i)}class E_{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){_R(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}}class bR{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,o=0,u=0;const d=this.players.length;0==d?_R(()=>this._onFinish()):this.players.forEach(p=>{p.onDone(()=>{++t==d&&this._onFinish()}),p.onDestroy(()=>{++o==d&&this._onDestroy()}),p.onStart(()=>{++u==d&&this._onStart()})}),this.totalTime=this.players.reduce((p,g)=>Math.max(p,g.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(o=>{const u=o.totalTime?Math.min(1,t/o.totalTime):1;o.setPosition(u)})}getPosition(){const e=this.players.reduce((t,o)=>null===t||o.totalTime>t.totalTime?o:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}}const $C="!";function yz(i,e){}const _z={bottomSheetState:vR("state",[g0("void, hidden",kp({transform:"translateY(100%)"})),g0("visible",kp({transform:"translateY(0%)"})),v0("visible => void, visible => hidden",m0([p0(`${uR.COMPLEX} ${aR.ACCELERATION_CURVE}`),_0("@*",y0(),{optional:!0})])),v0("void => visible",m0([p0(`${uR.EXITING} ${aR.DECELERATION_CURVE}`),_0("@*",y0(),{optional:!0})]))])};let bz=(()=>{class i extends jC{constructor(t,o,u,d,p,g,_,E,S,x){super(t,o,u,d,p,g,_,x),this._changeDetectorRef=S,this._animationState="void",this._animationStateChanged=new Tr,this._breakpointSubscription=E.observe([zv_Medium,zv_Large,"(min-width: 1920px)"]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",E.isMatched(zv_Medium)),this._toggleClass("mat-bottom-sheet-container-large",E.isMatched(zv_Large)),this._toggleClass("mat-bottom-sheet-container-xlarge",E.isMatched("(min-width: 1920px)"))})}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){super.ngOnDestroy(),this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(t){"visible"===t.toState&&this._trapFocus(),this._animationStateChanged.emit(t)}_onAnimationStart(t){this._animationStateChanged.emit(t)}_captureInitialFocus(){}_toggleClass(t,o){this._elementRef.nativeElement.classList.toggle(t,o)}}return i.\u0275fac=function(t){return new(t||i)(ee(Nn),ee(u0),ee(rn,8),ee(b_),ee(m_),ee($t),ee(qv),ee(Ax),ee(qy),ee(g_))},i.\u0275cmp=kt({type:i,selectors:[["mat-bottom-sheet-container"]],hostAttrs:["tabindex","-1",1,"mat-bottom-sheet-container"],hostVars:4,hostBindings:function(t,o){1&t&&Dw("@state.start",function(d){return o._onAnimationStart(d)})("@state.done",function(d){return o._onAnimationDone(d)}),2&t&&(hs("role",o._config.role)("aria-modal",o._config.ariaModal)("aria-label",o._config.ariaLabel),kw("@state",o._animationState))},features:[vn],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,o){1&t&&oo(0,yz,0,0,"ng-template",0)},dependencies:[h0],styles:[".mat-bottom-sheet-container{padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:4px;border-top-right-radius:4px}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}"],encapsulation:2,data:{animation:[_z.bottomSheetState]}}),i})(),wR=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Bn({type:i}),i.\u0275inj=an({imports:[iR,$u,__,$u]}),i})();const wz=new Ie("MatBottomSheetData");class Ez{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.ariaModal=!0,this.closeOnNavigation=!0,this.autoFocus="dialog",this.restoreFocus=!0}}class qC{get instance(){return this._ref.componentInstance}constructor(e,t,o){this._ref=e,this._afterOpened=new ye,this.containerInstance=o,this.disableClose=t.disableClose,o._animationStateChanged.pipe(qi(u=>"done"===u.phaseName&&"visible"===u.toState),ps(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),o._animationStateChanged.pipe(qi(u=>"done"===u.phaseName&&"hidden"===u.toState),ps(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._ref.close(this._result)}),e.overlayRef.detachments().subscribe(()=>{this._ref.close(this._result)}),pi(this.backdropClick(),this.keydownEvents().pipe(qi(u=>27===u.keyCode))).subscribe(u=>{!this.disableClose&&("keydown"!==u.type||!TC(u))&&(u.preventDefault(),this.dismiss())})}dismiss(e){this.containerInstance&&(this.containerInstance._animationStateChanged.pipe(qi(t=>"start"===t.phaseName),ps(1)).subscribe(t=>{this._closeFallbackTimeout=setTimeout(()=>{this._ref.close(this._result)},t.totalTime+100),this._ref.overlayRef.detachBackdrop()}),this._result=e,this.containerInstance.exit(),this.containerInstance=null)}afterDismissed(){return this._ref.closed}afterOpened(){return this._afterOpened}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}}const Cz=new Ie("mat-bottom-sheet-default-options");let ER=(()=>{class i{get _openedBottomSheetRef(){const t=this._parentBottomSheet;return t?t._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(t){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=t:this._bottomSheetRefAtThisLevel=t}constructor(t,o,u,d){this._overlay=t,this._parentBottomSheet=u,this._defaultOptions=d,this._bottomSheetRefAtThisLevel=null,this._dialog=o.get(HC)}open(t,o){const u={...this._defaultOptions||new Ez,...o};let d;return this._dialog.open(t,{...u,disableClose:!0,closeOnOverlayDetachments:!1,maxWidth:"100%",container:bz,scrollStrategy:u.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0"),templateContext:()=>({bottomSheetRef:d}),providers:(p,g,_)=>(d=new qC(p,u,_),[{provide:qC,useValue:d},{provide:wz,useValue:u.data}])}),d.afterDismissed().subscribe(()=>{this._openedBottomSheetRef===d&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>d.containerInstance?.enter()),this._openedBottomSheetRef.dismiss()):d.containerInstance.enter(),this._openedBottomSheetRef=d,d}dismiss(t){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(t)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}}return i.\u0275fac=function(t){return new(t||i)(H(ig),H(Dn),H(i,12),H(Cz,8))},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:wR}),i})();const Dz=["mat-button",""],CR=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],DR=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],Sz=["mat-fab",""],SR={capture:!0},IR=["focus","click","mouseenter","touchstart"],C_="mat-button-ripple-uninitialized";let Iz=(()=>{class i{constructor(){this._document=me(rn,{optional:!0}),this._animationMode=me(Uo,{optional:!0}),this._globalRippleOptions=me(mR,{optional:!0}),this._platform=me(ya),this._ngZone=me($t),this._onInteraction=t=>{if(t.target===this._document)return;const u=t.target.closest(`[${C_}]`);u&&(u.removeAttribute(C_),this._appendRipple(u))},this._ngZone.runOutsideAngular(()=>{for(const t of IR)this._document?.addEventListener(t,this._onInteraction,SR)})}ngOnDestroy(){for(const t of IR)this._document?.removeEventListener(t,this._onInteraction,SR)}_appendRipple(t){if(!this._document)return;const o=this._document.createElement("span");o.classList.add("mat-mdc-button-ripple");const u=new Tz(t,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);u.rippleConfig.centered=t.hasAttribute("mat-icon-button"),new Gv(u,this._ngZone,o,this._platform).setupTriggerEvents(t),t.append(o)}_createMatRipple(t){if(!this._document)return;t.querySelector(".mat-mdc-button-ripple")?.remove(),t.removeAttribute(C_);const o=this._document.createElement("span");o.classList.add("mat-mdc-button-ripple");const u=new mz(new Nn(o),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return u._isInitialized=!0,u.trigger=t,t.append(o),u}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class Tz{constructor(e,t,o){this._button=e,this._globalRippleOptions=t,this._setRippleConfig(t,o)}_setRippleConfig(e,t){this.rippleConfig=e||{},"NoopAnimations"===t&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get rippleDisabled(){return this._button.hasAttribute("disabled")||!!this._globalRippleOptions?.disabled}}const Az=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Mz=cR(uz(cz(class{constructor(i){this._elementRef=i}})));let TR=(()=>{class i extends Mz{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement)),this._ripple}set ripple(t){this._ripple=t}constructor(t,o,u,d){super(t),this._platform=o,this._ngZone=u,this._animationMode=d,this._focusMonitor=me(g_),this._rippleLoader=me(Iz),this._isFab=!1;const p=t.nativeElement.classList;for(const g of Az)this._hasHostAttributes(g.selector)&&g.mdcClasses.forEach(_=>{p.add(_)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",o){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,o):this._elementRef.nativeElement.focus(o)}_hasHostAttributes(...t){return t.some(o=>this._elementRef.nativeElement.hasAttribute(o))}_isRippleDisabled(){this._ripple&&(this._ripple.disabled=this.disableRipple||this.disabled)}}return i.\u0275fac=function(t){gd()},i.\u0275dir=We({type:i,features:[vn]}),i})(),og=(()=>{class i extends TR{constructor(t,o,u,d){super(t,o,u,d)}}return i.\u0275fac=function(t){return new(t||i)(ee(Nn),ee(ya),ee($t),ee(Uo,8))},i.\u0275cmp=kt({type:i,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:9,hostBindings:function(t,o){2&t&&(hs("disabled",o.disabled||null)("mat-button-disabled",o._isRippleDisabled())("mat-button-is-fab",o._isFab),Ga("_mat-animation-noopable","NoopAnimations"===o._animationMode)("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[vn],attrs:Dz,ngContentSelectors:DR,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(t,o){1&t&&($m(CR),To(0,"span",0),Hs(1),st(2,"span",1),Hs(3,1),yt(),Hs(4,2),To(5,"span",2)(6,"span",3)),2&t&&Ga("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),i})();const Rz=new Ie("mat-mdc-fab-default-options",{providedIn:"root",factory:AR});function AR(){return{color:"accent"}}const MR=AR();let kz=(()=>{class i extends TR{get extended(){return this._extended}set extended(t){this._extended=o0(t)}constructor(t,o,u,d,p){super(t,o,u,d),this._options=p,this._isFab=!0,this._options=this._options||MR,this.color=this.defaultColor=this._options.color||MR.color}}return i.\u0275fac=function(t){return new(t||i)(ee(Nn),ee(ya),ee($t),ee(Uo,8),ee(Rz,8))},i.\u0275cmp=kt({type:i,selectors:[["button","mat-fab",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:13,hostBindings:function(t,o){2&t&&(hs("disabled",o.disabled||null)("mat-button-disabled",o._isRippleDisabled())("mat-button-is-fab",o._isFab),Ga("_mat-animation-noopable","NoopAnimations"===o._animationMode)("mat-unthemed",!o.color)("mat-mdc-button-base",!0)("mdc-fab--extended",o.extended)("mat-mdc-extended-fab",o.extended))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",extended:"extended"},exportAs:["matButton"],features:[vn],attrs:Sz,ngContentSelectors:DR,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(t,o){1&t&&($m(CR),To(0,"span",0),Hs(1),st(2,"span",1),Hs(3,1),yt(),Hs(4,2),To(5,"span",2)(6,"span",3)),2&t&&Ga("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    )}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab .mdc-fab__icon{width:24px;height:24px;font-size:24px}.mdc-fab:not(.mdc-fab--extended){border-radius:50%}.mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:50%}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);background-color:var(--mdc-fab-container-color, transparent);box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);color:var(--mat-mdc-fab-color, inherit);flex-shrink:0}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-fab .mat-ripple-element,.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab .mat-mdc-button-touch-target,.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:not(:disabled) .mdc-fab__icon,.mat-mdc-mini-fab:not(:disabled) .mdc-fab__icon{color:var(--mdc-fab-icon-color, inherit)}.mat-mdc-fab:not(.mdc-fab--extended),.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple,.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:hover,.mat-mdc-fab:focus,.mat-mdc-mini-fab:hover,.mat-mdc-mini-fab:focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active,.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mat-mdc-fab[disabled],.mat-mdc-mini-fab[disabled]{cursor:default;pointer-events:none;box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-extended-fab{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mat-mdc-extended-fab .mdc-fab__ripple{border-radius:24px}.mat-mdc-extended-fab .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0}),i})(),Oz=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Bn({type:i}),i.\u0275inj=an({imports:[$u,gz,$u]}),i})();const Nz=["*"],Lz=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],Vz=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],Bz=new Ie("MAT_CARD_CONFIG");let D_=(()=>{class i{constructor(t){this.appearance=t?.appearance||"raised"}}return i.\u0275fac=function(t){return new(t||i)(ee(Bz,8))},i.\u0275cmp=kt({type:i,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(t,o){2&t&&Ga("mat-mdc-card-outlined","outlined"===o.appearance)("mdc-card--outlined","outlined"===o.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:Nz,decls:1,vars:0,template:function(t,o){1&t&&($m(),Hs(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),i})(),S_=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=We({type:i,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]}),i})(),GC=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=We({type:i,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]}),i})(),xR=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=We({type:i,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"]}),i})(),b0=(()=>{class i{constructor(){this.align="start"}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=We({type:i,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(t,o){2&t&&Ga("mat-mdc-card-actions-align-end","end"===o.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),i})(),I_=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=kt({type:i,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:Vz,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(t,o){1&t&&($m(Lz),Hs(0),st(1,"div",0),Hs(2,1),yt(),Hs(3,2))},encapsulation:2,changeDetection:0}),i})(),RR=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=We({type:i,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-mdc-card-image","mdc-card__media"]}),i})(),Hz=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Bn({type:i}),i.\u0275inj=an({imports:[$u,qA,$u]}),i})();function zz(i,e){if(1&i){const t=fs();st(0,"div"),To(1,"input",5,6)(3,"input",7,8),st(5,"button",9),hn("click",function(){Xr(t);const u=nl(2),d=nl(4);return gr(ga().onLogin(u,d))}),fn(6,"Bel\xe9p\xe9s"),yt()()}}function $z(i,e){if(1&i){const t=fs();st(0,"div"),To(1,"input",5,10)(3,"input",7,11)(5,"input",12,13),st(7,"button",9),hn("click",function(){Xr(t);const u=nl(2),d=nl(4),p=nl(6);return gr(ga().onRegisterClick(u,d,p))}),fn(8,"Felhaszn\xe1l\xf3 l\xe9trehoz\xe1sa"),yt()()}}function qz(i,e){if(1&i){const t=fs();st(0,"div"),To(1,"input",5,14),st(3,"button",9),hn("click",function(){Xr(t);const u=nl(2);return gr(ga().onResetClick(u))}),fn(4,"Jelsz\xf3 vissza\xe1ll\xedt\xe1sa"),yt()()}}let kR=(()=>{class i{constructor(t){this.bottomSheetRef=t,this.state=uo.LOGIN,this.firebasetsAuth=new xp}ngOnInit(){}onResetClick(t){let o=t.value;this.isNotEmpty(o)&&this.firebasetsAuth.sendPasswordResetEmail({email:o,onComplete:u=>{this.bottomSheetRef.dismiss()}})}onLogin(t,o){let u=t.value,d=o.value;this.isNotEmpty(u)&&this.isNotEmpty(d)&&this.firebasetsAuth.signInWith({email:u,password:d,onComplete:p=>{this.bottomSheetRef.dismiss()},onFail:p=>{alert(p)}})}onRegisterClick(t,o,u){let d=t.value,p=o.value,g=u.value;this.isNotEmpty(d)&&this.isNotEmpty(p)&&this.isNotEmpty(g)&&this.isAMatch(p,g)&&this.firebasetsAuth.createAccountWith({email:d,password:p,onComplete:_=>{this.bottomSheetRef.dismiss()},onFail:_=>{alert("Nem siker\xfclt regisztr\xe1lni.")}})}isNotEmpty(t){return null!=t&&t.length>0}isAMatch(t,o){return t==o}onForgotPasswordClick(){this.state=uo.FORGOT_PASSWORD}onCreateAccountClick(){this.state=uo.REGISTER}onLoginClick(){this.state=uo.LOGIN}isLoginState(){return this.state==uo.LOGIN}isRegisterState(){return this.state==uo.REGISTER}isForgotPasswordState(){return this.state==uo.FORGOT_PASSWORD}getStateText(){switch(this.state){case uo.LOGIN:return"Bejelentkez\xe9s";case uo.REGISTER:return"Regisztr\xe1ci\xf3";case uo.FORGOT_PASSWORD:return"Jelsz\xf3 vissza\xe1ll\xedt\xe1sa"}}}return i.\u0275fac=function(t){return new(t||i)(ee(qC))},i.\u0275cmp=kt({type:i,selectors:[["app-authenticator"]],decls:15,vars:4,consts:[["id","authenticator"],["id","authenticator-content"],[4,"ngIf"],["align","end"],["mat-flat-button","",3,"click"],["placeholder","E-mail"],["loginEmail",""],["placeholder","Jelsz\xf3","type","password"],["loginPassword",""],["mat-flat-button","","color","warn",3,"click"],["registerEmail",""],["registerPassword",""],["placeholder","Jelsz\xf3 meger\u0151s\xedt\xe9se","type","password"],["registerConfirmPassword",""],["resetEmail",""]],template:function(t,o){1&t&&(st(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),fn(4),yt()(),oo(5,zz,7,0,"div",2),oo(6,$z,9,0,"div",2),oo(7,qz,5,0,"div",2),st(8,"mat-card-actions",3)(9,"button",4),hn("click",function(){return o.onForgotPasswordClick()}),fn(10,"Elfelejtett jelsz\xf3"),yt(),st(11,"button",4),hn("click",function(){return o.onCreateAccountClick()}),fn(12,"Regisztr\xe1ci\xf3"),yt(),st(13,"button",4),hn("click",function(){return o.onLoginClick()}),fn(14,"Bel\xe9p\xe9s"),yt()()()()),2&t&&(T(4),Gm(o.getStateText()),T(1),li("ngIf",o.isLoginState()),T(1),li("ngIf",o.isRegisterState()),T(1),li("ngIf",o.isForgotPasswordState()))},dependencies:[Zy,og,D_,b0,I_,S_],styles:["#authenticator[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:1em;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}#authenticator-content[_ngcontent-%COMP%]{width:100%;max-width:30em;padding:1.5em}button[_ngcontent-%COMP%]{margin:.5em}input[_ngcontent-%COMP%]{width:100%;padding:1em;margin:.5em 0;border-radius:5px;outline:none;border:1px solid rgba(15,15,15 .3);box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}"]}),i})();var uo=(()=>((uo=uo||{})[uo.LOGIN=0]="LOGIN",uo[uo.REGISTER=1]="REGISTER",uo[uo.FORGOT_PASSWORD=2]="FORGOT_PASSWORD",uo))();let OR=(()=>{class i{constructor(t,o){this.loginSheet=t,this.router=o,this.auth=new xp}ngOnInit(){}onGetStartedClick(){this.auth.getAuth().currentUser?this.router.navigate(["myfeed"]):this.loginSheet.open(kR)}}return i.\u0275fac=function(t){return new(t||i)(ee(ER),ee(qs))},i.\u0275cmp=kt({type:i,selectors:[["app-home"]],decls:13,vars:0,consts:[["id","home-page"],["id","home-page-landing"],["id","landing-left"],["id","landing-left-content"],["mat-flat-button","","color","warn",3,"click"]],template:function(t,o){1&t&&(st(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),fn(5,"K\xe9rd\u0151\xedv kit\xf6lt\u0151 alkalmaz\xe1s"),yt(),st(6,"p"),fn(7,"Oszd meg a saj\xe1t k\xe9rd\u0151\xedvedet!"),yt(),st(8,"button",4),hn("click",function(){return o.onGetStartedClick()}),fn(9,"Mehet!"),yt()()(),To(10,"div"),st(11,"p"),fn(12,"home works!"),yt()()())},dependencies:[og],styles:["#home-page[_ngcontent-%COMP%]{width:100%;height:100%}#home-page-landing[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#00008b;background-size:cover;background-position:center;display:grid;grid-template-columns:1fr 1fr;grid-template-rows:100%;min-height:800px}#landing-left[_ngcontent-%COMP%]{display:flex;color:#fff;justify-content:center;align-items:center}#landing-left-content[_ngcontent-%COMP%]{text-align:right;padding:1em 1em 1em 3em}#landing-left-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5em}#landing-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:3em}#landing-left-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:2em;padding:.5em}"]}),i})(),Gz=(()=>{class i{constructor(t){this.router=t,this.auth=new xp}ngOnInit(){this.auth.isSignedIn()&&!this.auth.getAuth().currentUser?.emailVerified?this.auth.sendVerificationEmail():this.router.navigate([""])}onResendClick(){this.auth.sendVerificationEmail()}}return i.\u0275fac=function(t){return new(t||i)(ee(qs))},i.\u0275cmp=kt({type:i,selectors:[["app-email-verification"]],decls:6,vars:0,consts:[["id","email-verification"],["mat-flat-button","",3,"click"]],template:function(t,o){1&t&&(st(0,"div",0)(1,"h1"),fn(2,"Az E-mail c\xedmed nincs meger\u0151s\xedtve."),yt(),st(3,"button",1),hn("click",function(){return o.onResendClick()}),fn(4,"Meger\u0151s\xedt\u0151 e-mail \xfajrak\xfcld\xe9se"),yt()(),fn(5,">"))},dependencies:[og],styles:["#email-verification[_ngcontent-%COMP%]{text-align:center;margin-top:8em}"]}),i})();qt(361);class Wv{constructor(){this.listeners=new Map}appendArray(e){return Ya._getFirestore().FieldValue.arrayUnion(e)}increment(e){return Ya._getFirestore().FieldValue.increment(e)}genDocId(){return Ya.getFirestore().collection("TEMP").doc().id}all(e){const t=Ya.getFirestore().batch();for(let o of e.operations)o.getOperation(t);return new Promise((o,u)=>{t.commit().then(()=>{try{e.onComplete()}catch{}o()}).catch(d=>{try{e.onFail(d)}catch{}u(d)})})}create(e){return new Promise((t,o)=>{if(null==e.data||null==e.data)throw new Error("Error creating data. Data is null or undefined.");if(this.isCollectionPath(e.path)){let u=this.genCollectionReference(e.path).doc();u.set(e.data).then(()=>{try{e.onComplete(u.id)}catch{}t(u.id)}).catch(d=>{try{e.onFail(d)}catch{}o(d)})}else if(this.isDocumentPath(e.path)){let u=this.genDocumentReference(e.path);u.set(e.data).then(()=>{try{e.onComplete(u.id)}catch{}t(u.id)}).catch(d=>{try{e.onFail(d)}catch{}o(d)})}})}delete(e){return new Promise((t,o)=>{this.checkDocumentPathValidity(e.path),this.genDocumentReference(e.path).delete().then(()=>{try{e.onComplete()}catch{}t()}).catch(u=>{try{e.onFail(u)}catch{}o(u)})})}update(e){return new Promise((t,o)=>{this.checkDocumentPathValidity(e.path);const u=this.genDocumentReference(e.path);u.update(e.data).then(()=>{try{e.onComplete(u)}catch{}t(u)}).catch(d=>{try{e.onFail(d)}catch{}o(d)})})}getCollection(e){let t=this.genCollectionReference(e.path);return new Promise((null!=e.where||null!=e.where)&&e.where.length>0?(o,u)=>{let d;const p=Array(e.where)[0];for(let g=0;g<p.length;g++)d=null==d?p[g].getQuery(t):p[g].concatQuery(d);d.get().then(g=>{try{e.onComplete(g)}catch{}o(g)}).catch(g=>{try{e.onFail(g)}catch{}u(g)})}:(o,u)=>{t.get().then(d=>{try{e.onComplete(d)}catch{}o(d)}).catch(d=>{try{e.onFail(d)}catch{}u(d)})})}getDocument(e){return new Promise((t,o)=>{this.genDocumentReference(e.path).get().then(u=>{try{e.onComplete(u)}catch{}t(u)}).catch(u=>{try{e.onFail(u)}catch{}o(u)})})}listenToDocument(e){this.validateListenerName(e.name),this.addListener(e.name,this.genDocumentReference(e.path).onSnapshot(t=>{try{e.onUpdate(t)}catch{}}))}listenToCollection(e){this.validateListenerName(e.name);let t=this.genCollectionReference(e.path);if((null!=e.where||null!=e.where)&&e.where.length>0){let o;const u=Array(e.where)[0];for(let d=0;d<u.length;d++)o=null==o?u[d].getQuery(t):u[d].concatQuery(o);this.addListener(e.name,o.onSnapshot(d=>{try{e.onUpdate(d)}catch{}}))}else this.addListener(e.name,t.onSnapshot(o=>{try{e.onUpdate(o)}catch{}}))}genCollectionReference(e){this.checkCollectionPathValidity(e);const t=Array(e)[0];let o,u;for(let d=0;d<t.length;d++)d%2==0?o=null==o?Ya.getFirestore().collection(t[d]):u.collection(t[d]):u=o.doc(t[d]);return o}genDocumentReference(e){this.checkDocumentPathValidity(e);const t=Array(e)[0];let o,u;for(let d=0;d<t.length;d++)d%2==0?o=null==o?Ya.getFirestore().collection(t[d]):u.collection(t[d]):u=o.doc(t[d]);return u}addListener(e,t){return this.listeners.set(e,t),t}stopListeningTo(e){try{this.listeners.get(e)(),this.listeners.delete(e)}catch{}}stopListeningToAll(){this.listeners.forEach((e,t,o)=>{this.stopListeningTo(t)})}validateListenerName(e){if(null==e||null==e||"string"!=typeof e||e.trim().length<=0)throw"Listener name cannot be empty.";if(null!=this.listeners.get(e))throw`Listener name: ${e} is already taken.`}checkCollectionPathValidity(e){if(null==e||null==e||e.length<=0||!this.isCollectionPath(e))throw"Not a valid path to a collection."}isCollectionPath(e){return Array(e)[0].length%2==1}checkDocumentPathValidity(e){if(null==e||null==e||e.length<=0||!this.isDocumentPath(e))throw"Not a valid path to a document."}isDocumentPath(e){return Array(e)[0].length%2==0}}class w0{constructor(e,t){this.field=e,this.direction=t}getQuery(e){return e.orderBy(this.field,this.direction)}concatQuery(e){return e.orderBy(this.field,this.direction)}}class E0{constructor(e){this.limit=e}getQuery(e){return e.limit(this.limit)}concatQuery(e){return e.limit(this.limit)}}qt(589);class Wz{constructor(){this.listeners=new Map}downloadToLocalStorage(e){return new Promise((t,o)=>{if(e instanceof Array)this.getDownloadUrl({path:e,onComplete:u=>{t(u),window.open(u,"Download")},onFail:u=>{o(u)}});else try{window.open(e,"Download"),t()}catch(u){o(u)}})}upload(e){return new Promise((t,o)=>{let u=null,d=this.genStorageRef(e.path);u=null==e.data.metadata||null==e.data.metadata?d.put(e.data.data):d.put(e.data.data,e.data.metadata),u.on("state_changed",p=>{try{e.onUpload(p)}catch{}},p=>{o(p);try{e.onFail(p)}catch{}},()=>{d.getDownloadURL().then(p=>{t(p);try{e.onComplete(p)}catch{}})}),this.listeners.set(e.uploadName,u)})}deleteWithUrl(e){return new Promise((t,o)=>{Ya.getStorage().refFromURL(e.url).delete().then(()=>{t();try{e.onComplete()}catch{}}).catch(d=>{o(d);try{e.onFail(d)}catch{}})})}delete(e){return new Promise((t,o)=>{this.genStorageRef(e.path).delete().then(()=>{t();try{e.onComplete()}catch{}}).catch(d=>{o(d);try{e.onFail(d)}catch{}})})}getDownloadUrl(e){return new Promise((t,o)=>{const u=this.genStorageRef(e.path);try{u.getDownloadURL().then(d=>{t(d);try{e.onComplete(d)}catch{}})}catch(d){o(d);try{e.onFail(d)}catch{}}})}genStorageRef(e){let t=Ya.getStorage().ref();for(let o=0;o<e.length;o++)t=t.child(e[o]);return t}}function Kz(i,e){}class C0{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const WC="mdc-dialog--open",NR="mdc-dialog--opening",PR="mdc-dialog--closing";let Xz=(()=>{class i extends jC{constructor(t,o,u,d,p,g,_,E){super(t,o,u,d,p,g,_,E),this._animationStateChanged=new Tr}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}}return i.\u0275fac=function(t){return new(t||i)(ee(Nn),ee(u0),ee(rn,8),ee(C0),ee(m_),ee($t),ee(qv),ee(g_))},i.\u0275cmp=kt({type:i,selectors:[["ng-component"]],features:[vn],decls:0,vars:0,template:function(t,o){},encapsulation:2}),i})();const FR="--mat-dialog-transition-duration";function LR(i){return null==i?null:"number"==typeof i?i:i.endsWith("ms")?Sx(i.substring(0,i.length-2)):i.endsWith("s")?1e3*Sx(i.substring(0,i.length-1)):"0"===i?0:null}let Qz=(()=>{class i extends Xz{constructor(t,o,u,d,p,g,_,E,S){super(t,o,u,d,p,g,_,S),this._animationMode=E,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._openAnimationDuration=this._animationsEnabled?LR(this._config.enterAnimationDuration)??150:0,this._closeAnimationDuration=this._animationsEnabled?LR(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._openAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._closeAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._openAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(FR,`${this._openAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(NR,WC)),this._waitForAnimationToComplete(this._openAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(WC),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._closeAnimationDuration}),this._hostElement.classList.remove(WC),this._animationsEnabled?(this._hostElement.style.setProperty(FR,`${this._openAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(PR)),this._waitForAnimationToComplete(this._closeAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(NR,PR)}_waitForAnimationToComplete(t,o){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(o,t)}_requestAnimationFrame(t){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(t):t()})}}return i.\u0275fac=function(t){return new(t||i)(ee(Nn),ee(u0),ee(rn,8),ee(C0),ee(m_),ee($t),ee(qv),ee(Uo,8),ee(g_))},i.\u0275cmp=kt({type:i,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(t,o){2&t&&(Rw("id",o._config.id),hs("aria-modal",o._config.ariaModal)("role",o._config.role)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledBy)("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null),Ga("_mat-animation-noopable",!o._animationsEnabled))},features:[vn],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(t,o){1&t&&(st(0,"div",0)(1,"div",1),oo(2,Kz,0,0,"ng-template",2),yt()())},dependencies:[h0],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),i})();class KC{constructor(e,t,o){this._ref=e,this._containerInstance=o,this._afterOpened=new ye,this._beforeClosed=new ye,this._state=0,this.disableClose=t.disableClose,this.id=e.id,o._animationStateChanged.pipe(qi(u=>"opened"===u.state),ps(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),o._animationStateChanged.pipe(qi(u=>"closed"===u.state),ps(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),pi(this.backdropClick(),this.keydownEvents().pipe(qi(u=>27===u.keyCode&&!this.disableClose&&!TC(u)))).subscribe(u=>{this.disableClose||(u.preventDefault(),function Jz(i,e,t){i._closeInteractionType=e,i.close(t)}(this,"keydown"===u.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(qi(t=>"closing"===t.state),ps(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const VR=new Ie("MatMdcDialogData"),e4=new Ie("mat-mdc-dialog-default-options"),BR=new Ie("mat-mdc-dialog-scroll-strategy"),n4={provide:BR,deps:[ig],useFactory:function t4(i){return()=>i.scrollStrategies.block()}};let r4=0,i4=(()=>{class i{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(t,o,u,d,p,g,_,E,S,x){this._overlay=t,this._defaultOptions=u,this._parentDialog=d,this._dialogRefConstructor=_,this._dialogContainerType=E,this._dialogDataToken=S,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ye,this._afterOpenedAtThisLevel=new ye,this._idPrefix="mat-dialog-",this.dialogConfigClass=C0,this.afterAllClosed=Lb(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Vb(void 0))),this._scrollStrategy=g,this._dialog=o.get(HC)}open(t,o){let u;(o={...this._defaultOptions||new C0,...o}).id=o.id||`${this._idPrefix}${r4++}`,o.scrollStrategy=o.scrollStrategy||this._scrollStrategy();const d=this._dialog.open(t,{...o,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:o},{provide:b_,useValue:o}]},templateContext:()=>({dialogRef:u}),providers:(p,g,_)=>(u=new this._dialogRefConstructor(p,o,_),u.updatePosition(o?.position),[{provide:this._dialogContainerType,useValue:_},{provide:this._dialogDataToken,useValue:g.data},{provide:this._dialogRefConstructor,useValue:u}])});return u.componentInstance=d.componentInstance,this.openDialogs.push(u),this.afterOpened.next(u),u.afterClosed().subscribe(()=>{const p=this.openDialogs.indexOf(u);p>-1&&(this.openDialogs.splice(p,1),this.openDialogs.length||this._getAfterAllClosed().next())}),u}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(o=>o.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let o=t.length;for(;o--;)t[o].close()}}return i.\u0275fac=function(t){gd()},i.\u0275prov=xe({token:i,factory:i.\u0275fac}),i})(),YC=(()=>{class i extends i4{constructor(t,o,u,d,p,g,_,E){super(t,o,d,g,_,p,KC,Qz,VR,E),this._idPrefix="mat-mdc-dialog-"}}return i.\u0275fac=function(t){return new(t||i)(H(ig),H(Dn),H(Wy,8),H(e4,8),H(BR),H(i,12),H(f0),H(Uo,8))},i.\u0275prov=xe({token:i,factory:i.\u0275fac}),i})(),o4=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Bn({type:i}),i.\u0275inj=an({providers:[YC,n4],imports:[iR,nR,__,$u,$u]}),i})();function UR(...i){const e=W(i),{args:t,keys:o}=vM(i),u=new te(d=>{const{length:p}=t;if(!p)return void d.complete();const g=new Array(p);let _=p,E=p;for(let S=0;S<p;S++){let x=!1;pn(t[S]).subscribe(Ue(d,L=>{x||(x=!0,E--),g[S]=L},()=>_--,void 0,()=>{(!_||!x)&&(E||d.next(o?yM(o,g):g),d.complete())}))}});return e?u.pipe(XE(e)):u}let HR=(()=>{class i{constructor(t,o){this._renderer=t,this._elementRef=o,this.onChange=u=>{},this.onTouched=()=>{}}setProperty(t,o){this._renderer.setProperty(this._elementRef.nativeElement,t,o)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return i.\u0275fac=function(t){return new(t||i)(ee(us),ee(Nn))},i.\u0275dir=We({type:i}),i})(),sg=(()=>{class i extends HR{}return i.\u0275fac=function(){let e;return function(o){return(e||(e=ui(i)))(o||i)}}(),i.\u0275dir=We({type:i,features:[vn]}),i})();const Sd=new Ie("NgValueAccessor"),a4={provide:Sd,useExisting:In(()=>T_),multi:!0},c4=new Ie("CompositionEventMode");let T_=(()=>{class i extends HR{constructor(t,o,u){super(t,o),this._compositionMode=u,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function u4(){const i=Ip()?Ip().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return i.\u0275fac=function(t){return new(t||i)(ee(us),ee(Nn),ee(c4,8))},i.\u0275dir=We({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,o){1&t&&hn("input",function(d){return o._handleInput(d.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(d){return o._compositionEnd(d.target.value)})},features:[$r([a4]),vn]}),i})();const ms=new Ie("NgValidators"),Np=new Ie("NgAsyncValidators");function JR(i){return null!=i}function e1(i){return Py(i)?gt(i):i}function t1(i){let e={};return i.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function n1(i,e){return e.map(t=>t(i))}function r1(i){return i.map(e=>function d4(i){return!i.validate}(e)?e:t=>e.validate(t))}function ZC(i){return null!=i?function o1(i){if(!i)return null;const e=i.filter(JR);return 0==e.length?null:function(t){return t1(n1(t,e))}}(r1(i)):null}function XC(i){return null!=i?function s1(i){if(!i)return null;const e=i.filter(JR);return 0==e.length?null:function(t){return UR(n1(t,e).map(e1)).pipe(je(t1))}}(r1(i)):null}function a1(i,e){return null===i?[e]:Array.isArray(i)?[...i,e]:[i,e]}function QC(i){return i?Array.isArray(i)?i:[i]:[]}function S0(i,e){return Array.isArray(i)?i.includes(e):i===e}function l1(i,e){const t=QC(e);return QC(i).forEach(u=>{S0(t,u)||t.push(u)}),t}function d1(i,e){return QC(e).filter(t=>!S0(i,t))}class h1{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ZC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=XC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Gs extends h1{get formDirective(){return null}get path(){return null}}class Pp extends h1{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class f1{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let JC=(()=>{class i extends f1{constructor(t){super(t)}}return i.\u0275fac=function(t){return new(t||i)(ee(Pp,2))},i.\u0275dir=We({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,o){2&t&&Ga("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[vn]}),i})();const A_="VALID",T0="INVALID",Kv="PENDING",M_="DISABLED";function nD(i){return(A0(i)?i.validators:i)||null}function rD(i,e){return(A0(e)?e.asyncValidators:i)||null}function A0(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}function m1(i,e,t){const o=i.controls;if(!(e?Object.keys(o):o).length)throw new le(1e3,"");if(!o[t])throw new le(1001,"")}function g1(i,e,t){i._forEachChild((o,u)=>{if(void 0===t[u])throw new le(1002,"")})}class M0{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===A_}get invalid(){return this.status===T0}get pending(){return this.status==Kv}get disabled(){return this.status===M_}get enabled(){return this.status!==M_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(l1(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(l1(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(d1(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(d1(e,this._rawAsyncValidators))}hasValidator(e){return S0(this._rawValidators,e)}hasAsyncValidator(e){return S0(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Kv,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=M_,this.errors=null,this._forEachChild(o=>{o.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(o=>o(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=A_,this._forEachChild(o=>{o.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===A_||this.status===Kv)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?M_:A_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Kv,this._hasOwnPendingAsyncValidator=!0;const t=e1(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((o,u)=>o&&o._find(u),this)}getError(e,t){const o=t?this.get(t):this;return o&&o.errors?o.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Tr,this.statusChanges=new Tr}_calculateStatus(){return this._allControlsDisabled()?M_:this.errors?T0:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Kv)?Kv:this._anyControlsHaveStatus(T0)?T0:A_}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){A0(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function g4(i){return Array.isArray(i)?ZC(i):i||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function v4(i){return Array.isArray(i)?XC(i):i||null}(this._rawAsyncValidators)}}class x_ extends M0{constructor(e,t,o){super(nD(t),rD(o,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,o={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,o={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){g1(this,0,e),Object.keys(e).forEach(o=>{m1(this,!0,o),this.controls[o].setValue(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(o=>{const u=this.controls[o];u&&u.patchValue(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((o,u)=>{o.reset(e[u],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,o)=>(e[o]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,o)=>!!o._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const o=this.controls[t];o&&e(o,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,o]of Object.entries(this.controls))if(this.contains(t)&&e(o))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,o,u)=>((o.enabled||this.disabled)&&(t[u]=o.value),t))}_reduceChildren(e,t){let o=e;return this._forEachChild((u,d)=>{o=t(o,u,d)}),o}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class v1 extends x_{}const ag=new Ie("CallSetDisabledState",{providedIn:"root",factory:()=>R_}),R_="always";function k_(i,e,t=R_){(function iD(i,e){const t=function u1(i){return i._rawValidators}(i);null!==e.validator?i.setValidators(a1(t,e.validator)):"function"==typeof t&&i.setValidators([t]);const o=function c1(i){return i._rawAsyncValidators}(i);null!==e.asyncValidator?i.setAsyncValidators(a1(o,e.asyncValidator)):"function"==typeof o&&i.setAsyncValidators([o]);const u=()=>i.updateValueAndValidity();k0(e._rawValidators,u),k0(e._rawAsyncValidators,u)})(i,e),e.valueAccessor.writeValue(i.value),(i.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(i.disabled),function _4(i,e){e.valueAccessor.registerOnChange(t=>{i._pendingValue=t,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&y1(i,e)})}(i,e),function w4(i,e){const t=(o,u)=>{e.valueAccessor.writeValue(o),u&&e.viewToModelUpdate(o)};i.registerOnChange(t),e._registerOnDestroy(()=>{i._unregisterOnChange(t)})}(i,e),function b4(i,e){e.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&y1(i,e),"submit"!==i.updateOn&&i.markAsTouched()})}(i,e),function y4(i,e){if(e.valueAccessor.setDisabledState){const t=o=>{e.valueAccessor.setDisabledState(o)};i.registerOnDisabledChange(t),e._registerOnDestroy(()=>{i._unregisterOnDisabledChange(t)})}}(i,e)}function k0(i,e){i.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function y1(i,e){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function w1(i,e){const t=i.indexOf(e);t>-1&&i.splice(t,1)}function E1(i){return"object"==typeof i&&null!==i&&2===Object.keys(i).length&&"value"in i&&"disabled"in i}const N_=class extends M0{constructor(e=null,t,o){super(nD(t),rD(o,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),A0(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=E1(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){w1(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){w1(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){E1(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},M4={provide:Pp,useExisting:In(()=>N0)},S1=(()=>Promise.resolve())();let N0=(()=>{class i extends Pp{constructor(t,o,u,d,p,g){super(),this._changeDetectorRef=p,this.callSetDisabledState=g,this.control=new N_,this._registered=!1,this.name="",this.update=new Tr,this._parent=t,this._setValidators(o),this._setAsyncValidators(u),this.valueAccessor=function aD(i,e){if(!e)return null;let t,o,u;return Array.isArray(e),e.forEach(d=>{d.constructor===T_?t=d:function D4(i){return Object.getPrototypeOf(i.constructor)===sg}(d)?o=d:u=d}),u||o||t||null}(0,d)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const o=t.name.previousValue;this.formDirective.removeControl({name:o,path:this._getPath(o)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function sD(i,e){if(!i.hasOwnProperty("model"))return!1;const t=i.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){k_(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){S1.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const o=t.isDisabled.currentValue,u=0!==o&&function Rv(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}(o);S1.then(()=>{u&&!this.control.disabled?this.control.disable():!u&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function x0(i,e){return[...e.path,i]}(t,this._parent):[t]}}return i.\u0275fac=function(t){return new(t||i)(ee(Gs,9),ee(ms,10),ee(Np,10),ee(Sd,10),ee(qy,8),ee(ag,8))},i.\u0275dir=We({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[$r([M4]),vn,Li]}),i})(),T1=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Bn({type:i}),i.\u0275inj=an({}),i})();const cD=new Ie("NgModelWithFormControlWarning");let $1=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Bn({type:i}),i.\u0275inj=an({imports:[T1]}),i})();class q1 extends M0{constructor(e,t,o){super(nD(t),rD(o,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,o={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:o.emitEvent})}removeAt(e,t={}){let o=this._adjustIndex(e);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,o={}){let u=this._adjustIndex(e);u<0&&(u=0),this.controls[u]&&this.controls[u]._registerOnCollectionChange(()=>{}),this.controls.splice(u,1),t&&(this.controls.splice(u,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){g1(this,0,e),e.forEach((o,u)=>{m1(this,!1,u),this.at(u).setValue(o,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((o,u)=>{this.at(u)&&this.at(u).patchValue(o,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((o,u)=>{o.reset(e[u],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,o)=>!!o._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,o)=>{e(t,o)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function G1(i){return!!i&&(void 0!==i.asyncValidators||void 0!==i.validators||void 0!==i.updateOn)}let e$=(()=>{class i{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new i;return t.useNonNullable=!0,t}group(t,o=null){const u=this._reduceControls(t);let d={};return G1(o)?d=o:null!==o&&(d.validators=o.validator,d.asyncValidators=o.asyncValidator),new x_(u,d)}record(t,o=null){const u=this._reduceControls(t);return new v1(u,o)}control(t,o,u){let d={};return this.useNonNullable?(G1(o)?d=o:(d.validators=o,d.asyncValidators=u),new N_(t,{...d,nonNullable:!0})):new N_(t,o,u)}array(t,o,u){const d=t.map(p=>this._createControl(p));return new q1(d,o,u)}_reduceControls(t){const o={};return Object.keys(t).forEach(u=>{o[u]=this._createControl(t[u])}),o}_createControl(t){return t instanceof N_||t instanceof M0?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),t$=(()=>{class i{static withConfig(t){return{ngModule:i,providers:[{provide:ag,useValue:t.callSetDisabledState??R_}]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Bn({type:i}),i.\u0275inj=an({imports:[$1]}),i})(),n$=(()=>{class i{static withConfig(t){return{ngModule:i,providers:[{provide:cD,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:ag,useValue:t.callSetDisabledState??R_}]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Bn({type:i}),i.\u0275inj=an({imports:[$1]}),i})();class gD{}class nf{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const o=t.indexOf(":");if(o>0){const u=t.slice(0,o),d=u.toLowerCase(),p=t.slice(o+1).trim();this.maybeSetNormalizedName(u,d),this.headers.has(d)?this.headers.get(d).push(p):this.headers.set(d,[p])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([t,o])=>{let u;if(u="string"==typeof o?[o]:"number"==typeof o?[o.toString()]:o.map(d=>d.toString()),u.length>0){const d=t.toLowerCase();this.headers.set(d,u),this.maybeSetNormalizedName(t,d)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof nf?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new nf;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof nf?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let o=e.value;if("string"==typeof o&&(o=[o]),0===o.length)return;this.maybeSetNormalizedName(e.name,t);const u=("a"===e.op?this.headers.get(t):void 0)||[];u.push(...o),this.headers.set(t,u);break;case"d":const d=e.value;if(d){let p=this.headers.get(t);if(!p)return;p=p.filter(g=>-1===d.indexOf(g)),0===p.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,p)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class r${encodeKey(e){return K1(e)}encodeValue(e){return K1(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const o$=/%(\d[a-f0-9])/gi,s$={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function K1(i){return encodeURIComponent(i).replace(o$,(e,t)=>s$[t]??e)}function P0(i){return`${i}`}class Fp{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new r$,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function i$(i,e){const t=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(u=>{const d=u.indexOf("="),[p,g]=-1==d?[e.decodeKey(u),""]:[e.decodeKey(u.slice(0,d)),e.decodeValue(u.slice(d+1))],_=t.get(p)||[];_.push(g),t.set(p,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const o=e.fromObject[t],u=Array.isArray(o)?o.map(P0):[P0(o)];this.map.set(t,u)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(o=>{const u=e[o];Array.isArray(u)?u.forEach(d=>{t.push({param:o,value:d,op:"a"})}):t.push({param:o,value:u,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(o=>t+"="+this.encoder.encodeValue(o)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Fp({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(P0(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let o=this.map.get(e.param)||[];const u=o.indexOf(P0(e.value));-1!==u&&o.splice(u,1),o.length>0?this.map.set(e.param,o):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class a${constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Y1(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function Z1(i){return typeof Blob<"u"&&i instanceof Blob}function X1(i){return typeof FormData<"u"&&i instanceof FormData}class P_{constructor(e,t,o,u){let d;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function u$(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||u?(this.body=void 0!==o?o:null,d=u):d=o,d&&(this.reportProgress=!!d.reportProgress,this.withCredentials=!!d.withCredentials,d.responseType&&(this.responseType=d.responseType),d.headers&&(this.headers=d.headers),d.context&&(this.context=d.context),d.params&&(this.params=d.params)),this.headers||(this.headers=new nf),this.context||(this.context=new a$),this.params){const p=this.params.toString();if(0===p.length)this.urlWithParams=t;else{const g=t.indexOf("?");this.urlWithParams=t+(-1===g?"?":g<t.length-1?"&":"")+p}}else this.params=new Fp,this.urlWithParams=t}serializeBody(){return null===this.body?null:Y1(this.body)||Z1(this.body)||X1(this.body)||function c$(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Fp?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||X1(this.body)?null:Z1(this.body)?this.body.type||null:Y1(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Fp?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,o=e.url||this.url,u=e.responseType||this.responseType,d=void 0!==e.body?e.body:this.body,p=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,g=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let _=e.headers||this.headers,E=e.params||this.params;const S=e.context??this.context;return void 0!==e.setHeaders&&(_=Object.keys(e.setHeaders).reduce((x,L)=>x.set(L,e.setHeaders[L]),_)),e.setParams&&(E=Object.keys(e.setParams).reduce((x,L)=>x.set(L,e.setParams[L]),E)),new P_(t,o,d,{params:E,headers:_,context:S,reportProgress:g,responseType:u,withCredentials:p})}}var zo=(()=>((zo=zo||{})[zo.Sent=0]="Sent",zo[zo.UploadProgress=1]="UploadProgress",zo[zo.ResponseHeader=2]="ResponseHeader",zo[zo.DownloadProgress=3]="DownloadProgress",zo[zo.Response=4]="Response",zo[zo.User=5]="User",zo))();class l${constructor(e,t=200,o="OK"){this.headers=e.headers||new nf,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||o,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class F_ extends l${constructor(e={}){super(e),this.type=zo.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new F_({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function vD(i,e){return{body:e,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials}}let yD=(()=>{class i{constructor(t){this.handler=t}request(t,o,u={}){let d;if(t instanceof P_)d=t;else{let _,E;_=u.headers instanceof nf?u.headers:new nf(u.headers),u.params&&(E=u.params instanceof Fp?u.params:new Fp({fromObject:u.params})),d=new P_(t,o,void 0!==u.body?u.body:null,{headers:_,context:u.context,params:E,reportProgress:u.reportProgress,responseType:u.responseType||"json",withCredentials:u.withCredentials})}const p=_t(d).pipe(Ov(_=>this.handler.handle(_)));if(t instanceof P_||"events"===u.observe)return p;const g=p.pipe(qi(_=>_ instanceof F_));switch(u.observe||"body"){case"body":switch(d.responseType){case"arraybuffer":return g.pipe(je(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return g.pipe(je(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return g.pipe(je(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return g.pipe(je(_=>_.body))}case"response":return g;default:throw new Error(`Unreachable: unhandled observe type ${u.observe}}`)}}delete(t,o={}){return this.request("DELETE",t,o)}get(t,o={}){return this.request("GET",t,o)}head(t,o={}){return this.request("HEAD",t,o)}jsonp(t,o){return this.request("JSONP",t,{params:(new Fp).append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,o={}){return this.request("OPTIONS",t,o)}patch(t,o,u={}){return this.request("PATCH",t,vD(u,o))}post(t,o,u={}){return this.request("POST",t,vD(u,o))}put(t,o,u={}){return this.request("PUT",t,vD(u,o))}}return i.\u0275fac=function(t){return new(t||i)(H(gD))},i.\u0275prov=xe({token:i,factory:i.\u0275fac}),i})();const x$=["*"];let L0;function V_(i){return function R$(){if(void 0===L0&&(L0=null,typeof window<"u")){const i=window;void 0!==i.trustedTypes&&(L0=i.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return L0}()?.createHTML(i)||i}function ok(i){return Error(`Unable to find icon with the name "${i}"`)}function sk(i){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${i}".`)}function ak(i){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${i}".`)}class cg{constructor(e,t,o){this.url=e,this.svgText=t,this.options=o}}let V0=(()=>{class i{constructor(t,o,u,d){this._httpClient=t,this._sanitizer=o,this._errorHandler=d,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=u}addSvgIcon(t,o,u){return this.addSvgIconInNamespace("",t,o,u)}addSvgIconLiteral(t,o,u){return this.addSvgIconLiteralInNamespace("",t,o,u)}addSvgIconInNamespace(t,o,u,d){return this._addSvgIconConfig(t,o,new cg(u,null,d))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,o,u,d){const p=this._sanitizer.sanitize(_n.HTML,u);if(!p)throw ak(u);const g=V_(p);return this._addSvgIconConfig(t,o,new cg("",g,d))}addSvgIconSet(t,o){return this.addSvgIconSetInNamespace("",t,o)}addSvgIconSetLiteral(t,o){return this.addSvgIconSetLiteralInNamespace("",t,o)}addSvgIconSetInNamespace(t,o,u){return this._addSvgIconSetConfig(t,new cg(o,null,u))}addSvgIconSetLiteralInNamespace(t,o,u){const d=this._sanitizer.sanitize(_n.HTML,o);if(!d)throw ak(o);const p=V_(d);return this._addSvgIconSetConfig(t,new cg("",p,u))}registerFontClassAlias(t,o=t){return this._fontCssClassesByAlias.set(t,o),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const o=this._sanitizer.sanitize(_n.RESOURCE_URL,t);if(!o)throw sk(t);const u=this._cachedIconsByUrl.get(o);return u?_t(B0(u)):this._loadSvgIconFromConfig(new cg(t,null)).pipe(Ao(d=>this._cachedIconsByUrl.set(o,d)),je(d=>B0(d)))}getNamedSvgIcon(t,o=""){const u=uk(o,t);let d=this._svgIconConfigs.get(u);if(d)return this._getSvgFromConfig(d);if(d=this._getIconConfigFromResolvers(o,t),d)return this._svgIconConfigs.set(u,d),this._getSvgFromConfig(d);const p=this._iconSetConfigs.get(o);return p?this._getSvgFromIconSetConfigs(t,p):kv(ok(u))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?_t(B0(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(je(o=>B0(o)))}_getSvgFromIconSetConfigs(t,o){const u=this._extractIconWithNameFromAnySet(t,o);return u?_t(u):UR(o.filter(p=>!p.svgText).map(p=>this._loadSvgIconSetFromConfig(p).pipe(Ap(g=>{const E=`Loading icon set URL: ${this._sanitizer.sanitize(_n.RESOURCE_URL,p.url)} failed: ${g.message}`;return this._errorHandler.handleError(new Error(E)),_t(null)})))).pipe(je(()=>{const p=this._extractIconWithNameFromAnySet(t,o);if(!p)throw ok(t);return p}))}_extractIconWithNameFromAnySet(t,o){for(let u=o.length-1;u>=0;u--){const d=o[u];if(d.svgText&&d.svgText.toString().indexOf(t)>-1){const p=this._svgElementFromConfig(d),g=this._extractSvgIconFromSet(p,t,d.options);if(g)return g}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Ao(o=>t.svgText=o),je(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?_t(null):this._fetchIcon(t).pipe(Ao(o=>t.svgText=o))}_extractSvgIconFromSet(t,o,u){const d=t.querySelector(`[id="${o}"]`);if(!d)return null;const p=d.cloneNode(!0);if(p.removeAttribute("id"),"svg"===p.nodeName.toLowerCase())return this._setSvgAttributes(p,u);if("symbol"===p.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(p),u);const g=this._svgElementFromString(V_("<svg></svg>"));return g.appendChild(p),this._setSvgAttributes(g,u)}_svgElementFromString(t){const o=this._document.createElement("DIV");o.innerHTML=t;const u=o.querySelector("svg");if(!u)throw Error("<svg> tag not found");return u}_toSvgElement(t){const o=this._svgElementFromString(V_("<svg></svg>")),u=t.attributes;for(let d=0;d<u.length;d++){const{name:p,value:g}=u[d];"id"!==p&&o.setAttribute(p,g)}for(let d=0;d<t.childNodes.length;d++)t.childNodes[d].nodeType===this._document.ELEMENT_NODE&&o.appendChild(t.childNodes[d].cloneNode(!0));return o}_setSvgAttributes(t,o){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),o&&o.viewBox&&t.setAttribute("viewBox",o.viewBox),t}_fetchIcon(t){const{url:o,options:u}=t,d=u?.withCredentials??!1;if(!this._httpClient)throw function k$(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==o)throw Error(`Cannot fetch icon from URL "${o}".`);const p=this._sanitizer.sanitize(_n.RESOURCE_URL,o);if(!p)throw sk(o);const g=this._inProgressUrlFetches.get(p);if(g)return g;const _=this._httpClient.get(p,{responseType:"text",withCredentials:d}).pipe(je(E=>V_(E)),jb(()=>this._inProgressUrlFetches.delete(p)),_a());return this._inProgressUrlFetches.set(p,_),_}_addSvgIconConfig(t,o,u){return this._svgIconConfigs.set(uk(t,o),u),this}_addSvgIconSetConfig(t,o){const u=this._iconSetConfigs.get(t);return u?u.push(o):this._iconSetConfigs.set(t,[o]),this}_svgElementFromConfig(t){if(!t.svgElement){const o=this._svgElementFromString(t.svgText);this._setSvgAttributes(o,t.options),t.svgElement=o}return t.svgElement}_getIconConfigFromResolvers(t,o){for(let u=0;u<this._resolvers.length;u++){const d=this._resolvers[u](o,t);if(d)return N$(d)?new cg(d.url,null,d.options):new cg(d,null)}}}return i.\u0275fac=function(t){return new(t||i)(H(yD,8),H(ZE),H(rn,8),H(ls))},i.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function B0(i){return i.cloneNode(!0)}function uk(i,e){return i+":"+e}function N$(i){return!(!i.url||!i.options)}const P$=cR(class{constructor(i){this._elementRef=i}}),F$=new Ie("MAT_ICON_DEFAULT_OPTIONS"),L$=new Ie("mat-icon-location",{providedIn:"root",factory:function V$(){const i=me(rn),e=i?i.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),ck=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],B$=ck.map(i=>`[${i}]`).join(", "),j$=/^url\(['"]?#(.*?)['"]?\)$/;let bD=(()=>{class i extends P${get inline(){return this._inline}set inline(t){this._inline=o0(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const o=this._cleanupFontValue(t);o!==this._fontSet&&(this._fontSet=o,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const o=this._cleanupFontValue(t);o!==this._fontIcon&&(this._fontIcon=o,this._updateFontIconClasses())}constructor(t,o,u,d,p,g){super(t),this._iconRegistry=o,this._location=d,this._errorHandler=p,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Nt.EMPTY,g&&(g.color&&(this.color=this.defaultColor=g.color),g.fontSet&&(this.fontSet=g.fontSet)),u||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const o=t.split(":");switch(o.length){case 1:return["",o[0]];case 2:return o;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const o=this._location.getPathname();o!==this._previousPath&&(this._previousPath=o,this._prependPathToReferences(o))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const o=this._location.getPathname();this._previousPath=o,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(o),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let o=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();o--;){const u=t.childNodes[o];(1!==u.nodeType||"svg"===u.nodeName.toLowerCase())&&u.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,o=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(u=>u.length>0);this._previousFontSetClass.forEach(u=>t.classList.remove(u)),o.forEach(u=>t.classList.add(u)),this._previousFontSetClass=o,this.fontIcon!==this._previousFontIconClass&&!o.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const o=this._elementsWithExternalReferences;o&&o.forEach((u,d)=>{u.forEach(p=>{d.setAttribute(p.name,`url('${t}#${p.value}')`)})})}_cacheChildrenWithExternalReferences(t){const o=t.querySelectorAll(B$),u=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let d=0;d<o.length;d++)ck.forEach(p=>{const g=o[d],_=g.getAttribute(p),E=_?_.match(j$):null;if(E){let S=u.get(g);S||(S=[],u.set(g,S)),S.push({name:p,value:E[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[o,u]=this._splitIconName(t);o&&(this._svgNamespace=o),u&&(this._svgName=u),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(u,o).pipe(ps(1)).subscribe(d=>this._setSvgElement(d),d=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${o}:${u}! ${d.message}`))})}}}return i.\u0275fac=function(t){return new(t||i)(ee(Nn),ee(V0),function dr(i){return function Rg(i,e){if("class"===e)return i.classes;if("style"===e)return i.styles;const t=i.attrs;if(t){const o=t.length;let u=0;for(;u<o;){const d=t[u];if(Od(d))break;if(0===d)u+=2;else if("number"==typeof d)for(u++;u<o&&"string"==typeof t[u];)u++;else{if(d===e)return t[u+1];u+=2}}}return null}(Rr(),i)}("aria-hidden"),ee(L$),ee(ls),ee(F$,8))},i.\u0275cmp=kt({type:i,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,o){2&t&&(hs("data-mat-icon-type",o._usingFontIcon()?"font":"svg")("data-mat-icon-name",o._svgName||o.fontIcon)("data-mat-icon-namespace",o._svgNamespace||o.fontSet)("fontIcon",o._usingFontIcon()?o.fontIcon:null),Ga("mat-icon-inline",o.inline)("mat-icon-no-color","primary"!==o.color&&"accent"!==o.color&&"warn"!==o.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[vn],ngContentSelectors:x$,decls:1,vars:0,template:function(t,o){1&t&&($m(),Hs(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),i})(),U$=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Bn({type:i}),i.\u0275inj=an({imports:[$u,$u]}),i})();function H$(i,e){if(1&i){const t=fs();st(0,"div")(1,"textarea",13),hn("ngModelChange",function(u){return gr(Xr(t).$implicit.text=u)}),yt()()}if(2&i){const t=e.$implicit;T(1),li("ngModel",t.text)}}function z$(i,e){1&i&&(st(0,"div",14),To(1,"img",15),yt())}let $$=(()=>{class i{constructor(t){this.dialog=t,this.auth=new xp,this.firestore=new Wv,this.storage=new Wz,this.selectedImageFile=null,this.questions=[{text:""}]}onPostClick(t){let o=t.value;o.length<=0||(this.selectedImageFile?this.uploadImagePost(o):this.uploadForm(o))}uploadImagePost(t){let o=this.firestore.genDocId();this.auth.getAuth().currentUser&&this.storage.upload({uploadName:"upload Image Post",path:["Posts",o,"image"],data:{data:this.selectedImageFile},onComplete:d=>{this.firestore.create({path:["Posts",o],data:{comment:t,creatorId:this.auth.getAuth().currentUser?.uid,imageUrl:d,timestamp:Ya.getFirestoreTimestamp(),questions:this.questions.map(p=>({text:p.text}))},onComplete:p=>{this.dialog.close()}})},onFail:d=>{alert(d)}})}uploadForm(t){this.firestore.genDocId(),this.auth.getAuth().currentUser&&(this.firestore.create({path:["Posts"],data:{comment:t,creatorId:this.auth.getAuth().currentUser?.uid,timestamp:Ya.getFirestoreTimestamp(),questions:this.questions.map(d=>({text:d.text}))},onComplete:d=>{this.dialog.close()}}),this.dialog.close())}onPhotoSelected(t){this.selectedImageFile=t.files&&t.files[0];let o=new FileReader;null!=this.selectedImageFile&&(o.readAsDataURL(this.selectedImageFile),o.addEventListener("loadend",u=>{let d=o.result.toString();document.getElementById("post-preview-image").src=d}))}addQuestion(){this.questions.push({text:""})}removeQuestion(){this.questions.pop()}}return i.\u0275fac=function(t){return new(t||i)(ee(KC))},i.\u0275cmp=kt({type:i,selectors:[["app-create-form"]],decls:23,vars:2,consts:[["id","content-box"],["placeholder","\xcdrd ide a c\xedmet"],["commentInput",""],[4,"ngFor","ngForOf"],["mat-button","","color","primary",3,"click"],["mat-button","","color","warn",3,"click"],["id","post-preview",4,"ngIf"],["align","end"],["mat-button","","color","warn"],["for","photo-upload"],["id","photo-upload","type","file","accept","image/*",3,"change"],["photoSelector",""],["mat-flat-button","","color","warn",3,"click"],["placeholder","K\xe9rd\xe9s",3,"ngModel","ngModelChange"],["id","post-preview"],["id","post-preview-image"]],template:function(t,o){if(1&t){const u=fs();st(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),fn(3,"K\xe9rd\u0151\xedv k\xe9sz\xedt\xe9se"),yt()(),st(4,"div",0)(5,"div"),To(6,"textarea",1,2),yt(),oo(8,H$,2,1,"div",3),yt(),st(9,"button",4),hn("click",function(){return o.addQuestion()}),fn(10,"+ K\xe9rd\xe9s hozz\xe1ad\xe1sa"),yt(),st(11,"button",5),hn("click",function(){return o.removeQuestion()}),fn(12,"- K\xe9rd\xe9s elt\xe1vol\xedt\xe1sa"),yt(),oo(13,z$,2,0,"div",6),st(14,"mat-card-actions",7)(15,"button",8)(16,"label",9)(17,"input",10,11),hn("change",function(){Xr(u);const p=nl(18);return gr(o.onPhotoSelected(p))}),yt(),st(19,"mat-icon"),fn(20,"insert_photo"),yt()()(),st(21,"button",12),hn("click",function(){Xr(u);const p=nl(7);return gr(o.onPostClick(p))}),fn(22,"K\xf6zz\xe9tesz"),yt()()()}2&t&&(T(8),li("ngForOf",o.questions),T(5),li("ngIf",o.selectedImageFile))},dependencies:[T_,JC,N0,xb,Zy,og,D_,b0,I_,S_,bD],styles:["#photo-upload[_ngcontent-%COMP%]{display:none}textarea[_ngcontent-%COMP%]{font-size:1.5em;padding:.5em;resize:none;width:500px;min-height:10px;border:none;outline:none}#post-preview[_ngcontent-%COMP%]{text-align:right;margin-top:1em}#post-preview-image[_ngcontent-%COMP%]{object-fit:cover;object-position:center;width:150px;height:100px;border-radius:1em;border:1px dashed gray}#content-box[_ngcontent-%COMP%]{max-height:300px;overflow-y:scroll}"]}),i})();function q$(i,e){if(1&i){const t=fs();st(0,"button",5),hn("click",function(){return Xr(t),gr(ga().answerMode())}),fn(1,"Kit\xf6lt\xf6tt K\xe9rd\u0151\xedvek"),yt()}}function G$(i,e){if(1&i){const t=fs();st(0,"button",5),hn("click",function(){return Xr(t),gr(ga().answerMode())}),fn(1,"\xd6sszes k\xe9rd\u0151\xedv"),yt()}}function W$(i,e){if(1&i){const t=fs();st(0,"button",6),hn("click",function(){return Xr(t),gr(ga().switchEditMode())}),fn(1,"Saj\xe1t k\xe9rd\u0151\xedvek"),yt()}}function K$(i,e){if(1&i){const t=fs();st(0,"button",5),hn("click",function(){return Xr(t),gr(ga().editOff())}),fn(1,"\xd6sszes k\xe9rd\u0151\xedv"),yt()}}function Y$(i,e){if(1&i){const t=fs();st(0,"button",9),hn("click",function(){Xr(t);const u=ga().$implicit;return gr(ga().deleteForm(u))}),st(1,"mat-icon"),fn(2,"close"),yt()()}}function Z$(i,e){if(1&i&&(st(0,"div"),To(1,"app-form",7),oo(2,Y$,3,0,"button",8),yt()),2&i){const t=e.$implicit,o=ga();T(1),li("formData",t),T(1),li("ngIf",o.editMode)}}let lk=(()=>{class i{constructor(t){this.dialog=t,this.firestore=new Wv,this.forms=[],this.answeredMode=!1,this.editMode=!1,this.auth=new xp,this.editMode=!1}ngOnInit(){this.loadCurrentFeed(),this.editMode=!1}onCreateFormClick(){this.dialog.open($$)}getForms(){this.forms=[],this.firestore.getCollection({path:["Posts"],where:[new w0("timestamp","desc"),new E0(20)],onComplete:t=>{t.docs.forEach(o=>{let u=o.data();u.formId=o.id,this.forms.push(u)})},onFail:t=>{}})}getOwnForms(){this.forms=[],this.firestore.getCollection({path:["Posts"],where:[new w0("timestamp","desc"),new E0(20)],onComplete:t=>{t.docs.forEach(o=>{let u=o.data();u.formId=o.id,u.creatorId==this.auth.getAuth().currentUser?.uid&&this.forms.push(u)})},onFail:t=>{}})}getFormsAnswered(){this.forms=[];let t=[];this.firestore.getCollection({path:["AnsweredForms"],where:[new w0("timestamp","desc"),new E0(100)],onComplete:o=>{o.docs.forEach(u=>{let d=u.data();t.push(d.sourceForm)})},onFail:o=>{}}),this.firestore.getCollection({path:["Posts"],where:[new w0("timestamp","desc"),new E0(20)],onComplete:o=>{o.docs.forEach(u=>{let d=u.data();d.formId=u.id,t.includes(d.formId)&&this.forms.push(d)})},onFail:o=>{}})}deleteForm(t){this.firestore.delete({path:["Posts",t.formId],onComplete:()=>{this.loadCurrentFeed()}})}answerMode(){this.answeredMode=!this.answeredMode,this.editMode=!1,this.loadCurrentFeed()}loadCurrentFeed(){this.editMode?this.getOwnForms():this.answeredMode?this.getFormsAnswered():this.getForms()}switchEditMode(){this.editMode=!0,this.loadCurrentFeed()}editOff(){this.editMode=!1,this.answeredMode=!1,this.loadCurrentFeed()}}return i.\u0275fac=function(t){return new(t||i)(ee(YC))},i.\u0275cmp=kt({type:i,selectors:[["app-my-feed"]],decls:9,vars:5,consts:[["mat-flat-button","","color","warn","id","switch-button",3,"click",4,"ngIf"],["mat-flat-button","","color","warn","id","switch-button2",3,"click",4,"ngIf"],["id","post-feed"],[4,"ngFor","ngForOf"],["mat-fab","","color","warn","id","post-button",3,"click"],["mat-flat-button","","color","warn","id","switch-button",3,"click"],["mat-flat-button","","color","warn","id","switch-button2",3,"click"],[3,"formData"],["mat-fab","","color","warn",3,"click",4,"ngIf"],["mat-fab","","color","warn",3,"click"]],template:function(t,o){1&t&&(oo(0,q$,2,0,"button",0),oo(1,G$,2,0,"button",0),oo(2,W$,2,0,"button",1),oo(3,K$,2,0,"button",0),st(4,"div",2),oo(5,Z$,3,2,"div",3),yt(),st(6,"button",4),hn("click",function(){return o.onCreateFormClick()}),st(7,"mat-icon"),fn(8,"add"),yt()()),2&t&&(li("ngIf",!o.answeredMode),T(1),li("ngIf",o.answeredMode),T(1),li("ngIf",!o.editMode),T(1),li("ngIf",o.editMode),T(2),li("ngForOf",o.forms))},styles:["#post-button[_ngcontent-%COMP%]{position:fixed;bottom:2em;right:2em}#switch-button[_ngcontent-%COMP%]{position:fixed;top:10em;left:2em}#switch-button2[_ngcontent-%COMP%]{position:fixed;top:15em;left:2em}#post-feed[_ngcontent-%COMP%]{max-width:500px;margin-top:5em;margin-left:auto;margin-right:auto}"]}),i})();const X$=[{path:"",component:OR},{path:"emailVerification",component:Gz},{path:"myfeed",component:lk},{path:"**",component:OR}];let Q$=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Bn({type:i}),i.\u0275inj=an({imports:[wx.forRoot(X$),wx]}),i})();const J$=function(i,e){return{active:i,idle:e}};let e5=(()=>{class i{constructor(){this.show=!1,this.firestore=new Wv,this.auth=new xp}ngOnInit(){}onContinueClick(t,o){let u=t.value,d=o.value;this.firestore.create({path:["Users",this.auth.getAuth().currentUser.uid],data:{publicName:u,description:d},onComplete:p=>{alert("Profile Created"),t.value="",o.value=""},onFail:p=>{}})}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=kt({type:i,selectors:[["app-profile"]],inputs:{show:"show"},decls:8,vars:4,consts:[["id","profile",3,"ngClass"],["id","profile-content"],["placeholder","Name"],["nameInput",""],["placeholder","Description"],["descriptionInput",""],["mat-flat-button","","color","warn",3,"click"]],template:function(t,o){if(1&t){const u=fs();st(0,"div",0)(1,"div",1),To(2,"input",2,3)(4,"textarea",4,5),st(6,"button",6),hn("click",function(){Xr(u);const p=nl(3),g=nl(5);return gr(o.onContinueClick(p,g))}),fn(7,"Folytat\xe1s"),yt()()()}2&t&&li("ngClass",nT(1,J$,o.show,!o.show))},dependencies:[BA,og],styles:["#profile[_ngcontent-%COMP%]{position:fixed;top:0;right:0;height:100vh;background-color:#1d1d1d;z-index:9;transition-duration:.5s;overflow:hidden;display:flex;justify-content:center;align-items:center}.active[_ngcontent-%COMP%]{width:100vw}.idle[_ngcontent-%COMP%]{width:0}#profile-content[_ngcontent-%COMP%]{width:100%;max-width:500px;padding:2em;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:1em;border-radius:1em;margin-bottom:.5em;resize:none;outline:none;border:1px solid gray;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}"]}),i})();function t5(i,e){if(1&i){const t=fs();st(0,"div",7),hn("click",function(){return Xr(t),gr(ga().onLoginClick())}),fn(1,"Bel\xe9p\xe9s"),yt()}}function n5(i,e){if(1&i){const t=fs();st(0,"div",7),hn("click",function(){return Xr(t),gr(ga().onMyFeedClick())}),fn(1," K\xe9rd\u0151\xedvek "),yt()}}function r5(i,e){if(1&i){const t=fs();st(0,"div",7),hn("click",function(){return Xr(t),gr(ga().onLogoutClick())}),fn(1,"Kil\xe9p\xe9s"),yt()}}let o5=(()=>{class i{constructor(t,o){this.loginSheet=t,this.router=o,this.title="Questionnaire",this.auth=new xp,this.firestore=new Wv,this.userHasProfile=!0,this.userDocument=null,this.auth.listenToSignInStateChanges(u=>{u&&this.auth.checkSignInState({whenSignedIn:d=>{},whenSignedOut:d=>{},whenSignedInAndEmailNotVerified:d=>{this.router.navigate(["emailVerification"])},whenSignedInAndEmailVerified:d=>{this.getUserProfile()},whenChanged:d=>{}})})}getUserProfile(){this.firestore.listenToDocument({name:"Getting Document",path:["Users",this.auth.getAuth().currentUser.uid],onUpdate:t=>{this.userDocument=t.data(),this.userHasProfile=t.exists,this.userHasProfile&&this.router.navigate(["myfeed"])}})}onLogoutClick(){this.auth.signOut(),this.router.navigate([""])}loggedIn(){return this.auth.isSignedIn()}onLoginClick(){this.loginSheet.open(kR)}onHomeClick(){this.router.navigate([""])}onMyFeedClick(){this.router.navigate(["myfeed"])}}return i.\u0275fac=function(t){return new(t||i)(ee(ER),ee(qs))},i.\u0275cmp=kt({type:i,selectors:[["app-root"]],decls:11,vars:4,consts:[["id","nav-bar"],["id","nav-bar-content"],["id","nav-bar-left"],["stlye","font-size: 1.5em",1,"nav-bar-items",3,"click"],["id","nav-bar-right"],["class","nav-bar-items",3,"click",4,"ngIf"],[3,"show"],[1,"nav-bar-items",3,"click"]],template:function(t,o){1&t&&(st(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),hn("click",function(){return o.onHomeClick()}),fn(4,"Questionnaire"),yt()(),st(5,"div",4),oo(6,t5,2,0,"div",5),oo(7,n5,2,0,"div",5),oo(8,r5,2,0,"div",5),yt()()(),To(9,"router-outlet")(10,"app-profile",6)),2&t&&(T(6),li("ngIf",!o.loggedIn()),T(1),li("ngIf",o.loggedIn()&&o.userHasProfile),T(1),li("ngIf",o.loggedIn()),T(2),li("show",o.loggedIn()&&!o.userHasProfile))},dependencies:[Zy,hC,e5],styles:["#nav-bar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:5em;z-index:10}#nav-bar-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;height:100%}#nav-bar-left[_ngcontent-%COMP%], #nav-bar-right[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%;padding:0 2em;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;color:#fff;background-color:#000}#nav-bar-right[_ngcontent-%COMP%]{justify-content:flex-end}.nav-bar-items[_ngcontent-%COMP%]{font-size:1em;display:inline-block;cursor:pointer;margin-right:1em}"]}),i})();function dk(i){return new le(3e3,!1)}function Lp(i){switch(i.length){case 0:return new E_;case 1:return i[0];default:return new bR(i)}}function hk(i,e,t,o,u=new Map,d=new Map){const p=[],g=[];let _=-1,E=null;if(o.forEach(S=>{const x=S.get("offset"),L=x==_,V=L&&E||new Map;S.forEach(($,Y)=>{let ue=Y,ve=$;if("offset"!==Y)switch(ue=e.normalizePropertyName(ue,p),ve){case $C:ve=u.get(Y);break;case tf:ve=d.get(Y);break;default:ve=e.normalizeStyleValue(Y,ue,ve,p)}V.set(ue,ve)}),L||g.push(V),E=V,_=x}),p.length)throw function A5(i){return new le(3502,!1)}();return g}function wD(i,e,t,o){switch(e){case"start":i.onStart(()=>o(t&&ED(t,"start",i)));break;case"done":i.onDone(()=>o(t&&ED(t,"done",i)));break;case"destroy":i.onDestroy(()=>o(t&&ED(t,"destroy",i)))}}function ED(i,e,t){const d=CD(i.element,i.triggerName,i.fromState,i.toState,e||i.phaseName,t.totalTime??i.totalTime,!!t.disabled),p=i._data;return null!=p&&(d._data=p),d}function CD(i,e,t,o,u="",d=0,p){return{element:i,triggerName:e,fromState:t,toState:o,phaseName:u,totalTime:d,disabled:!!p}}function Za(i,e,t){let o=i.get(e);return o||i.set(e,o=t),o}function fk(i){const e=i.indexOf(":");return[i.substring(1,e),i.slice(e+1)]}const j5=(()=>typeof document>"u"?null:document.documentElement)();function DD(i){const e=i.parentNode||i.host||null;return e===j5?null:e}let lg=null,pk=!1;function mk(i,e){for(;e;){if(e===i)return!0;e=DD(e)}return!1}function gk(i,e,t){if(t)return Array.from(i.querySelectorAll(e));const o=i.querySelector(e);return o?[o]:[]}let vk=(()=>{class i{validateStyleProperty(t){return function H5(i){lg||(lg=function z5(){return typeof document<"u"?document.body:null}()||{},pk=!!lg.style&&"WebkitAppearance"in lg.style);let e=!0;return lg.style&&!function U5(i){return"ebkit"==i.substring(1,6)}(i)&&(e=i in lg.style,!e&&pk&&(e="Webkit"+i.charAt(0).toUpperCase()+i.slice(1)in lg.style)),e}(t)}matchesElement(t,o){return!1}containsElement(t,o){return mk(t,o)}getParentElement(t){return DD(t)}query(t,o,u){return gk(t,o,u)}computeStyle(t,o,u){return u||""}animate(t,o,u,d,p,g=[],_){return new E_(u,d)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=xe({token:i,factory:i.\u0275fac}),i})(),SD=(()=>{class i{}return i.NOOP=new vk,i})();const $5=1e3,ID="ng-enter",j0="ng-leave",U0="ng-trigger",H0=".ng-trigger",_k="ng-animating",TD=".ng-animating";function rf(i){if("number"==typeof i)return i;const e=i.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:AD(parseFloat(e[1]),e[2])}function AD(i,e){return"s"===e?i*$5:i}function z0(i,e,t){return i.hasOwnProperty("duration")?i:function G5(i,e,t){let u,d=0,p="";if("string"==typeof i){const g=i.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===g)return e.push(dk()),{duration:0,delay:0,easing:""};u=AD(parseFloat(g[1]),g[2]);const _=g[3];null!=_&&(d=AD(parseFloat(_),g[4]));const E=g[5];E&&(p=E)}else u=i;if(!t){let g=!1,_=e.length;u<0&&(e.push(function s5(){return new le(3100,!1)}()),g=!0),d<0&&(e.push(function a5(){return new le(3101,!1)}()),g=!0),g&&e.splice(_,0,dk())}return{duration:u,delay:d,easing:p}}(i,e,t)}function B_(i,e={}){return Object.keys(i).forEach(t=>{e[t]=i[t]}),e}function bk(i){const e=new Map;return Object.keys(i).forEach(t=>{e.set(t,i[t])}),e}function Vp(i,e=new Map,t){if(t)for(let[o,u]of t)e.set(o,u);for(let[o,u]of i)e.set(o,u);return e}function Id(i,e,t){e.forEach((o,u)=>{const d=xD(u);t&&!t.has(u)&&t.set(u,i.style[d]),i.style[d]=o})}function dg(i,e){e.forEach((t,o)=>{const u=xD(o);i.style[u]=""})}function j_(i){return Array.isArray(i)?1==i.length?i[0]:yR(i):i}const MD=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ek(i){let e=[];if("string"==typeof i){let t;for(;t=MD.exec(i);)e.push(t[1]);MD.lastIndex=0}return e}function U_(i,e,t){const o=i.toString(),u=o.replace(MD,(d,p)=>{let g=e[p];return null==g&&(t.push(function c5(i){return new le(3003,!1)}()),g=""),g.toString()});return u==o?i:u}function $0(i){const e=[];let t=i.next();for(;!t.done;)e.push(t.value),t=i.next();return e}const Y5=/-+([a-z0-9])/g;function xD(i){return i.replace(Y5,(...e)=>e[1].toUpperCase())}function Xa(i,e,t){switch(e.type){case 7:return i.visitTrigger(e,t);case 0:return i.visitState(e,t);case 1:return i.visitTransition(e,t);case 2:return i.visitSequence(e,t);case 3:return i.visitGroup(e,t);case 4:return i.visitAnimate(e,t);case 5:return i.visitKeyframes(e,t);case 6:return i.visitStyle(e,t);case 8:return i.visitReference(e,t);case 9:return i.visitAnimateChild(e,t);case 10:return i.visitAnimateRef(e,t);case 11:return i.visitQuery(e,t);case 12:return i.visitStagger(e,t);default:throw function l5(i){return new le(3004,!1)}()}}function Ck(i,e){return window.getComputedStyle(i)[e]}const q0="*";function Q5(i,e){const t=[];return"string"==typeof i?i.split(/\s*,\s*/).forEach(o=>function J5(i,e,t){if(":"==i[0]){const _=function eq(i,e){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,o)=>parseFloat(o)>parseFloat(t);case":decrement":return(t,o)=>parseFloat(o)<parseFloat(t);default:return e.push(function D5(i){return new le(3016,!1)}()),"* => *"}}(i,t);if("function"==typeof _)return void e.push(_);i=_}const o=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==o||o.length<4)return t.push(function C5(i){return new le(3015,!1)}()),e;const u=o[1],d=o[2],p=o[3];e.push(Dk(u,p));"<"==d[0]&&!(u==q0&&p==q0)&&e.push(Dk(p,u))}(o,t,e)):t.push(i),t}const G0=new Set(["true","1"]),W0=new Set(["false","0"]);function Dk(i,e){const t=G0.has(i)||W0.has(i),o=G0.has(e)||W0.has(e);return(u,d)=>{let p=i==q0||i==u,g=e==q0||e==d;return!p&&t&&"boolean"==typeof u&&(p=u?G0.has(i):W0.has(i)),!g&&o&&"boolean"==typeof d&&(g=d?G0.has(e):W0.has(e)),p&&g}}const tq=new RegExp("s*:selfs*,?","g");function RD(i,e,t,o){return new nq(i).build(e,t,o)}class nq{constructor(e){this._driver=e}build(e,t,o){const u=new oq(t);return this._resetContextStyleTimingState(u),Xa(this,j_(e),u)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let o=t.queryCount=0,u=t.depCount=0;const d=[],p=[];return"@"==e.name.charAt(0)&&t.errors.push(function h5(){return new le(3006,!1)}()),e.definitions.forEach(g=>{if(this._resetContextStyleTimingState(t),0==g.type){const _=g,E=_.name;E.toString().split(/\s*,\s*/).forEach(S=>{_.name=S,d.push(this.visitState(_,t))}),_.name=E}else if(1==g.type){const _=this.visitTransition(g,t);o+=_.queryCount,u+=_.depCount,p.push(_)}else t.errors.push(function f5(){return new le(3007,!1)}())}),{type:7,name:e.name,states:d,transitions:p,queryCount:o,depCount:u,options:null}}visitState(e,t){const o=this.visitStyle(e.styles,t),u=e.options&&e.options.params||null;if(o.containsDynamicStyles){const d=new Set,p=u||{};o.styles.forEach(g=>{g instanceof Map&&g.forEach(_=>{Ek(_).forEach(E=>{p.hasOwnProperty(E)||d.add(E)})})}),d.size&&($0(d.values()),t.errors.push(function p5(i,e){return new le(3008,!1)}()))}return{type:0,name:e.name,style:o,options:u?{params:u}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const o=Xa(this,j_(e.animation),t);return{type:1,matchers:Q5(e.expr,t.errors),animation:o,queryCount:t.queryCount,depCount:t.depCount,options:hg(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(o=>Xa(this,o,t)),options:hg(e.options)}}visitGroup(e,t){const o=t.currentTime;let u=0;const d=e.steps.map(p=>{t.currentTime=o;const g=Xa(this,p,t);return u=Math.max(u,t.currentTime),g});return t.currentTime=u,{type:3,steps:d,options:hg(e.options)}}visitAnimate(e,t){const o=function aq(i,e){if(i.hasOwnProperty("duration"))return i;if("number"==typeof i)return kD(z0(i,e).duration,0,"");const t=i;if(t.split(/\s+/).some(d=>"{"==d.charAt(0)&&"{"==d.charAt(1))){const d=kD(0,0,"");return d.dynamic=!0,d.strValue=t,d}const u=z0(t,e);return kD(u.duration,u.delay,u.easing)}(e.timings,t.errors);t.currentAnimateTimings=o;let u,d=e.styles?e.styles:kp({});if(5==d.type)u=this.visitKeyframes(d,t);else{let p=e.styles,g=!1;if(!p){g=!0;const E={};o.easing&&(E.easing=o.easing),p=kp(E)}t.currentTime+=o.duration+o.delay;const _=this.visitStyle(p,t);_.isEmptyStep=g,u=_}return t.currentAnimateTimings=null,{type:4,timings:o,style:u,options:null}}visitStyle(e,t){const o=this._makeStyleAst(e,t);return this._validateStyleAst(o,t),o}_makeStyleAst(e,t){const o=[],u=Array.isArray(e.styles)?e.styles:[e.styles];for(let g of u)"string"==typeof g?g===tf?o.push(g):t.errors.push(new le(3002,!1)):o.push(bk(g));let d=!1,p=null;return o.forEach(g=>{if(g instanceof Map&&(g.has("easing")&&(p=g.get("easing"),g.delete("easing")),!d))for(let _ of g.values())if(_.toString().indexOf("{{")>=0){d=!0;break}}),{type:6,styles:o,easing:p,offset:e.offset,containsDynamicStyles:d,options:null}}_validateStyleAst(e,t){const o=t.currentAnimateTimings;let u=t.currentTime,d=t.currentTime;o&&d>0&&(d-=o.duration+o.delay),e.styles.forEach(p=>{"string"!=typeof p&&p.forEach((g,_)=>{const E=t.collectedStyles.get(t.currentQuerySelector),S=E.get(_);let x=!0;S&&(d!=u&&d>=S.startTime&&u<=S.endTime&&(t.errors.push(function g5(i,e,t,o,u){return new le(3010,!1)}()),x=!1),d=S.startTime),x&&E.set(_,{startTime:d,endTime:u}),t.options&&function K5(i,e,t){const o=e.params||{},u=Ek(i);u.length&&u.forEach(d=>{o.hasOwnProperty(d)||t.push(function u5(i){return new le(3001,!1)}())})}(g,t.options,t.errors)})})}visitKeyframes(e,t){const o={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function v5(){return new le(3011,!1)}()),o;let d=0;const p=[];let g=!1,_=!1,E=0;const S=e.steps.map(ve=>{const ae=this._makeStyleAst(ve,t);let ze=null!=ae.offset?ae.offset:function sq(i){if("string"==typeof i)return null;let e=null;if(Array.isArray(i))i.forEach(t=>{if(t instanceof Map&&t.has("offset")){const o=t;e=parseFloat(o.get("offset")),o.delete("offset")}});else if(i instanceof Map&&i.has("offset")){const t=i;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(ae.styles),et=0;return null!=ze&&(d++,et=ae.offset=ze),_=_||et<0||et>1,g=g||et<E,E=et,p.push(et),ae});_&&t.errors.push(function y5(){return new le(3012,!1)}()),g&&t.errors.push(function _5(){return new le(3200,!1)}());const x=e.steps.length;let L=0;d>0&&d<x?t.errors.push(function b5(){return new le(3202,!1)}()):0==d&&(L=1/(x-1));const V=x-1,$=t.currentTime,Y=t.currentAnimateTimings,ue=Y.duration;return S.forEach((ve,ae)=>{const ze=L>0?ae==V?1:L*ae:p[ae],et=ze*ue;t.currentTime=$+Y.delay+et,Y.duration=et,this._validateStyleAst(ve,t),ve.offset=ze,o.styles.push(ve)}),o}visitReference(e,t){return{type:8,animation:Xa(this,j_(e.animation),t),options:hg(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:hg(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:hg(e.options)}}visitQuery(e,t){const o=t.currentQuerySelector,u=e.options||{};t.queryCount++,t.currentQuery=e;const[d,p]=function rq(i){const e=!!i.split(/\s*,\s*/).find(t=>":self"==t);return e&&(i=i.replace(tq,"")),i=i.replace(/@\*/g,H0).replace(/@\w+/g,t=>H0+"-"+t.slice(1)).replace(/:animating/g,TD),[i,e]}(e.selector);t.currentQuerySelector=o.length?o+" "+d:d,Za(t.collectedStyles,t.currentQuerySelector,new Map);const g=Xa(this,j_(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=o,{type:11,selector:d,limit:u.limit||0,optional:!!u.optional,includeSelf:p,animation:g,originalSelector:e.selector,options:hg(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function w5(){return new le(3013,!1)}());const o="full"===e.timings?{duration:0,delay:0,easing:"full"}:z0(e.timings,t.errors,!0);return{type:12,animation:Xa(this,j_(e.animation),t),timings:o,options:null}}}class oq{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function hg(i){return i?(i=B_(i)).params&&(i.params=function iq(i){return i?B_(i):null}(i.params)):i={},i}function kD(i,e,t){return{duration:i,delay:e,easing:t}}function OD(i,e,t,o,u,d,p=null,g=!1){return{type:1,element:i,keyframes:e,preStyleProps:t,postStyleProps:o,duration:u,delay:d,totalTime:u+d,easing:p,subTimeline:g}}class K0{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let o=this._map.get(e);o||this._map.set(e,o=[]),o.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const lq=new RegExp(":enter","g"),hq=new RegExp(":leave","g");function ND(i,e,t,o,u,d=new Map,p=new Map,g,_,E=[]){return(new fq).buildKeyframes(i,e,t,o,u,d,p,g,_,E)}class fq{buildKeyframes(e,t,o,u,d,p,g,_,E,S=[]){E=E||new K0;const x=new PD(e,t,E,u,d,S,[]);x.options=_;const L=_.delay?rf(_.delay):0;x.currentTimeline.delayNextStep(L),x.currentTimeline.setStyles([p],null,x.errors,_),Xa(this,o,x);const V=x.timelines.filter($=>$.containsAnimation());if(V.length&&g.size){let $;for(let Y=V.length-1;Y>=0;Y--){const ue=V[Y];if(ue.element===t){$=ue;break}}$&&!$.allowOnlyTimelineStyles()&&$.setStyles([g],null,x.errors,_)}return V.length?V.map($=>$.buildKeyframes()):[OD(t,[],[],[],0,L,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const o=t.subInstructions.get(t.element);if(o){const u=t.createSubContext(e.options),d=t.currentTimeline.currentTime,p=this._visitSubInstructions(o,u,u.options);d!=p&&t.transformIntoNewTimeline(p)}t.previousNode=e}visitAnimateRef(e,t){const o=t.createSubContext(e.options);o.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,o),this.visitReference(e.animation,o),t.transformIntoNewTimeline(o.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,o){for(const u of e){const d=u?.delay;if(d){const p="number"==typeof d?d:rf(U_(d,u?.params??{},t.errors));o.delayNextStep(p)}}}_visitSubInstructions(e,t,o){let d=t.currentTimeline.currentTime;const p=null!=o.duration?rf(o.duration):null,g=null!=o.delay?rf(o.delay):null;return 0!==p&&e.forEach(_=>{const E=t.appendInstructionToTimeline(_,p,g);d=Math.max(d,E.duration+E.delay)}),d}visitReference(e,t){t.updateOptions(e.options,!0),Xa(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const o=t.subContextCount;let u=t;const d=e.options;if(d&&(d.params||d.delay)&&(u=t.createSubContext(d),u.transformIntoNewTimeline(),null!=d.delay)){6==u.previousNode.type&&(u.currentTimeline.snapshotCurrentStyles(),u.previousNode=Y0);const p=rf(d.delay);u.delayNextStep(p)}e.steps.length&&(e.steps.forEach(p=>Xa(this,p,u)),u.currentTimeline.applyStylesToKeyframe(),u.subContextCount>o&&u.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const o=[];let u=t.currentTimeline.currentTime;const d=e.options&&e.options.delay?rf(e.options.delay):0;e.steps.forEach(p=>{const g=t.createSubContext(e.options);d&&g.delayNextStep(d),Xa(this,p,g),u=Math.max(u,g.currentTimeline.currentTime),o.push(g.currentTimeline)}),o.forEach(p=>t.currentTimeline.mergeTimelineCollectedStyles(p)),t.transformIntoNewTimeline(u),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const o=e.strValue;return z0(t.params?U_(o,t.params,t.errors):o,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const o=t.currentAnimateTimings=this._visitTiming(e.timings,t),u=t.currentTimeline;o.delay&&(t.incrementTime(o.delay),u.snapshotCurrentStyles());const d=e.style;5==d.type?this.visitKeyframes(d,t):(t.incrementTime(o.duration),this.visitStyle(d,t),u.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const o=t.currentTimeline,u=t.currentAnimateTimings;!u&&o.hasCurrentStyleProperties()&&o.forwardFrame();const d=u&&u.easing||e.easing;e.isEmptyStep?o.applyEmptyStep(d):o.setStyles(e.styles,d,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const o=t.currentAnimateTimings,u=t.currentTimeline.duration,d=o.duration,g=t.createSubContext().currentTimeline;g.easing=o.easing,e.styles.forEach(_=>{g.forwardTime((_.offset||0)*d),g.setStyles(_.styles,_.easing,t.errors,t.options),g.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(g),t.transformIntoNewTimeline(u+d),t.previousNode=e}visitQuery(e,t){const o=t.currentTimeline.currentTime,u=e.options||{},d=u.delay?rf(u.delay):0;d&&(6===t.previousNode.type||0==o&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Y0);let p=o;const g=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!u.optional,t.errors);t.currentQueryTotal=g.length;let _=null;g.forEach((E,S)=>{t.currentQueryIndex=S;const x=t.createSubContext(e.options,E);d&&x.delayNextStep(d),E===t.element&&(_=x.currentTimeline),Xa(this,e.animation,x),x.currentTimeline.applyStylesToKeyframe(),p=Math.max(p,x.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(p),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const o=t.parentContext,u=t.currentTimeline,d=e.timings,p=Math.abs(d.duration),g=p*(t.currentQueryTotal-1);let _=p*t.currentQueryIndex;switch(d.duration<0?"reverse":d.easing){case"reverse":_=g-_;break;case"full":_=o.currentStaggerTime}const S=t.currentTimeline;_&&S.delayNextStep(_);const x=S.currentTime;Xa(this,e.animation,t),t.previousNode=e,o.currentStaggerTime=u.currentTime-x+(u.startTime-o.currentTimeline.startTime)}}const Y0={};class PD{constructor(e,t,o,u,d,p,g,_){this._driver=e,this.element=t,this.subInstructions=o,this._enterClassName=u,this._leaveClassName=d,this.errors=p,this.timelines=g,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Y0,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new Z0(this._driver,t,0),g.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const o=e;let u=this.options;null!=o.duration&&(u.duration=rf(o.duration)),null!=o.delay&&(u.delay=rf(o.delay));const d=o.params;if(d){let p=u.params;p||(p=this.options.params={}),Object.keys(d).forEach(g=>{(!t||!p.hasOwnProperty(g))&&(p[g]=U_(d[g],p,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const o=e.params={};Object.keys(t).forEach(u=>{o[u]=t[u]})}}return e}createSubContext(e=null,t,o){const u=t||this.element,d=new PD(this._driver,u,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(u,o||0));return d.previousNode=this.previousNode,d.currentAnimateTimings=this.currentAnimateTimings,d.options=this._copyOptions(),d.updateOptions(e),d.currentQueryIndex=this.currentQueryIndex,d.currentQueryTotal=this.currentQueryTotal,d.parentContext=this,this.subContextCount++,d}transformIntoNewTimeline(e){return this.previousNode=Y0,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,o){const u={duration:t??e.duration,delay:this.currentTimeline.currentTime+(o??0)+e.delay,easing:""},d=new pq(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,u,e.stretchStartingKeyframe);return this.timelines.push(d),u}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,o,u,d,p){let g=[];if(u&&g.push(this.element),e.length>0){e=(e=e.replace(lq,"."+this._enterClassName)).replace(hq,"."+this._leaveClassName);let E=this._driver.query(this.element,e,1!=o);0!==o&&(E=o<0?E.slice(E.length+o,E.length):E.slice(0,o)),g.push(...E)}return!d&&0==g.length&&p.push(function E5(i){return new le(3014,!1)}()),g}}class Z0{constructor(e,t,o,u){this._driver=e,this.element=t,this.startTime=o,this._elementTimelineStylesLookup=u,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Z0(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,o]of this._globalTimelineStyles)this._backFill.set(t,o||tf),this._currentKeyframe.set(t,tf);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,o,u){t&&this._previousKeyframe.set("easing",t);const d=u&&u.params||{},p=function mq(i,e){const t=new Map;let o;return i.forEach(u=>{if("*"===u){o=o||e.keys();for(let d of o)t.set(d,tf)}else Vp(u,t)}),t}(e,this._globalTimelineStyles);for(let[g,_]of p){const E=U_(_,d,o);this._pendingStyles.set(g,E),this._localTimelineStyles.has(g)||this._backFill.set(g,this._globalTimelineStyles.get(g)??tf),this._updateStyle(g,E)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,o)=>{const u=this._styleSummary.get(o);(!u||t.time>u.time)&&this._updateStyle(o,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,o=1===this._keyframes.size&&0===this.duration;let u=[];this._keyframes.forEach((g,_)=>{const E=Vp(g,new Map,this._backFill);E.forEach((S,x)=>{S===$C?e.add(x):S===tf&&t.add(x)}),o||E.set("offset",_/this.duration),u.push(E)});const d=e.size?$0(e.values()):[],p=t.size?$0(t.values()):[];if(o){const g=u[0],_=new Map(g);g.set("offset",0),_.set("offset",1),u=[g,_]}return OD(this.element,u,d,p,this.duration,this.startTime,this.easing,!1)}}class pq extends Z0{constructor(e,t,o,u,d,p,g=!1){super(e,t,p.delay),this.keyframes=o,this.preStyleProps=u,this.postStyleProps=d,this._stretchStartingKeyframe=g,this.timings={duration:p.duration,delay:p.delay,easing:p.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:o,easing:u}=this.timings;if(this._stretchStartingKeyframe&&t){const d=[],p=o+t,g=t/p,_=Vp(e[0]);_.set("offset",0),d.push(_);const E=Vp(e[0]);E.set("offset",Tk(g)),d.push(E);const S=e.length-1;for(let x=1;x<=S;x++){let L=Vp(e[x]);const V=L.get("offset");L.set("offset",Tk((t+V*o)/p)),d.push(L)}o=p,t=0,u="",e=d}return OD(this.element,e,this.preStyleProps,this.postStyleProps,o,t,u,!0)}}function Tk(i,e=3){const t=Math.pow(10,e-1);return Math.round(i*t)/t}class FD{}const gq=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class vq extends FD{normalizePropertyName(e,t){return xD(e)}normalizeStyleValue(e,t,o,u){let d="";const p=o.toString().trim();if(gq.has(t)&&0!==o&&"0"!==o)if("number"==typeof o)d="px";else{const g=o.match(/^[+-]?[\d\.]+([a-z]*)$/);g&&0==g[1].length&&u.push(function d5(i,e){return new le(3005,!1)}())}return p+d}}function Ak(i,e,t,o,u,d,p,g,_,E,S,x,L){return{type:0,element:i,triggerName:e,isRemovalTransition:u,fromState:t,fromStyles:d,toState:o,toStyles:p,timelines:g,queriedElements:_,preStyleProps:E,postStyleProps:S,totalTime:x,errors:L}}const LD={};class Mk{constructor(e,t,o){this._triggerName=e,this.ast=t,this._stateStyles=o}match(e,t,o,u){return function yq(i,e,t,o,u){return i.some(d=>d(e,t,o,u))}(this.ast.matchers,e,t,o,u)}buildStyles(e,t,o){let u=this._stateStyles.get("*");return void 0!==e&&(u=this._stateStyles.get(e?.toString())||u),u?u.buildStyles(t,o):new Map}build(e,t,o,u,d,p,g,_,E,S){const x=[],L=this.ast.options&&this.ast.options.params||LD,$=this.buildStyles(o,g&&g.params||LD,x),Y=_&&_.params||LD,ue=this.buildStyles(u,Y,x),ve=new Set,ae=new Map,ze=new Map,et="void"===u,Ut={params:_q(Y,L),delay:this.ast.options?.delay},ri=S?[]:ND(e,t,this.ast.animation,d,p,$,ue,Ut,E,x);let co=0;if(ri.forEach(af=>{co=Math.max(af.duration+af.delay,co)}),x.length)return Ak(t,this._triggerName,o,u,et,$,ue,[],[],ae,ze,co,x);ri.forEach(af=>{const uf=af.element,$k=Za(ae,uf,new Set);af.preStyleProps.forEach(fg=>$k.add(fg));const z_=Za(ze,uf,new Set);af.postStyleProps.forEach(fg=>z_.add(fg)),uf!==t&&ve.add(uf)});const sf=$0(ve.values());return Ak(t,this._triggerName,o,u,et,$,ue,ri,sf,ae,ze,co)}}function _q(i,e){const t=B_(e);for(const o in i)i.hasOwnProperty(o)&&null!=i[o]&&(t[o]=i[o]);return t}class bq{constructor(e,t,o){this.styles=e,this.defaultParams=t,this.normalizer=o}buildStyles(e,t){const o=new Map,u=B_(this.defaultParams);return Object.keys(e).forEach(d=>{const p=e[d];null!==p&&(u[d]=p)}),this.styles.styles.forEach(d=>{"string"!=typeof d&&d.forEach((p,g)=>{p&&(p=U_(p,u,t));const _=this.normalizer.normalizePropertyName(g,t);p=this.normalizer.normalizeStyleValue(g,_,p,t),o.set(g,p)})}),o}}class Eq{constructor(e,t,o){this.name=e,this.ast=t,this._normalizer=o,this.transitionFactories=[],this.states=new Map,t.states.forEach(u=>{this.states.set(u.name,new bq(u.style,u.options&&u.options.params||{},o))}),xk(this.states,"true","1"),xk(this.states,"false","0"),t.transitions.forEach(u=>{this.transitionFactories.push(new Mk(e,u,this.states))}),this.fallbackTransition=function Cq(i,e,t){return new Mk(i,{type:1,animation:{type:2,steps:[],options:null},matchers:[(p,g)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,o,u){return this.transitionFactories.find(p=>p.match(e,t,o,u))||null}matchStyles(e,t,o){return this.fallbackTransition.buildStyles(e,t,o)}}function xk(i,e,t){i.has(e)?i.has(t)||i.set(t,i.get(e)):i.has(t)&&i.set(e,i.get(t))}const Dq=new K0;class Sq{constructor(e,t,o){this.bodyNode=e,this._driver=t,this._normalizer=o,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const o=[],d=RD(this._driver,t,o,[]);if(o.length)throw function M5(i){return new le(3503,!1)}();this._animations.set(e,d)}_buildPlayer(e,t,o){const u=e.element,d=hk(0,this._normalizer,0,e.keyframes,t,o);return this._driver.animate(u,d,e.duration,e.delay,e.easing,[],!0)}create(e,t,o={}){const u=[],d=this._animations.get(e);let p;const g=new Map;if(d?(p=ND(this._driver,t,d,ID,j0,new Map,new Map,o,Dq,u),p.forEach(S=>{const x=Za(g,S.element,new Map);S.postStyleProps.forEach(L=>x.set(L,null))})):(u.push(function x5(){return new le(3300,!1)}()),p=[]),u.length)throw function R5(i){return new le(3504,!1)}();g.forEach((S,x)=>{S.forEach((L,V)=>{S.set(V,this._driver.computeStyle(x,V,tf))})});const E=Lp(p.map(S=>{const x=g.get(S.element);return this._buildPlayer(S,new Map,x)}));return this._playersById.set(e,E),E.onDestroy(()=>this.destroy(e)),this.players.push(E),E}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const o=this.players.indexOf(t);o>=0&&this.players.splice(o,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function k5(i){return new le(3301,!1)}();return t}listen(e,t,o,u){const d=CD(t,"","","");return wD(this._getPlayer(e),o,d,u),()=>{}}command(e,t,o,u){if("register"==o)return void this.register(e,u[0]);if("create"==o)return void this.create(e,t,u[0]||{});const d=this._getPlayer(e);switch(o){case"play":d.play();break;case"pause":d.pause();break;case"reset":d.reset();break;case"restart":d.restart();break;case"finish":d.finish();break;case"init":d.init();break;case"setPosition":d.setPosition(parseFloat(u[0]));break;case"destroy":this.destroy(e)}}}const Rk="ng-animate-queued",VD="ng-animate-disabled",xq=[],kk={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Rq={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},qu="__ng_removed";class BD{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const o=e&&e.hasOwnProperty("value");if(this.value=function Pq(i){return i??null}(o?e.value:e),o){const d=B_(e);delete d.value,this.options=d}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const o=this.options.params;Object.keys(t).forEach(u=>{null==o[u]&&(o[u]=t[u])})}}}const H_="void",jD=new BD(H_);class kq{constructor(e,t,o){this.id=e,this.hostElement=t,this._engine=o,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Gu(t,this._hostClassName)}listen(e,t,o,u){if(!this._triggers.has(t))throw function O5(i,e){return new le(3302,!1)}();if(null==o||0==o.length)throw function N5(i){return new le(3303,!1)}();if(!function Fq(i){return"start"==i||"done"==i}(o))throw function P5(i,e){return new le(3400,!1)}();const d=Za(this._elementListeners,e,[]),p={name:t,phase:o,callback:u};d.push(p);const g=Za(this._engine.statesByElement,e,new Map);return g.has(t)||(Gu(e,U0),Gu(e,U0+"-"+t),g.set(t,jD)),()=>{this._engine.afterFlush(()=>{const _=d.indexOf(p);_>=0&&d.splice(_,1),this._triggers.has(t)||g.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function F5(i){return new le(3401,!1)}();return t}trigger(e,t,o,u=!0){const d=this._getTrigger(t),p=new UD(this.id,t,e);let g=this._engine.statesByElement.get(e);g||(Gu(e,U0),Gu(e,U0+"-"+t),this._engine.statesByElement.set(e,g=new Map));let _=g.get(t);const E=new BD(o,this.id);if(!(o&&o.hasOwnProperty("value"))&&_&&E.absorbOptions(_.options),g.set(t,E),_||(_=jD),E.value!==H_&&_.value===E.value){if(!function Bq(i,e){const t=Object.keys(i),o=Object.keys(e);if(t.length!=o.length)return!1;for(let u=0;u<t.length;u++){const d=t[u];if(!e.hasOwnProperty(d)||i[d]!==e[d])return!1}return!0}(_.params,E.params)){const Y=[],ue=d.matchStyles(_.value,_.params,Y),ve=d.matchStyles(E.value,E.params,Y);Y.length?this._engine.reportError(Y):this._engine.afterFlush(()=>{dg(e,ue),Id(e,ve)})}return}const L=Za(this._engine.playersByElement,e,[]);L.forEach(Y=>{Y.namespaceId==this.id&&Y.triggerName==t&&Y.queued&&Y.destroy()});let V=d.matchTransition(_.value,E.value,e,E.params),$=!1;if(!V){if(!u)return;V=d.fallbackTransition,$=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:V,fromState:_,toState:E,player:p,isFallbackTransition:$}),$||(Gu(e,Rk),p.onStart(()=>{Xv(e,Rk)})),p.onDone(()=>{let Y=this.players.indexOf(p);Y>=0&&this.players.splice(Y,1);const ue=this._engine.playersByElement.get(e);if(ue){let ve=ue.indexOf(p);ve>=0&&ue.splice(ve,1)}}),this.players.push(p),L.push(p),p}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,o)=>{this._elementListeners.set(o,t.filter(u=>u.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(o=>o.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const o=this._engine.driver.query(e,H0,!0);o.forEach(u=>{if(u[qu])return;const d=this._engine.fetchNamespacesByElement(u);d.size?d.forEach(p=>p.triggerLeaveAnimation(u,t,!1,!0)):this.clearElementCache(u)}),this._engine.afterFlushAnimationsDone(()=>o.forEach(u=>this.clearElementCache(u)))}triggerLeaveAnimation(e,t,o,u){const d=this._engine.statesByElement.get(e),p=new Map;if(d){const g=[];if(d.forEach((_,E)=>{if(p.set(E,_.value),this._triggers.has(E)){const S=this.trigger(e,E,H_,u);S&&g.push(S)}}),g.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,p),o&&Lp(g).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),o=this._engine.statesByElement.get(e);if(t&&o){const u=new Set;t.forEach(d=>{const p=d.name;if(u.has(p))return;u.add(p);const _=this._triggers.get(p).fallbackTransition,E=o.get(p)||jD,S=new BD(H_),x=new UD(this.id,p,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:p,transition:_,fromState:E,toState:S,player:x,isFallbackTransition:!0})})}}removeNode(e,t){const o=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let u=!1;if(o.totalAnimations){const d=o.players.length?o.playersByQueriedElement.get(e):[];if(d&&d.length)u=!0;else{let p=e;for(;p=p.parentNode;)if(o.statesByElement.get(p)){u=!0;break}}}if(this.prepareLeaveAnimationListeners(e),u)o.markElementAsRemoved(this.id,e,!1,t);else{const d=e[qu];(!d||d===kk)&&(o.afterFlush(()=>this.clearElementCache(e)),o.destroyInnerAnimations(e),o._onRemovalComplete(e,t))}}insertNode(e,t){Gu(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(o=>{const u=o.player;if(u.destroyed)return;const d=o.element,p=this._elementListeners.get(d);p&&p.forEach(g=>{if(g.name==o.triggerName){const _=CD(d,o.triggerName,o.fromState.value,o.toState.value);_._data=e,wD(o.player,g.phase,_,g.callback)}}),u.markedForDestroy?this._engine.afterFlush(()=>{u.destroy()}):t.push(o)}),this._queue=[],t.sort((o,u)=>{const d=o.transition.ast.depCount,p=u.transition.ast.depCount;return 0==d||0==p?d-p:this._engine.driver.containsElement(o.element,u.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(o=>o.element===e)||t,t}}class Oq{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,o){this.bodyNode=e,this.driver=t,this._normalizer=o,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(u,d)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(o=>{o.queued&&e.push(o)})}),e}createNamespace(e,t){const o=new kq(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(o,t):(this.newHostElements.set(t,o),this.collectEnterElement(t)),this._namespaceLookup[e]=o}_balanceNamespaceList(e,t){const o=this._namespaceList,u=this.namespacesByHostElement;if(o.length-1>=0){let p=!1,g=this.driver.getParentElement(t);for(;g;){const _=u.get(g);if(_){const E=o.indexOf(_);o.splice(E+1,0,e),p=!0;break}g=this.driver.getParentElement(g)}p||o.unshift(e)}else o.push(e);return u.set(t,e),e}register(e,t){let o=this._namespaceLookup[e];return o||(o=this.createNamespace(e,t)),o}registerTrigger(e,t,o){let u=this._namespaceLookup[e];u&&u.register(t,o)&&this.totalAnimations++}destroy(e,t){if(!e)return;const o=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(o.hostElement),delete this._namespaceLookup[e];const u=this._namespaceList.indexOf(o);u>=0&&this._namespaceList.splice(u,1)}),this.afterFlushAnimationsDone(()=>o.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,o=this.statesByElement.get(e);if(o)for(let u of o.values())if(u.namespaceId){const d=this._fetchNamespace(u.namespaceId);d&&t.add(d)}return t}trigger(e,t,o,u){if(X0(t)){const d=this._fetchNamespace(e);if(d)return d.trigger(t,o,u),!0}return!1}insertNode(e,t,o,u){if(!X0(t))return;const d=t[qu];if(d&&d.setForRemoval){d.setForRemoval=!1,d.setForMove=!0;const p=this.collectedLeaveElements.indexOf(t);p>=0&&this.collectedLeaveElements.splice(p,1)}if(e){const p=this._fetchNamespace(e);p&&p.insertNode(t,o)}u&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Gu(e,VD)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Xv(e,VD))}removeNode(e,t,o,u){if(X0(t)){const d=e?this._fetchNamespace(e):null;if(d?d.removeNode(t,u):this.markElementAsRemoved(e,t,!1,u),o){const p=this.namespacesByHostElement.get(t);p&&p.id!==e&&p.removeNode(t,u)}}else this._onRemovalComplete(t,u)}markElementAsRemoved(e,t,o,u,d){this.collectedLeaveElements.push(t),t[qu]={namespaceId:e,setForRemoval:u,hasAnimation:o,removedBeforeQueried:!1,previousTriggersValues:d}}listen(e,t,o,u,d){return X0(t)?this._fetchNamespace(e).listen(t,o,u,d):()=>{}}_buildInstruction(e,t,o,u,d){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,o,u,e.fromState.options,e.toState.options,t,d)}destroyInnerAnimations(e){let t=this.driver.query(e,H0,!0);t.forEach(o=>this.destroyActiveAnimationsForElement(o)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,TD,!0),t.forEach(o=>this.finishActiveQueriedAnimationOnElement(o)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(o=>{o.queued?o.markedForDestroy=!0:o.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(o=>o.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Lp(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[qu];if(t&&t.setForRemoval){if(e[qu]=kk,t.namespaceId){this.destroyInnerAnimations(e);const o=this._fetchNamespace(t.namespaceId);o&&o.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(VD)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(o=>{this.markElementAsDisabled(o,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((o,u)=>this._balanceNamespaceList(o,u)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let o=0;o<this.collectedEnterElements.length;o++)Gu(this.collectedEnterElements[o],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const o=[];try{t=this._flushAnimations(o,e)}finally{for(let u=0;u<o.length;u++)o[u]()}}else for(let o=0;o<this.collectedLeaveElements.length;o++)this.processLeaveNode(this.collectedLeaveElements[o]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(o=>o()),this._flushFns=[],this._whenQuietFns.length){const o=this._whenQuietFns;this._whenQuietFns=[],t.length?Lp(t).onDone(()=>{o.forEach(u=>u())}):o.forEach(u=>u())}}reportError(e){throw function L5(i){return new le(3402,!1)}()}_flushAnimations(e,t){const o=new K0,u=[],d=new Map,p=[],g=new Map,_=new Map,E=new Map,S=new Set;this.disabledNodes.forEach(rt=>{S.add(rt);const Ct=this.driver.query(rt,".ng-animate-queued",!0);for(let At=0;At<Ct.length;At++)S.add(Ct[At])});const x=this.bodyNode,L=Array.from(this.statesByElement.keys()),V=Pk(L,this.collectedEnterElements),$=new Map;let Y=0;V.forEach((rt,Ct)=>{const At=ID+Y++;$.set(Ct,At),rt.forEach(Pn=>Gu(Pn,At))});const ue=[],ve=new Set,ae=new Set;for(let rt=0;rt<this.collectedLeaveElements.length;rt++){const Ct=this.collectedLeaveElements[rt],At=Ct[qu];At&&At.setForRemoval&&(ue.push(Ct),ve.add(Ct),At.hasAnimation?this.driver.query(Ct,".ng-star-inserted",!0).forEach(Pn=>ve.add(Pn)):ae.add(Ct))}const ze=new Map,et=Pk(L,Array.from(ve));et.forEach((rt,Ct)=>{const At=j0+Y++;ze.set(Ct,At),rt.forEach(Pn=>Gu(Pn,At))}),e.push(()=>{V.forEach((rt,Ct)=>{const At=$.get(Ct);rt.forEach(Pn=>Xv(Pn,At))}),et.forEach((rt,Ct)=>{const At=ze.get(Ct);rt.forEach(Pn=>Xv(Pn,At))}),ue.forEach(rt=>{this.processLeaveNode(rt)})});const Ut=[],ri=[];for(let rt=this._namespaceList.length-1;rt>=0;rt--)this._namespaceList[rt].drainQueuedTransitions(t).forEach(At=>{const Pn=At.player,Mo=At.element;if(Ut.push(Pn),this.collectedEnterElements.length){const gs=Mo[qu];if(gs&&gs.setForMove){if(gs.previousTriggersValues&&gs.previousTriggersValues.has(At.triggerName)){const pg=gs.previousTriggersValues.get(At.triggerName),Wu=this.statesByElement.get(At.element);if(Wu&&Wu.has(At.triggerName)){const ew=Wu.get(At.triggerName);ew.value=pg,Wu.set(At.triggerName,ew)}}return void Pn.destroy()}}const Td=!x||!this.driver.containsElement(x,Mo),Qa=ze.get(Mo),Bp=$.get(Mo),ii=this._buildInstruction(At,o,Bp,Qa,Td);if(ii.errors&&ii.errors.length)return void ri.push(ii);if(Td)return Pn.onStart(()=>dg(Mo,ii.fromStyles)),Pn.onDestroy(()=>Id(Mo,ii.toStyles)),void u.push(Pn);if(At.isFallbackTransition)return Pn.onStart(()=>dg(Mo,ii.fromStyles)),Pn.onDestroy(()=>Id(Mo,ii.toStyles)),void u.push(Pn);const Wk=[];ii.timelines.forEach(gs=>{gs.stretchStartingKeyframe=!0,this.disabledNodes.has(gs.element)||Wk.push(gs)}),ii.timelines=Wk,o.append(Mo,ii.timelines),p.push({instruction:ii,player:Pn,element:Mo}),ii.queriedElements.forEach(gs=>Za(g,gs,[]).push(Pn)),ii.preStyleProps.forEach((gs,pg)=>{if(gs.size){let Wu=_.get(pg);Wu||_.set(pg,Wu=new Set),gs.forEach((ew,$D)=>Wu.add($D))}}),ii.postStyleProps.forEach((gs,pg)=>{let Wu=E.get(pg);Wu||E.set(pg,Wu=new Set),gs.forEach((ew,$D)=>Wu.add($D))})});if(ri.length){const rt=[];ri.forEach(Ct=>{rt.push(function V5(i,e){return new le(3505,!1)}())}),Ut.forEach(Ct=>Ct.destroy()),this.reportError(rt)}const co=new Map,sf=new Map;p.forEach(rt=>{const Ct=rt.element;o.has(Ct)&&(sf.set(Ct,Ct),this._beforeAnimationBuild(rt.player.namespaceId,rt.instruction,co))}),u.forEach(rt=>{const Ct=rt.element;this._getPreviousPlayers(Ct,!1,rt.namespaceId,rt.triggerName,null).forEach(Pn=>{Za(co,Ct,[]).push(Pn),Pn.destroy()})});const af=ue.filter(rt=>Lk(rt,_,E)),uf=new Map;Nk(uf,this.driver,ae,E,tf).forEach(rt=>{Lk(rt,_,E)&&af.push(rt)});const z_=new Map;V.forEach((rt,Ct)=>{Nk(z_,this.driver,new Set(rt),_,$C)}),af.forEach(rt=>{const Ct=uf.get(rt),At=z_.get(rt);uf.set(rt,new Map([...Array.from(Ct?.entries()??[]),...Array.from(At?.entries()??[])]))});const fg=[],qk=[],Gk={};p.forEach(rt=>{const{element:Ct,player:At,instruction:Pn}=rt;if(o.has(Ct)){if(S.has(Ct))return At.onDestroy(()=>Id(Ct,Pn.toStyles)),At.disabled=!0,At.overrideTotalTime(Pn.totalTime),void u.push(At);let Mo=Gk;if(sf.size>1){let Qa=Ct;const Bp=[];for(;Qa=Qa.parentNode;){const ii=sf.get(Qa);if(ii){Mo=ii;break}Bp.push(Qa)}Bp.forEach(ii=>sf.set(ii,Mo))}const Td=this._buildAnimation(At.namespaceId,Pn,co,d,z_,uf);if(At.setRealPlayer(Td),Mo===Gk)fg.push(At);else{const Qa=this.playersByElement.get(Mo);Qa&&Qa.length&&(At.parentPlayer=Lp(Qa)),u.push(At)}}else dg(Ct,Pn.fromStyles),At.onDestroy(()=>Id(Ct,Pn.toStyles)),qk.push(At),S.has(Ct)&&u.push(At)}),qk.forEach(rt=>{const Ct=d.get(rt.element);if(Ct&&Ct.length){const At=Lp(Ct);rt.setRealPlayer(At)}}),u.forEach(rt=>{rt.parentPlayer?rt.syncPlayerEvents(rt.parentPlayer):rt.destroy()});for(let rt=0;rt<ue.length;rt++){const Ct=ue[rt],At=Ct[qu];if(Xv(Ct,j0),At&&At.hasAnimation)continue;let Pn=[];if(g.size){let Td=g.get(Ct);Td&&Td.length&&Pn.push(...Td);let Qa=this.driver.query(Ct,TD,!0);for(let Bp=0;Bp<Qa.length;Bp++){let ii=g.get(Qa[Bp]);ii&&ii.length&&Pn.push(...ii)}}const Mo=Pn.filter(Td=>!Td.destroyed);Mo.length?Lq(this,Ct,Mo):this.processLeaveNode(Ct)}return ue.length=0,fg.forEach(rt=>{this.players.push(rt),rt.onDone(()=>{rt.destroy();const Ct=this.players.indexOf(rt);this.players.splice(Ct,1)}),rt.play()}),fg}elementContainsData(e,t){let o=!1;const u=t[qu];return u&&u.setForRemoval&&(o=!0),this.playersByElement.has(t)&&(o=!0),this.playersByQueriedElement.has(t)&&(o=!0),this.statesByElement.has(t)&&(o=!0),this._fetchNamespace(e).elementContainsData(t)||o}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,o,u,d){let p=[];if(t){const g=this.playersByQueriedElement.get(e);g&&(p=g)}else{const g=this.playersByElement.get(e);if(g){const _=!d||d==H_;g.forEach(E=>{E.queued||!_&&E.triggerName!=u||p.push(E)})}}return(o||u)&&(p=p.filter(g=>!(o&&o!=g.namespaceId||u&&u!=g.triggerName))),p}_beforeAnimationBuild(e,t,o){const d=t.element,p=t.isRemovalTransition?void 0:e,g=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const E=_.element,S=E!==d,x=Za(o,E,[]);this._getPreviousPlayers(E,S,p,g,t.toState).forEach(V=>{const $=V.getRealPlayer();$.beforeDestroy&&$.beforeDestroy(),V.destroy(),x.push(V)})}dg(d,t.fromStyles)}_buildAnimation(e,t,o,u,d,p){const g=t.triggerName,_=t.element,E=[],S=new Set,x=new Set,L=t.timelines.map($=>{const Y=$.element;S.add(Y);const ue=Y[qu];if(ue&&ue.removedBeforeQueried)return new E_($.duration,$.delay);const ve=Y!==_,ae=function Vq(i){const e=[];return Fk(i,e),e}((o.get(Y)||xq).map(co=>co.getRealPlayer())).filter(co=>!!co.element&&co.element===Y),ze=d.get(Y),et=p.get(Y),Ut=hk(0,this._normalizer,0,$.keyframes,ze,et),ri=this._buildPlayer($,Ut,ae);if($.subTimeline&&u&&x.add(Y),ve){const co=new UD(e,g,Y);co.setRealPlayer(ri),E.push(co)}return ri});E.forEach($=>{Za(this.playersByQueriedElement,$.element,[]).push($),$.onDone(()=>function Nq(i,e,t){let o=i.get(e);if(o){if(o.length){const u=o.indexOf(t);o.splice(u,1)}0==o.length&&i.delete(e)}return o}(this.playersByQueriedElement,$.element,$))}),S.forEach($=>Gu($,_k));const V=Lp(L);return V.onDestroy(()=>{S.forEach($=>Xv($,_k)),Id(_,t.toStyles)}),x.forEach($=>{Za(u,$,[]).push(V)}),V}_buildPlayer(e,t,o){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,o):new E_(e.duration,e.delay)}}class UD{constructor(e,t,o){this.namespaceId=e,this.triggerName=t,this.element=o,this._player=new E_,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,o)=>{t.forEach(u=>wD(e,o,void 0,u))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Za(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function X0(i){return i&&1===i.nodeType}function Ok(i,e){const t=i.style.display;return i.style.display=e??"none",t}function Nk(i,e,t,o,u){const d=[];t.forEach(_=>d.push(Ok(_)));const p=[];o.forEach((_,E)=>{const S=new Map;_.forEach(x=>{const L=e.computeStyle(E,x,u);S.set(x,L),(!L||0==L.length)&&(E[qu]=Rq,p.push(E))}),i.set(E,S)});let g=0;return t.forEach(_=>Ok(_,d[g++])),p}function Pk(i,e){const t=new Map;if(i.forEach(g=>t.set(g,[])),0==e.length)return t;const o=1,u=new Set(e),d=new Map;function p(g){if(!g)return o;let _=d.get(g);if(_)return _;const E=g.parentNode;return _=t.has(E)?E:u.has(E)?o:p(E),d.set(g,_),_}return e.forEach(g=>{const _=p(g);_!==o&&t.get(_).push(g)}),t}function Gu(i,e){i.classList?.add(e)}function Xv(i,e){i.classList?.remove(e)}function Lq(i,e,t){Lp(t).onDone(()=>i.processLeaveNode(e))}function Fk(i,e){for(let t=0;t<i.length;t++){const o=i[t];o instanceof bR?Fk(o.players,e):e.push(o)}}function Lk(i,e,t){const o=t.get(i);if(!o)return!1;let u=e.get(i);return u?o.forEach(d=>u.add(d)):e.set(i,o),t.delete(i),!0}class Q0{constructor(e,t,o){this.bodyNode=e,this._driver=t,this._normalizer=o,this._triggerCache={},this.onRemovalComplete=(u,d)=>{},this._transitionEngine=new Oq(e,t,o),this._timelineEngine=new Sq(e,t,o),this._transitionEngine.onRemovalComplete=(u,d)=>this.onRemovalComplete(u,d)}registerTrigger(e,t,o,u,d){const p=e+"-"+u;let g=this._triggerCache[p];if(!g){const _=[],S=RD(this._driver,d,_,[]);if(_.length)throw function T5(i,e){return new le(3404,!1)}();g=function wq(i,e,t){return new Eq(i,e,t)}(u,S,this._normalizer),this._triggerCache[p]=g}this._transitionEngine.registerTrigger(t,u,g)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,o,u){this._transitionEngine.insertNode(e,t,o,u)}onRemove(e,t,o,u){this._transitionEngine.removeNode(e,t,u||!1,o)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,o,u){if("@"==o.charAt(0)){const[d,p]=fk(o);this._timelineEngine.command(d,t,p,u)}else this._transitionEngine.trigger(e,t,o,u)}listen(e,t,o,u,d){if("@"==o.charAt(0)){const[p,g]=fk(o);return this._timelineEngine.listen(p,t,g,d)}return this._transitionEngine.listen(e,t,o,u,d)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Uq=(()=>{class i{constructor(t,o,u){this._element=t,this._startStyles=o,this._endStyles=u,this._state=0;let d=i.initialStylesByElement.get(t);d||i.initialStylesByElement.set(t,d=new Map),this._initialStyles=d}start(){this._state<1&&(this._startStyles&&Id(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Id(this._element,this._initialStyles),this._endStyles&&(Id(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(dg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(dg(this._element,this._endStyles),this._endStyles=null),Id(this._element,this._initialStyles),this._state=3)}}return i.initialStylesByElement=new WeakMap,i})();function HD(i){let e=null;return i.forEach((t,o)=>{(function Hq(i){return"display"===i||"position"===i})(o)&&(e=e||new Map,e.set(o,t))}),e}class Vk{constructor(e,t,o,u){this.element=e,this.keyframes=t,this.options=o,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=o.duration,this._delay=o.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(o=>{t.push(Object.fromEntries(o))}),t}_triggerWebAnimation(e,t,o){return e.animate(this._convertKeyframesToObject(t),o)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((o,u)=>{"offset"!==u&&e.set(u,this._finished?o:Ck(this.element,u))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}}class zq{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return mk(e,t)}getParentElement(e){return DD(e)}query(e,t,o){return gk(e,t,o)}computeStyle(e,t,o){return window.getComputedStyle(e)[t]}animate(e,t,o,u,d,p=[]){const _={duration:o,delay:u,fill:0==u?"both":"forwards"};d&&(_.easing=d);const E=new Map,S=p.filter(V=>V instanceof Vk);(function Z5(i,e){return 0===i||0===e})(o,u)&&S.forEach(V=>{V.currentSnapshot.forEach(($,Y)=>E.set(Y,$))});let x=function W5(i){return i.length?i[0]instanceof Map?i:i.map(e=>bk(e)):[]}(t).map(V=>Vp(V));x=function X5(i,e,t){if(t.size&&e.length){let o=e[0],u=[];if(t.forEach((d,p)=>{o.has(p)||u.push(p),o.set(p,d)}),u.length)for(let d=1;d<e.length;d++){let p=e[d];u.forEach(g=>p.set(g,Ck(i,g)))}}return e}(e,x,E);const L=function jq(i,e){let t=null,o=null;return Array.isArray(e)&&e.length?(t=HD(e[0]),e.length>1&&(o=HD(e[e.length-1]))):e instanceof Map&&(t=HD(e)),t||o?new Uq(i,t,o):null}(e,x);return new Vk(e,x,_,L)}}let $q=(()=>{class i extends gR{constructor(t,o){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(o.body,{id:"0",encapsulation:Kn.None,styles:[],data:{animation:[]}})}build(t){const o=this._nextAnimationId.toString();this._nextAnimationId++;const u=Array.isArray(t)?yR(t):t;return Bk(this._renderer,null,o,"register",[u]),new qq(o,this._renderer)}}return i.\u0275fac=function(t){return new(t||i)(H(pa),H(rn))},i.\u0275prov=xe({token:i,factory:i.\u0275fac}),i})();class qq extends vz{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Gq(this._id,e,t||{},this._renderer)}}class Gq{constructor(e,t,o,u){this.id=e,this.element=t,this._renderer=u,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",o)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Bk(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Bk(i,e,t,o,u){return i.setProperty(e,`@@${t}:${o}`,u)}const jk="@.disabled";let Wq=(()=>{class i{constructor(t,o,u){this.delegate=t,this.engine=o,this._zone=u,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),o.onRemovalComplete=(d,p)=>{const g=p?.parentNode(d);g&&p.removeChild(g,d)}}createRenderer(t,o){const d=this.delegate.createRenderer(t,o);if(!(t&&o&&o.data&&o.data.animation)){let S=this._rendererCache.get(d);return S||(S=new Uk("",d,this.engine,()=>this._rendererCache.delete(d)),this._rendererCache.set(d,S)),S}const p=o.id,g=o.id+"-"+this._currentId;this._currentId++,this.engine.register(g,t);const _=S=>{Array.isArray(S)?S.forEach(_):this.engine.registerTrigger(p,g,t,S.name,S)};return o.data.animation.forEach(_),new Kq(this,g,d,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,o,u){t>=0&&t<this._microtaskId?this._zone.run(()=>o(u)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(d=>{const[p,g]=d;p(g)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([o,u]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return i.\u0275fac=function(t){return new(t||i)(H(pa),H(Q0),H($t))},i.\u0275prov=xe({token:i,factory:i.\u0275fac}),i})();class Uk{constructor(e,t,o,u){this.namespaceId=e,this.delegate=t,this.engine=o,this._onDestroy=u,this.destroyNode=this.delegate.destroyNode?d=>t.destroyNode(d):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,o,u=!0){this.delegate.insertBefore(e,t,o),this.engine.onInsert(this.namespaceId,t,e,u)}removeChild(e,t,o){this.engine.onRemove(this.namespaceId,t,this.delegate,o)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,o,u){this.delegate.setAttribute(e,t,o,u)}removeAttribute(e,t,o){this.delegate.removeAttribute(e,t,o)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,o,u){this.delegate.setStyle(e,t,o,u)}removeStyle(e,t,o){this.delegate.removeStyle(e,t,o)}setProperty(e,t,o){"@"==t.charAt(0)&&t==jk?this.disableAnimations(e,!!o):this.delegate.setProperty(e,t,o)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,o){return this.delegate.listen(e,t,o)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Kq extends Uk{constructor(e,t,o,u,d){super(t,o,u,d),this.factory=e,this.namespaceId=t}setProperty(e,t,o){"@"==t.charAt(0)?"."==t.charAt(1)&&t==jk?this.disableAnimations(e,o=void 0===o||!!o):this.engine.process(this.namespaceId,e,t.slice(1),o):this.delegate.setProperty(e,t,o)}listen(e,t,o){if("@"==t.charAt(0)){const u=function Yq(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}(e);let d=t.slice(1),p="";return"@"!=d.charAt(0)&&([d,p]=function Zq(i){const e=i.indexOf(".");return[i.substring(0,e),i.slice(e+1)]}(d)),this.engine.listen(this.namespaceId,u,d,p,g=>{this.factory.scheduleListenerCallback(g._data||-1,o,g)})}return this.delegate.listen(e,t,o)}}const Hk=[{provide:gR,useClass:$q},{provide:FD,useFactory:function Qq(){return new vq}},{provide:Q0,useClass:(()=>{class i extends Q0{constructor(t,o,u,d){super(t.body,o,u)}ngOnDestroy(){this.flush()}}return i.\u0275fac=function(t){return new(t||i)(H(rn),H(SD),H(FD),H(Sp))},i.\u0275prov=xe({token:i,factory:i.\u0275fac}),i})()},{provide:pa,useFactory:function Jq(i,e,t){return new Wq(i,e,t)},deps:[GE,Q0,$t]}],zD=[{provide:SD,useFactory:()=>new zq},{provide:Uo,useValue:"BrowserAnimations"},...Hk],zk=[{provide:SD,useClass:vk},{provide:Uo,useValue:"NoopAnimations"},...Hk];let e6=(()=>{class i{static withConfig(t){return{ngModule:i,providers:t.disableAnimations?zk:zD}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Bn({type:i}),i.\u0275inj=an({providers:zD,imports:[dM]}),i})();const t6_firebaseConfig={apiKey:"AIzaSyACDWmjqPSt-GTkrgPAn8Ahym79qhEWtj0",authDomain:"questionnaire-b129a.firebaseapp.com",projectId:"questionnaire-b129a",storageBucket:"questionnaire-b129a.appspot.com",messagingSenderId:"798886991095",appId:"1:798886991095:web:f303a9350b4562db36aff2",measurementId:"G-S4RVFVVMV2"};function n6(i,e){if(1&i){const t=fs();st(0,"div")(1,"label",0),fn(2),yt(),To(3,"br"),st(4,"textarea",3),hn("ngModelChange",function(u){return gr(Xr(t).$implicit.answer=u)}),yt()()}if(2&i){const t=e.$implicit;T(2),Gm(t.text),T(2),li("ngModel",t.answer)}}let r6=(()=>{class i{constructor(t,o,u,d){this.data=t,this.fb=o,this.route=u,this.dialog=d,this.firestore=new Wv,this.questions=[],this.auth=new xp,this.title="Form Title",this.formId=t.formId}ngOnInit(){this.firestore.getDocument({path:["Posts",this.formId],onComplete:t=>{let o=t.data();this.title=o.comment,o.questions.forEach(d=>{this.questions.push({text:d.text,answer:""})})},onFail:t=>{}})}onSubmitClick(){let t=this.questions.map(o=>o.answer);console.log(t),this.uploadAnsweredForm()}uploadAnsweredForm(){let t=this.auth.getAuth().currentUser?.uid+this.formId;this.auth.getAuth().currentUser&&(this.firestore.create({path:["AnsweredForms",t],data:{sourceForm:this.formId,creatorId:this.auth.getAuth().currentUser?.uid,timestamp:Ya.getFirestoreTimestamp(),questions:this.questions.map(u=>({text:u.text,answer:u.answer}))},onComplete:u=>{this.dialog.close()}}),this.dialog.close())}}return i.\u0275fac=function(t){return new(t||i)(ee(VR),ee(e$),ee(eg),ee(KC))},i.\u0275cmp=kt({type:i,selectors:[["app-fill-out"]],decls:8,vars:2,consts:[["id","title"],[4,"ngFor","ngForOf"],["mat-raised-button","","color","primary","type","submit",3,"click"],[3,"ngModel","ngModelChange"]],template:function(t,o){1&t&&(st(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title",0),fn(3),yt()(),st(4,"mat-card-content"),oo(5,n6,5,2,"div",1),st(6,"button",2),hn("click",function(){return o.onSubmitClick()}),fn(7,"Submit"),yt()()()),2&t&&(T(3),Gm(o.title),T(2),li("ngForOf",o.questions))},dependencies:[T_,JC,N0,xb,og,D_,GC,I_,S_],styles:["textarea[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{font-size:1em;padding:.5em;resize:none;width:500px;min-height:10px}#title[_ngcontent-%COMP%]{font-size:1.5em}#post-preview[_ngcontent-%COMP%]{text-align:right;margin-top:1em}#content-box[_ngcontent-%COMP%]{max-height:300px;overflow-y:scroll}"]}),i})(),i6=(()=>{class i{constructor(t){this.dialog=t,this.firestore=new Wv,this.questions=[]}ngOnInit(){this.getCreatorInfo()}onFilloutClick(){this.dialog.open(r6,{data:{formId:this.formData?.formId}})}getCreatorInfo(){this.firestore.getDocument({path:["Users",this.formData.creatorId],onComplete:t=>{let o=t.data();this.creatorName=o.publicName,this.creatorDescription=o.description}})}}return i.\u0275fac=function(t){return new(t||i)(ee(YC))},i.\u0275cmp=kt({type:i,selectors:[["app-form"]],inputs:{formData:"formData"},decls:14,vars:4,consts:[["mat-card-image","",3,"src"],[1,"action-item",3,"click"],["color","warn",1,"action-item"]],template:function(t,o){1&t&&(st(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),fn(3),yt(),st(4,"mat-card-subtitle"),fn(5),yt()(),To(6,"img",0),st(7,"mat-card-content"),fn(8),yt(),st(9,"mat-card-actions")(10,"div",1),hn("click",function(){return o.onFilloutClick()}),st(11,"mat-icon",2),fn(12,"input"),yt(),fn(13," Kit\xf6lt\xe9s"),yt()()()),2&t&&(T(3),Gm(o.creatorName),T(2),Gm(o.creatorDescription),T(1),Sw("src",null==o.formData?null:o.formData.imageUrl,Pu),T(2),ub(" ",null==o.formData?null:o.formData.comment," "))},dependencies:[D_,b0,GC,I_,RR,xR,S_,bD],styles:[".action-item[_ngcontent-%COMP%]{margin-left:.5em;cursor:pointer;text-align:center}"]}),i})(),o6=(()=>{class i{constructor(){Ya.init(t6_firebaseConfig)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Bn({type:i,bootstrap:[o5]}),i.\u0275inj=an({imports:[t$,dM,Q$,e6,Oz,wR,Hz,o4,U$,n$]}),i})();(function _l(i,e,t){const o=i.\u0275cmp;o.directiveDefs=or(e,!1),o.pipeDefs=or(t,!0)})(lk,[xb,Zy,og,kz,bD,i6],[]),HB().bootstrapModule(o6).catch(i=>console.error(i))},867:(Ja,hi,qt)=>{qt.r(hi),qt.d(hi,{default:()=>_e.Z});var _e=qt(367);_e.Z.registerVersion("firebase","8.10.1","app"),_e.Z.SDK_VERSION="8.10.1"},315:(Ja,hi,qt)=>{qt.r(hi);var _e=qt(367);(function(){var I,Ke="function"==typeof Object.defineProperties?Object.defineProperty:function(c,f,v){c!=Array.prototype&&c!=Object.prototype&&(c[f]=v.value)},Nt=function qe(c){c=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,c];for(var f=0;f<c.length;++f){var v=c[f];if(v&&v.Math==Math)return v}return globalThis}(this);function Or(c){var f=0;return function(){return f<c.length?{done:!1,value:c[f++]}:{done:!0}}}function Wi(c){var f=typeof Symbol<"u"&&Symbol.iterator&&c[Symbol.iterator];return f?f.call(c):{next:Or(c)}}!function lo(c,f){if(f){var v=Nt;c=c.split(".");for(var w=0;w<c.length-1;w++){var D=c[w];D in v||(v[D]={}),v=v[D]}(f=f(w=v[c=c[c.length-1]]))!=w&&null!=f&&Ke(v,c,{configurable:!0,writable:!0,value:f})}}("Promise",function(c){function f(N){this.b=0,this.c=void 0,this.a=[];var j=this.f();try{N(j.resolve,j.reject)}catch(fe){j.reject(fe)}}function v(){this.a=null}function w(N){return N instanceof f?N:new f(function(j){j(N)})}if(c)return c;v.prototype.b=function(N){if(null==this.a){this.a=[];var j=this;this.c(function(){j.g()})}this.a.push(N)};var D=Nt.setTimeout;v.prototype.c=function(N){D(N,0)},v.prototype.g=function(){for(;this.a&&this.a.length;){var N=this.a;this.a=[];for(var j=0;j<N.length;++j){var fe=N[j];N[j]=null;try{fe()}catch(a){this.f(a)}}}this.a=null},v.prototype.f=function(N){this.c(function(){throw N})},f.prototype.f=function(){function N(a){return function(s){fe||(fe=!0,a.call(j,s))}}var j=this,fe=!1;return{resolve:N(this.m),reject:N(this.g)}},f.prototype.m=function(N){if(N===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(N instanceof f)this.s(N);else{e:switch(typeof N){case"object":var j=null!=N;break e;case"function":j=!0;break e;default:j=!1}j?this.v(N):this.h(N)}},f.prototype.v=function(N){var j=void 0;try{j=N.then}catch(fe){return void this.g(fe)}"function"==typeof j?this.u(j,N):this.h(N)},f.prototype.g=function(N){this.i(2,N)},f.prototype.h=function(N){this.i(1,N)},f.prototype.i=function(N,j){if(0!=this.b)throw Error("Cannot settle("+N+", "+j+"): Promise already settled in state"+this.b);this.b=N,this.c=j,this.l()},f.prototype.l=function(){if(null!=this.a){for(var N=0;N<this.a.length;++N)k.b(this.a[N]);this.a=null}};var k=new v;return f.prototype.s=function(N){var j=this.f();N.Ra(j.resolve,j.reject)},f.prototype.u=function(N,j){var fe=this.f();try{N.call(j,fe.resolve,fe.reject)}catch(a){fe.reject(a)}},f.prototype.then=function(N,j){function fe(h,m){return"function"==typeof h?function(y){try{a(h(y))}catch(b){s(b)}}:m}var a,s,l=new f(function(h,m){a=h,s=m});return this.Ra(fe(N,a),fe(j,s)),l},f.prototype.catch=function(N){return this.then(void 0,N)},f.prototype.Ra=function(N,j){function fe(){switch(a.b){case 1:N(a.c);break;case 2:j(a.c);break;default:throw Error("Unexpected state: "+a.b)}}var a=this;null==this.a?k.b(fe):this.a.push(fe)},f.resolve=w,f.reject=function(N){return new f(function(j,fe){fe(N)})},f.race=function(N){return new f(function(j,fe){for(var a=Wi(N),s=a.next();!s.done;s=a.next())w(s.value).Ra(j,fe)})},f.all=function(N){var j=Wi(N),fe=j.next();return fe.done?w([]):new f(function(a,s){function l(y){return function(b){h[y]=b,0==--m&&a(h)}}var h=[],m=0;do{h.push(void 0),m++,w(fe.value).Ra(l(h.length-1),s),fe=j.next()}while(!fe.done)})},f});var ce=ce||{},q=this||self,De=/^[\w+/_-]+[=]{0,2}$/,He=null;function Me(c){return(c=c.querySelector&&c.querySelector("script[nonce]"))&&(c=c.nonce||c.getAttribute("nonce"))&&De.test(c)?c:""}function Pe(){}function Pt(c){var f=typeof c;return"object"!=f?f:c?Array.isArray(c)?"array":f:"null"}function Rt(c){var f=Pt(c);return"array"==f||"object"==f&&"number"==typeof c.length}function Ft(c){return"function"==Pt(c)}function bt(c){var f=typeof c;return"object"==f&&null!=c||"function"==f}function Mr(c){return Object.prototype.hasOwnProperty.call(c,Yt)&&c[Yt]||(c[Yt]=++xr)}var Yt="closure_uid_"+(1e9*Math.random()>>>0),xr=0;function wt(c,f,v){return c.call.apply(c.bind,arguments)}function ir(c,f,v){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,w),c.apply(f,D)}}return function(){return c.apply(f,arguments)}}function Xe(c,f,v){return(Xe=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?wt:ir).apply(null,arguments)}function Jt(c,f){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),c.apply(this,w)}}var Ki=Date.now;function pt(c,f){function v(){}v.prototype=f.prototype,c.bb=f.prototype,c.prototype=new v,c.prototype.constructor=c}function xo(c){return c}function Q(c,f,v){this.code=Jn+c,this.message=f||de[c]||"",this.a=v||null}function qr(c){var f=c&&c.code;return f?new Q(f.substring(Jn.length),c.message,c.serverResponse):null}pt(Q,Error),Q.prototype.w=function(){var c={code:this.code,message:this.message};return this.a&&(c.serverResponse=this.a),c},Q.prototype.toJSON=function(){return this.w()};var pe,Jn="auth/",de={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},te={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function ge(c){for(var f in te)if(te[f].id===c)return{firebaseEndpoint:(c=te[f]).Ua,secureTokenEndpoint:c.$a,identityPlatformEndpoint:c.Xa};return null}function ke(c){if(!c)return!1;try{return!!c.$goog_Thenable}catch{return!1}}function Se(c){if(Error.captureStackTrace)Error.captureStackTrace(this,Se);else{var f=Error().stack;f&&(this.stack=f)}c&&(this.message=String(c))}function ye(c,f){for(var v="",w=(c=c.split("%s")).length-1,D=0;D<w;D++)v+=c[D]+(D<f.length?f[D]:"%s");Se.call(this,v+c[w])}function Ne(c,f){throw new ye("Failure"+(c?": "+c:""),Array.prototype.slice.call(arguments,1))}function ht(c,f){this.c=c,this.f=f,this.b=0,this.a=null}function Oe(c,f){c.f(f),100>c.b&&(c.b++,f.next=c.a,c.a=f)}function Ue(){this.b=this.a=null}pe=ge("__EID__")?"__EID__":void 0,pt(Se,Error),Se.prototype.name="CustomError",pt(ye,Se),ye.prototype.name="AssertionError",ht.prototype.get=function(){if(0<this.b){this.b--;var c=this.a;this.a=c.next,c.next=null}else c=this.c();return c};var Sn=new ht(function(){return new Mn},function(c){c.reset()});function je(){var c=tc,f=null;return c.a&&(f=c.a,c.a=c.a.next,c.a||(c.b=null),f.next=null),f}function Mn(){this.next=this.b=this.a=null}Ue.prototype.add=function(c,f){var v=Sn.get();v.set(c,f),this.b?this.b.next=v:this.a=v,this.b=v},Mn.prototype.set=function(c,f){this.a=c,this.b=f,this.next=null},Mn.prototype.reset=function(){this.next=this.b=this.a=null};var Nr=Array.prototype.indexOf?function(c,f){return Array.prototype.indexOf.call(c,f,void 0)}:function(c,f){if("string"==typeof c)return"string"!=typeof f||1!=f.length?-1:c.indexOf(f,0);for(var v=0;v<c.length;v++)if(v in c&&c[v]===f)return v;return-1},Lt=Array.prototype.forEach?function(c,f,v){Array.prototype.forEach.call(c,f,v)}:function(c,f,v){for(var w=c.length,D="string"==typeof c?c.split(""):c,k=0;k<w;k++)k in D&&f.call(v,D[k],k,c)},Ro=Array.prototype.filter?function(c,f){return Array.prototype.filter.call(c,f,void 0)}:function(c,f){for(var v=c.length,w=[],D=0,k="string"==typeof c?c.split(""):c,N=0;N<v;N++)if(N in k){var j=k[N];f.call(void 0,j,N,c)&&(w[D++]=j)}return w},Gt=Array.prototype.map?function(c,f){return Array.prototype.map.call(c,f,void 0)}:function(c,f){for(var v=c.length,w=Array(v),D="string"==typeof c?c.split(""):c,k=0;k<v;k++)k in D&&(w[k]=f.call(void 0,D[k],k,c));return w},en=Array.prototype.some?function(c,f){return Array.prototype.some.call(c,f,void 0)}:function(c,f){for(var v=c.length,w="string"==typeof c?c.split(""):c,D=0;D<v;D++)if(D in w&&f.call(void 0,w[D],D,c))return!0;return!1};function Rn(c,f){return 0<=Nr(c,f)}function Fn(c,f){var v;return(v=0<=(f=Nr(c,f)))&&Array.prototype.splice.call(c,f,1),v}function qn(c,f){!function xn(c,f){for(var v="string"==typeof c?c.split(""):c,w=c.length-1;0<=w;--w)w in v&&f.call(void 0,v[w],w,c)}(c,function(w,D){f.call(void 0,w,D,c)&&Array.prototype.splice.call(c,D,1)})}function pn(c){return Array.prototype.concat.apply([],arguments)}function Gn(c){var f=c.length;if(0<f){for(var v=Array(f),w=0;w<f;w++)v[w]=c[w];return v}return[]}var br,Ws=String.prototype.trim?function(c){return c.trim()}:function(c){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(c)[1]},ho=/&/g,Ad=/</g,Pr=/>/g,vs=/"/g,cf=/'/g,Ti=/\x00/g,Md=/[\x00&<>"']/;function St(c,f){return-1!=c.indexOf(f)}function Yi(c,f){return c<f?-1:c>f?1:0}e:{var cl=q.navigator;if(cl){var Ku=cl.userAgent;if(Ku){br=Ku;break e}}br=""}function Ln(c){return St(br,c)}function $o(c,f){for(var v in c)f.call(void 0,c[v],v,c)}function W(c){for(var f in c)return!1;return!0}function G(c){var v,f={};for(v in c)f[v]=c[v];return f}var J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(c,f){for(var v,w,D=1;D<arguments.length;D++){for(v in w=arguments[D])c[v]=w[v];for(var k=0;k<J.length;k++)v=J[k],Object.prototype.hasOwnProperty.call(w,v)&&(c[v]=w[v])}}function X(c,f){e:{try{var v=c&&c.ownerDocument,w=v&&(v.defaultView||v.parentWindow);if((w=w||q).Element&&w.Location){var D=w;break e}}catch{}D=null}if(D&&typeof D[f]<"u"&&(!c||!(c instanceof D[f])&&(c instanceof D.Location||c instanceof D.Element))){if(bt(c))try{var k=c.constructor.displayName||c.constructor.name||Object.prototype.toString.call(c)}catch{k="<object could not be stringified>"}else k=void 0===c?"undefined":null===c?"null":typeof c;Ne("Argument is not a %s (or a non-Element, non-Location mock); got: %s",f,k)}}function Ae(c,f){this.a=c===mn&&f||"",this.b=tn}function ft(c){return c instanceof Ae&&c.constructor===Ae&&c.b===tn?c.a:(Ne("expected object of type Const, got '"+c+"'"),"type_error:Const")}Ae.prototype.ta=!0,Ae.prototype.sa=function(){return this.a},Ae.prototype.toString=function(){return"Const{"+this.a+"}"};var sn,tn={},mn={};function Fr(){if(void 0===sn){var c=null,f=q.trustedTypes;if(f&&f.createPolicy){try{c=f.createPolicy("goog#html",{createHTML:xo,createScript:xo,createScriptURL:xo})}catch(v){q.console&&q.console.error(v.message)}sn=c}else sn=c}return sn}function nn(c,f){this.a=f===En?c:""}function gt(c){return c instanceof nn&&c.constructor===nn?c.a:(Ne("expected object of type TrustedResourceUrl, got '"+c+"' of type "+Pt(c)),"type_error:TrustedResourceUrl")}function pi(c,f){var v=ft(c);if(!xd.test(v))throw Error("Invalid TrustedResourceUrl format: "+v);return function fo(c){var f=Fr();return new nn(c=f?f.createScriptURL(c):c,En)}(c=v.replace(_a,function(w,D){if(!Object.prototype.hasOwnProperty.call(f,D))throw Error('Found marker, "'+D+'", in format string, "'+v+'", but no valid label mapping found in args: '+JSON.stringify(f));return(w=f[D])instanceof Ae?ft(w):encodeURIComponent(String(w))}))}nn.prototype.ta=!0,nn.prototype.sa=function(){return this.a.toString()},nn.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var _a=/%{(\w+)}/g,xd=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,En={};function Mt(c,f){this.a=f===ll?c:""}function ys(c){return c instanceof Mt&&c.constructor===Mt?c.a:(Ne("expected object of type SafeUrl, got '"+c+"' of type "+Pt(c)),"type_error:SafeUrl")}Mt.prototype.ta=!0,Mt.prototype.sa=function(){return this.a.toString()},Mt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Rd=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,In=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,at=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function _s(c){if(c instanceof Mt)return c;if(c="object"==typeof c&&c.ta?c.sa():String(c),at.test(c))c=new Mt(c,ll);else{var f=(c=(c=String(c)).replace(/(%0A|%0D)/g,"")).match(In);c=f&&Rd.test(f[1])?new Mt(c,ll):null}return c}function eu(c){return c instanceof Mt?c:(c="object"==typeof c&&c.ta?c.sa():String(c),at.test(c)||(c="about:invalid#zClosurez"),new Mt(c,ll))}var ll={},Ks=new Mt("about:invalid#zClosurez",ll);function le(c,f,v){this.a=v===Et?c:""}le.prototype.ta=!0,le.prototype.sa=function(){return this.a.toString()},le.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Et={};function tu(c,f,v,w){return c=c instanceof Mt?c:eu(c),f=f||q,v=v instanceof Ae?ft(v):v||"",f.open(ys(c),v,w,void 0)}function Zu(c,f){for(var v=c.split("%s"),w="",D=Array.prototype.slice.call(arguments,1);D.length&&1<v.length;)w+=v.shift()+D.shift();return w+v.join("%s")}function nu(c){return Md.test(c)&&(-1!=c.indexOf("&")&&(c=c.replace(ho,"&amp;")),-1!=c.indexOf("<")&&(c=c.replace(Ad,"&lt;")),-1!=c.indexOf(">")&&(c=c.replace(Pr,"&gt;")),-1!=c.indexOf('"')&&(c=c.replace(vs,"&quot;")),-1!=c.indexOf("'")&&(c=c.replace(cf,"&#39;")),-1!=c.indexOf("\0")&&(c=c.replace(Ti,"&#0;"))),c}function ba(c){return ba[" "](c),c}ba[" "]=Pe;var iu,c,jp=Ln("Opera"),ko=Ln("Trident")||Ln("MSIE"),ru=Ln("Edge"),Zi=ru||ko,lf=Ln("Gecko")&&!(St(br.toLowerCase(),"webkit")&&!Ln("Edge"))&&!(Ln("Trident")||Ln("MSIE"))&&!Ln("Edge"),bs=St(br.toLowerCase(),"webkit")&&!Ln("Edge");function df(){var c=q.document;return c?c.documentMode:void 0}e:{var Xu="",wa=(c=br,lf?/rv:([^\);]+)(\)|;)/.exec(c):ru?/Edge\/([\d\.]+)/.exec(c):ko?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(c):bs?/WebKit\/(\S+)/.exec(c):jp?/(?:Version)[ \/]?(\S+)/.exec(c):void 0);if(wa&&(Xu=wa?wa[1]:""),ko){var dl=df();if(null!=dl&&dl>parseFloat(Xu)){iu=String(dl);break e}}iu=Xu}var Ai={};function Mi(c){return function oi(c,f){var v=Ai;return Object.prototype.hasOwnProperty.call(v,c)?v[c]:v[c]=f(c)}(c,function(){for(var f=0,v=Ws(String(iu)).split("."),w=Ws(String(c)).split("."),D=Math.max(v.length,w.length),k=0;0==f&&k<D;k++){var N=v[k]||"",j=w[k]||"";do{if(N=/(\d*)(\D*)(.*)/.exec(N)||["","","",""],j=/(\d*)(\D*)(.*)/.exec(j)||["","","",""],0==N[0].length&&0==j[0].length)break;f=Yi(0==N[1].length?0:parseInt(N[1],10),0==j[1].length?0:parseInt(j[1],10))||Yi(0==N[2].length,0==j[2].length)||Yi(N[2],j[2]),N=N[3],j=j[3]}while(0==f)}return 0<=f})}var qo=q.document&&ko&&(df()||parseInt(iu,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var hf=!ko||9<=Number(qo);function xe(c){var f=document;return"string"==typeof c?f.getElementById(c):c}function ff(c,f){$o(f,function(v,w){v&&"object"==typeof v&&v.ta&&(v=v.sa()),"style"==w?c.style.cssText=v:"class"==w?c.className=v:"for"==w?c.htmlFor=v:an.hasOwnProperty(w)?c.setAttribute(an[w],v):0==w.lastIndexOf("aria-",0)||0==w.lastIndexOf("data-",0)?c.setAttribute(w,v):c[w]=v})}var Ys,Ca,an={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Ea(c,f){return f=String(f),"application/xhtml+xml"===c.contentType&&(f=f.toLowerCase()),c.createElement(f)}function Ju(c){q.setTimeout(function(){throw c},0)}function au(c,f){Ca||function hl(){if(q.Promise&&q.Promise.resolve){var c=q.Promise.resolve(void 0);Ca=function(){c.then(fl)}}else Ca=function(){var f=fl;!Ft(q.setImmediate)||q.Window&&q.Window.prototype&&!Ln("Edge")&&q.Window.prototype.setImmediate==q.setImmediate?(Ys||(Ys=function ec(){var c=q.MessageChannel;if(typeof c>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!Ln("Presto")&&(c=function(){var D=Ea(document,"IFRAME");D.style.display="none",document.documentElement.appendChild(D);var k=D.contentWindow;(D=k.document).open(),D.close();var N="callImmediate"+Math.random(),j="file:"==k.location.protocol?"*":k.location.protocol+"//"+k.location.host;D=Xe(function(fe){("*"==j||fe.origin==j)&&fe.data==N&&this.port1.onmessage()},this),k.addEventListener("message",D,!1),this.port1={},this.port2={postMessage:function(){k.postMessage(N,j)}}}),typeof c<"u"&&!Ln("Trident")&&!Ln("MSIE")){var f=new c,v={},w=v;return f.port1.onmessage=function(){if(void 0!==v.next){var D=(v=v.next).Hb;v.Hb=null,D()}},function(D){w.next={Hb:D},w=w.next,f.port2.postMessage(0)}}return function(D){q.setTimeout(D,0)}}()),Ys(f)):q.setImmediate(f)}}(),it||(Ca(),it=!0),tc.add(c,f)}var it=!1,tc=new Ue;function fl(){for(var c;c=je();){try{c.a.call(c.b)}catch(f){Ju(f)}Oe(Sn,c)}it=!1}function ot(c,f){if(this.a=ws,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,c!=Pe)try{var v=this;c.call(f,function(w){ie(v,Es,w)},function(w){if(!(w instanceof Cn))try{throw w instanceof Error?w:Error("Promise rejected.")}catch{}ie(v,Vt,w)})}catch(w){ie(this,Vt,w)}}var ws=0,Es=2,Vt=3;function pl(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}pl.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var nc=new ht(function(){return new pl},function(c){c.reset()});function Zs(c,f,v){var w=nc.get();return w.g=c,w.b=f,w.f=v,w}function Qe(c){if(c instanceof ot)return c;var f=new ot(Pe);return ie(f,Es,c),f}function Vn(c){return new ot(function(f,v){v(c)})}function Da(c,f,v){be(c,f,v,null)||au(Jt(f,c))}function M(c){return new ot(function(f){var v=c.length,w=[];if(v)for(var D=function(j,fe,a){v--,w[j]=fe?{Qb:!0,value:a}:{Qb:!1,reason:a},0==v&&f(w)},k=0;k<c.length;k++)Da(c[k],Jt(D,k,!0),Jt(D,k,!1));else f(w)})}function F(c,f){if(c.a==ws)if(c.c){var v=c.c;if(v.b){for(var w=0,D=null,k=null,N=v.b;N&&(N.c||(w++,N.a==c&&(D=N),!(D&&1<w)));N=N.next)D||(k=N);D&&(v.a==ws&&1==w?F(v,f):(k?((w=k).next==v.f&&(v.f=w),w.next=w.next.next):Je(v),me(v,D,Vt,f)))}c.c=null}else ie(c,Vt,f)}function U(c,f){c.b||c.a!=Es&&c.a!=Vt||H(c),c.f?c.f.next=f:c.b=f,c.f=f}function K(c,f,v,w){var D=Zs(null,null,null);return D.a=new ot(function(k,N){D.g=f?function(j){try{var fe=f.call(w,j);k(fe)}catch(a){N(a)}}:k,D.b=v?function(j){try{var fe=v.call(w,j);void 0===fe&&j instanceof Cn?N(j):k(fe)}catch(a){N(a)}}:N}),D.a.c=c,U(c,D),D.a}function ie(c,f,v){c.a==ws&&(c===v&&(f=Vt,v=new TypeError("Promise cannot resolve to itself")),c.a=1,be(v,c.$c,c.ad,c)||(c.i=v,c.a=f,c.c=null,H(c),f!=Vt||v instanceof Cn||function er(c,f){c.g=!0,au(function(){c.g&&hr.call(null,f)})}(c,v)))}function be(c,f,v,w){if(c instanceof ot)return U(c,Zs(f||Pe,v||null,w)),!0;if(ke(c))return c.then(f,v,w),!0;if(bt(c))try{var D=c.then;if(Ft(D))return function $e(c,f,v,w,D){function k(fe){j||(j=!0,w.call(D,fe))}var j=!1;try{f.call(c,function N(fe){j||(j=!0,v.call(D,fe))},k)}catch(fe){k(fe)}}(c,D,f,v,w),!0}catch(k){return v.call(w,k),!0}return!1}function H(c){c.h||(c.h=!0,au(c.gc,c))}function Je(c){var f=null;return c.b&&(c.b=(f=c.b).next,f.next=null),c.b||(c.f=null),f}function me(c,f,v,w){if(v==Vt&&f.b&&!f.c)for(;c&&c.g;c=c.c)c.g=!1;if(f.a)f.a.c=null,ut(f,v,w);else try{f.c?f.g.call(f.f):ut(f,v,w)}catch(D){hr.call(null,D)}Oe(nc,f)}function ut(c,f,v){f==Es?c.g.call(c.f,v):c.b&&c.b.call(c.f,v)}ot.prototype.then=function(c,f,v){return K(this,Ft(c)?c:null,Ft(f)?f:null,v)},ot.prototype.$goog_Thenable=!0,(I=ot.prototype).oa=function(c,f){return(c=Zs(c,c,f)).c=!0,U(this,c),this},I.o=function(c,f){return K(this,null,c,f)},I.cancel=function(c){if(this.a==ws){var f=new Cn(c);au(function(){F(this,f)},this)}},I.$c=function(c){this.a=ws,ie(this,Es,c)},I.ad=function(c){this.a=ws,ie(this,Vt,c)},I.gc=function(){for(var c;c=Je(this);)me(this,c,this.a,this.i);this.h=!1};var hr=Ju;function Cn(c){Se.call(this,c)}function Wn(){0!=wr&&(Gr[Mr(this)]=this),this.ya=this.ya,this.pa=this.pa}pt(Cn,Se),Cn.prototype.name="cancel";var wr=0,Gr={};function tr(c){if(!c.ya&&(c.ya=!0,c.Da(),0!=wr)){var f=Mr(c);if(0!=wr&&c.pa&&0<c.pa.length)throw Error(c+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Gr[f]}}Wn.prototype.ya=!1,Wn.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Kn=Object.freeze||function(c){return c},Lr=!ko||9<=Number(qo),Wt=ko&&!Mi("9"),Cs=function(){if(!q.addEventListener||!Object.defineProperty)return!1;var c=!1,f=Object.defineProperty({},"passive",{get:function(){c=!0}});try{q.addEventListener("test",Pe,f),q.removeEventListener("test",Pe,f)}catch{}return c}();function cr(c,f){this.type=c,this.b=this.target=f,this.defaultPrevented=!1}function Er(c,f){if(cr.call(this,c?c.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,c){var v=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.b=f,f=c.relatedTarget){if(lf){e:{try{ba(f.nodeName);var D=!0;break e}catch{}D=!1}D||(f=null)}}else"mouseover"==v?f=c.fromElement:"mouseout"==v&&(f=c.toElement);this.relatedTarget=f,w?(this.clientX=void 0!==w.clientX?w.clientX:w.pageX,this.clientY=void 0!==w.clientY?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=void 0!==c.clientX?c.clientX:c.pageX,this.clientY=void 0!==c.clientY?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType="string"==typeof c.pointerType?c.pointerType:Xi[c.pointerType]||"",this.a=c,c.defaultPrevented&&this.preventDefault()}}cr.prototype.preventDefault=function(){this.defaultPrevented=!0},pt(Er,cr);var Xi=Kn({2:"touch",3:"pen",4:"mouse"});Er.prototype.preventDefault=function(){Er.bb.preventDefault.call(this);var c=this.a;if(c.preventDefault)c.preventDefault();else if(c.returnValue=!1,Wt)try{(c.ctrlKey||112<=c.keyCode&&123>=c.keyCode)&&(c.keyCode=-1)}catch{}},Er.prototype.g=function(){return this.a};var po="closure_listenable_"+(1e6*Math.random()|0),ml=0;function rc(c,f,v,w,D){this.listener=c,this.proxy=null,this.src=f,this.type=v,this.capture=!!w,this.Wa=D,this.key=++ml,this.wa=this.Qa=!1}function kd(c){c.wa=!0,c.listener=null,c.proxy=null,c.src=null,c.Wa=null}function gl(c){this.src=c,this.a={},this.b=0}function Od(c,f){var v=f.type;v in c.a&&Fn(c.a[v],f)&&(kd(f),0==c.a[v].length&&(delete c.a[v],c.b--))}function pf(c,f,v,w){for(var D=0;D<c.length;++D){var k=c[D];if(!k.wa&&k.listener==f&&k.capture==!!v&&k.Wa==w)return D}return-1}gl.prototype.add=function(c,f,v,w,D){var k=c.toString();(c=this.a[k])||(c=this.a[k]=[],this.b++);var N=pf(c,f,w,D);return-1<N?(f=c[N],v||(f.Qa=!1)):((f=new rc(f,this.src,k,!!w,D)).Qa=v,c.push(f)),f};var uu="closure_lm_"+(1e6*Math.random()|0),Nd={};function mo(c,f,v,w,D){if(w&&w.once)Fd(c,f,v,w,D);else if(Array.isArray(f))for(var k=0;k<f.length;k++)mo(c,f[k],v,w,D);else v=ic(v),c&&c[po]?vg(c,f,v,bt(w)?!!w.capture:!!w,D):mf(c,f,v,!1,w,D)}function mf(c,f,v,w,D,k){if(!f)throw Error("Invalid event type");var N=bt(D)?!!D.capture:!!D,j=yl(c);if(j||(c[uu]=j=new gl(c)),!(v=j.add(f,v,w,N,k)).proxy)if(w=function mg(){var c=gf,f=Lr?function(v){return c.call(f.src,f.listener,v)}:function(v){if(!(v=c.call(f.src,f.listener,v)))return v};return f}(),v.proxy=w,w.src=c,w.listener=v,c.addEventListener)Cs||(D=N),void 0===D&&(D=!1),c.addEventListener(f.toString(),w,D);else if(c.attachEvent)c.attachEvent(Up(f.toString()),w);else{if(!c.addListener||!c.removeListener)throw Error("addEventListener and attachEvent are unavailable.");c.addListener(w)}}function Fd(c,f,v,w,D){if(Array.isArray(f))for(var k=0;k<f.length;k++)Fd(c,f[k],v,w,D);else v=ic(v),c&&c[po]?kt(c,f,v,bt(w)?!!w.capture:!!w,D):mf(c,f,v,!0,w,D)}function fr(c,f,v,w,D){if(Array.isArray(f))for(var k=0;k<f.length;k++)fr(c,f[k],v,w,D);else w=bt(w)?!!w.capture:!!w,v=ic(v),c&&c[po]?(c=c.v,(f=String(f).toString())in c.a&&-1<(v=pf(k=c.a[f],v,w,D))&&(kd(k[v]),Array.prototype.splice.call(k,v,1),0==k.length&&(delete c.a[f],c.b--))):c&&(c=yl(c))&&(f=c.a[f.toString()],c=-1,f&&(c=pf(f,v,w,D)),(v=-1<c?f[c]:null)&&gg(v))}function gg(c){if("number"!=typeof c&&c&&!c.wa){var f=c.src;if(f&&f[po])Od(f.v,c);else{var v=c.type,w=c.proxy;f.removeEventListener?f.removeEventListener(v,w,c.capture):f.detachEvent?f.detachEvent(Up(v),w):f.addListener&&f.removeListener&&f.removeListener(w),(v=yl(f))?(Od(v,c),0==v.b&&(v.src=null,f[uu]=null)):kd(c)}}}function Up(c){return c in Nd?Nd[c]:Nd[c]="on"+c}function Ld(c,f,v,w){var D=!0;if((c=yl(c))&&(f=c.a[f.toString()]))for(f=f.concat(),c=0;c<f.length;c++){var k=f[c];k&&k.capture==v&&!k.wa&&(k=vl(k,w),D=D&&!1!==k)}return D}function vl(c,f){var v=c.listener,w=c.Wa||c.src;return c.Qa&&gg(c),v.call(w,f)}function gf(c,f){if(c.wa)return!0;if(!Lr){if(!f)e:{f=["window","event"];for(var v=q,w=0;w<f.length;w++)if(null==(v=v[f[w]])){f=null;break e}f=v}if(f=new Er(w=f,this),v=!0,!(0>w.keyCode||null!=w.returnValue)){e:{var D=!1;if(0==w.keyCode)try{w.keyCode=-1;break e}catch{D=!0}(D||null==w.returnValue)&&(w.returnValue=!0)}for(w=[],D=f.b;D;D=D.parentNode)w.push(D);for(c=c.type,D=w.length-1;0<=D;D--){f.b=w[D];var k=Ld(w[D],c,!0,f);v=v&&k}for(D=0;D<w.length;D++)f.b=w[D],k=Ld(w[D],c,!1,f),v=v&&k}return v}return vl(c,new Er(f,this))}function yl(c){return(c=c[uu])instanceof gl?c:null}var Vd="__closure_events_fn_"+(1e9*Math.random()>>>0);function ic(c){return Ft(c)?c:(c[Vd]||(c[Vd]=function(f){return c.handleEvent(f)}),c[Vd])}function Wr(){Wn.call(this),this.v=new gl(this),this.bc=this,this.hb=null}function vg(c,f,v,w,D){c.v.add(String(f),v,!1,w,D)}function kt(c,f,v,w,D){c.v.add(String(f),v,!0,w,D)}function _l(c,f,v,w){if(!(f=c.v.a[String(f)]))return!0;f=f.concat();for(var D=!0,k=0;k<f.length;++k){var N=f[k];if(N&&!N.wa&&N.capture==v){var j=N.listener,fe=N.Wa||N.src;N.Qa&&Od(c.v,N),D=!1!==j.call(fe,w)&&D}}return D&&!w.defaultPrevented}function Hp(c,f,v){if(Ft(c))v&&(c=Xe(c,v));else{if(!c||"function"!=typeof c.handleEvent)throw Error("Invalid listener argument");c=Xe(c.handleEvent,c)}return 2147483647<Number(f)?-1:q.setTimeout(c,f||0)}function bl(c){var f=null;return new ot(function(v,w){-1==(f=Hp(function(){v(void 0)},c))&&w(Error("Failed to schedule timer."))}).o(function(v){throw q.clearTimeout(f),v})}function Bn(c){if(c.X&&"function"==typeof c.X)return c.X();if("string"==typeof c)return c.split("");if(Rt(c)){for(var f=[],v=c.length,w=0;w<v;w++)f.push(c[w]);return f}for(w in f=[],v=0,c)f[v++]=c[w];return f}function yg(c){if(c.Y&&"function"==typeof c.Y)return c.Y();if(!c.X||"function"!=typeof c.X){if(Rt(c)||"string"==typeof c){var f=[];c=c.length;for(var v=0;v<c;v++)f.push(v);return f}for(var w in f=[],v=0,c)f[v++]=w;return f}}function We(c,f){this.b={},this.a=[],this.c=0;var v=arguments.length;if(1<v){if(v%2)throw Error("Uneven number of arguments");for(var w=0;w<v;w+=2)this.set(arguments[w],arguments[w+1])}else if(c)if(c instanceof We)for(v=c.Y(),w=0;w<v.length;w++)this.set(v[w],c.get(v[w]));else for(w in c)this.set(w,c[w])}function mi(c){if(c.c!=c.a.length){for(var f=0,v=0;f<c.a.length;){var w=c.a[f];Ht(c.b,w)&&(c.a[v++]=w),f++}c.a.length=v}if(c.c!=c.a.length){var D={};for(v=f=0;f<c.a.length;)Ht(D,w=c.a[f])||(c.a[v++]=w,D[w]=1),f++;c.a.length=v}}function Ht(c,f){return Object.prototype.hasOwnProperty.call(c,f)}pt(Wr,Wn),Wr.prototype[po]=!0,Wr.prototype.addEventListener=function(c,f,v,w){mo(this,c,f,v,w)},Wr.prototype.removeEventListener=function(c,f,v,w){fr(this,c,f,v,w)},Wr.prototype.dispatchEvent=function(c){var f,v=this.hb;if(v)for(f=[];v;v=v.hb)f.push(v);v=this.bc;var w=c.type||c;if("string"==typeof c)c=new cr(c,v);else if(c instanceof cr)c.target=c.target||v;else{var D=c;se(c=new cr(w,v),D)}if(D=!0,f)for(var k=f.length-1;0<=k;k--){var N=c.b=f[k];D=_l(N,w,!0,c)&&D}if(D=_l(N=c.b=v,w,!0,c)&&D,D=_l(N,w,!1,c)&&D,f)for(k=0;k<f.length;k++)D=_l(N=c.b=f[k],w,!1,c)&&D;return D},Wr.prototype.Da=function(){if(Wr.bb.Da.call(this),this.v){var v,c=this.v;for(v in c.a){for(var w=c.a[v],D=0;D<w.length;D++)kd(w[D]);delete c.a[v],c.b--}}this.hb=null},(I=We.prototype).X=function(){mi(this);for(var c=[],f=0;f<this.a.length;f++)c.push(this.b[this.a[f]]);return c},I.Y=function(){return mi(this),this.a.concat()},I.clear=function(){this.b={},this.c=this.a.length=0},I.get=function(c,f){return Ht(this.b,c)?this.b[c]:f},I.set=function(c,f){Ht(this.b,c)||(this.c++,this.a.push(c)),this.b[c]=f},I.forEach=function(c,f){for(var v=this.Y(),w=0;w<v.length;w++){var D=v[w],k=this.get(D);c.call(f,k,D,this)}};var si=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function go(c,f){var v;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,c instanceof go?(this.i=void 0!==f?f:c.i,gi(this,c.c),this.l=c.l,this.a=c.a,cu(this,c.g),this.f=c.f,lu(this,Sr(c.b)),this.h=c.h):c&&(v=String(c).match(si))?(this.i=!!f,gi(this,v[1]||"",!0),this.l=Ve(v[2]||""),this.a=Ve(v[3]||"",!0),cu(this,v[4]),this.f=Ve(v[5]||"",!0),lu(this,v[6]||"",!0),this.h=Ve(v[7]||"")):(this.i=!!f,this.b=new yo(null,this.i))}function gi(c,f,v){c.c=v?Ve(f,!0):f,c.c&&(c.c=c.c.replace(/:$/,""))}function cu(c,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);c.g=f}else c.g=null}function lu(c,f,v){f instanceof yo?(c.b=f,function sc(c,f){f&&!c.f&&(Qi(c),c.c=null,c.a.forEach(function(v,w){var D=w.toLowerCase();w!=D&&(Ji(this,w),No(this,D,v))},c)),c.f=f}(c.b,c.i)):(v||(f=vt(f,oc)),c.b=new yo(f,c.i))}function or(c,f,v){c.b.set(f,v)}function vo(c,f){return c.b.get(f)}function vi(c){return c instanceof go?new go(c):new go(c,void 0)}function Dr(c,f,v,w){var D=new go(null,void 0);return c&&gi(D,c),f&&(D.a=f),v&&cu(D,v),w&&(D.f=w),D}function Ve(c,f){return c?f?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function vt(c,f,v){return"string"==typeof c?(c=encodeURI(c).replace(f,pr),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function pr(c){return"%"+((c=c.charCodeAt(0))>>4&15).toString(16)+(15&c).toString(16)}go.prototype.toString=function(){var c=[],f=this.c;f&&c.push(vt(f,Oo,!0),":");var v=this.a;return(v||"file"==f)&&(c.push("//"),(f=this.l)&&c.push(vt(f,Oo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(v=this.g)&&c.push(":",String(v))),(v=this.f)&&(this.a&&"/"!=v.charAt(0)&&c.push("/"),c.push(vt(v,"/"==v.charAt(0)?yi:Ds,!0))),(v=this.b.toString())&&c.push("?",v),(v=this.h)&&c.push("#",vt(v,lr)),c.join("")},go.prototype.resolve=function(c){var f=new go(this),v=!!c.c;v?gi(f,c.c):v=!!c.l,v?f.l=c.l:v=!!c.a,v?f.a=c.a:v=null!=c.g;var w=c.f;if(v)cu(f,c.g);else if(v=!!c.f){if("/"!=w.charAt(0))if(this.a&&!this.f)w="/"+w;else{var D=f.f.lastIndexOf("/");-1!=D&&(w=f.f.substr(0,D+1)+w)}if(".."==(D=w)||"."==D)w="";else if(St(D,"./")||St(D,"/.")){w=0==D.lastIndexOf("/",0),D=D.split("/");for(var k=[],N=0;N<D.length;){var j=D[N++];"."==j?w&&N==D.length&&k.push(""):".."==j?((1<k.length||1==k.length&&""!=k[0])&&k.pop(),w&&N==D.length&&k.push("")):(k.push(j),w=!0)}w=k.join("/")}else w=D}return v?f.f=w:v=""!==c.b.toString(),v?lu(f,Sr(c.b)):v=!!c.h,v&&(f.h=c.h),f};var Oo=/[#\/\?@]/g,Ds=/[#\?:]/g,yi=/[#\?]/g,oc=/[#\?@]/g,lr=/#/g;function yo(c,f){this.b=this.a=null,this.c=c||null,this.f=!!f}function Qi(c){c.a||(c.a=new We,c.b=0,c.c&&function Cr(c,f){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var w=c[v].indexOf("="),D=null;if(0<=w){var k=c[v].substring(0,w);D=c[v].substring(w+1)}else k=c[v];f(k,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}(c.c,function(f,v){c.add(decodeURIComponent(f.replace(/\+/g," ")),v)}))}function Dt(c){var f=yg(c);if(typeof f>"u")throw Error("Keys are undefined");var v=new yo(null,void 0);c=Bn(c);for(var w=0;w<f.length;w++){var D=f[w],k=c[w];Array.isArray(k)?No(v,D,k):v.add(D,k)}return v}function Ji(c,f){Qi(c),f=Ss(c,f),Ht(c.a.b,f)&&(c.c=null,c.b-=c.a.get(f).length,Ht((c=c.a).b,f)&&(delete c.b[f],c.c--,c.a.length>2*c.c&&mi(c)))}function Bd(c,f){return Qi(c),f=Ss(c,f),Ht(c.a.b,f)}function No(c,f,v){Ji(c,f),0<v.length&&(c.c=null,c.a.set(Ss(c,f),Gn(v)),c.b+=v.length)}function Sr(c){var f=new yo;return f.c=c.c,c.a&&(f.a=new We(c.a),f.b=c.b),f}function Ss(c,f){return f=String(f),c.f&&(f=f.toLowerCase()),f}function Go(c){var f=[];return xi(new du,c,f),f.join("")}function du(){}function xi(c,f,v){if(null==f)v.push("null");else{if("object"==typeof f){if(Array.isArray(f)){var w=f;f=w.length,v.push("[");for(var D="",k=0;k<f;k++)v.push(D),xi(c,w[k],v),D=",";return void v.push("]")}if(!(f instanceof String||f instanceof Number||f instanceof Boolean)){for(w in v.push("{"),D="",f)Object.prototype.hasOwnProperty.call(f,w)&&"function"!=typeof(k=f[w])&&(v.push(D),Js(w,v),v.push(":"),xi(c,k,v),D=",");return void v.push("}")}f=f.valueOf()}switch(typeof f){case"string":Js(f,v);break;case"number":v.push(isFinite(f)&&!isNaN(f)?String(f):"null");break;case"boolean":v.push(String(f));break;case"function":v.push("null");break;default:throw Error("Unknown type: "+typeof f)}}}(I=yo.prototype).add=function(c,f){Qi(this),this.c=null,c=Ss(this,c);var v=this.a.get(c);return v||this.a.set(c,v=[]),v.push(f),this.b+=1,this},I.clear=function(){this.a=this.c=null,this.b=0},I.forEach=function(c,f){Qi(this),this.a.forEach(function(v,w){Lt(v,function(D){c.call(f,D,w,this)},this)},this)},I.Y=function(){Qi(this);for(var c=this.a.X(),f=this.a.Y(),v=[],w=0;w<f.length;w++)for(var D=c[w],k=0;k<D.length;k++)v.push(f[w]);return v},I.X=function(c){Qi(this);var f=[];if("string"==typeof c)Bd(this,c)&&(f=pn(f,this.a.get(Ss(this,c))));else{c=this.a.X();for(var v=0;v<c.length;v++)f=pn(f,c[v])}return f},I.set=function(c,f){return Qi(this),this.c=null,Bd(this,c=Ss(this,c))&&(this.b-=this.a.get(c).length),this.a.set(c,[f]),this.b+=1,this},I.get=function(c,f){return c&&0<(c=this.X(c)).length?String(c[0]):f},I.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var c=[],f=this.a.Y(),v=0;v<f.length;v++){var w=f[v],D=encodeURIComponent(String(w));w=this.X(w);for(var k=0;k<w.length;k++){var N=D;""!==w[k]&&(N+="="+encodeURIComponent(String(w[k]))),c.push(N)}}return this.c=c.join("&")};var Xs={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Qs=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Js(c,f){f.push('"',c.replace(Qs,function(v){var w=Xs[v];return w||(w="\\u"+(65536|v.charCodeAt(0)).toString(16).substr(1),Xs[v]=w),w}),'"')}function ac(){var c=_i();return ko&&!!qo&&11==qo||/Edge\/\d+/.test(c)}function Bt(){return q.window&&q.window.location.href||self&&self.location&&self.location.href||""}function vf(c,f){f=f||q.window;var v="about:blank";c&&(v=ys(_s(c)||Ks)),f.location.href=v}function jd(c,f){var w,v=[];for(w in c)w in f?typeof c[w]!=typeof f[w]?v.push(w):"object"==typeof c[w]&&null!=c[w]&&null!=f[w]?0<jd(c[w],f[w]).length&&v.push(w):c[w]!==f[w]&&v.push(w):v.push(w);for(w in f)w in c||v.push(w);return v}function Po(c){return!!((c=(c||_i()).toLowerCase()).match(/android/)||c.match(/webos/)||c.match(/iphone|ipad|ipod/)||c.match(/blackberry/)||c.match(/windows phone/)||c.match(/iemobile/))}function Is(c){c=c||q.window;try{c.close()}catch{}}function Ts(c,f,v){var w=Math.floor(1e9*Math.random()).toString();f=f||500,v=v||600;var D=(window.screen.availHeight-v)/2,k=(window.screen.availWidth-f)/2;for(N in f={width:f,height:v,top:0<D?D:0,left:0<k?k:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},v=_i().toLowerCase(),w&&(f.target=w,St(v,"crios/")&&(f.target="_blank")),ct(_i())==yf&&(c=c||"http://localhost",f.scrollbars=!0),v=c||"",(c=f)||(c={}),w=window,f=v instanceof Mt?v:_s(typeof v.href<"u"?v.href:String(v))||Ks,v=c.target||v.target,D=[],c)switch(N){case"width":case"height":case"top":case"left":D.push(N+"="+c[N]);break;case"target":case"noopener":case"noreferrer":break;default:D.push(N+"="+(c[N]?1:0))}var N=D.join(",");if((Ln("iPhone")&&!Ln("iPod")&&!Ln("iPad")||Ln("iPad")||Ln("iPod"))&&w.navigator&&w.navigator.standalone&&v&&"_self"!=v?(X(N=Ea(document,"A"),"HTMLAnchorElement"),f=f instanceof Mt?f:eu(f),N.href=ys(f),N.setAttribute("target",v),c.noreferrer&&N.setAttribute("rel","noreferrer"),(c=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,w,1),N.dispatchEvent(c),N={}):c.noreferrer?(N=tu("",w,v,N),c=ys(f),N&&(Zi&&St(c,";")&&(c="'"+c.replace(/'/g,"%27")+"'"),N.opener=null,c='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+nu(c)+'">',c=new le(c=(w=Fr())?w.createHTML(c):c,null,Et),w=N.document)&&(w.write(function Yu(c){return c instanceof le&&c.constructor===le?c.a:(Ne("expected object of type SafeHtml, got '"+c+"' of type "+Pt(c)),"type_error:SafeHtml")}(c)),w.close())):(N=tu(f,w,v,N))&&c.noopener&&(N.opener=null),N)try{N.focus()}catch{}return N}var Ri=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tw=/^[^@]+@[^@]+$/;function jn(){var c=null;return new ot(function(f){"complete"==q.document.readyState?f():(c=function(){f()},Fd(window,"load",c))}).o(function(f){throw fr(window,"load",c),f})}function Ee(c){return c=c||_i(),!("file:"!==xt()&&"ionic:"!==xt()||!c.toLowerCase().match(/iphone|ipad|ipod|android/))}function Kr(){var c=q.window;try{return!(!c||c==c.top)}catch{return!1}}function ki(){return typeof q.WorkerGlobalScope<"u"&&"function"==typeof q.importScripts}function Ce(){return _e.Z.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":_e.Z.INTERNAL.hasOwnProperty("node")?"Node":ki()?"Worker":"Browser"}function mr(){var c=Ce();return"ReactNative"===c||"Node"===c}var yf="Firefox",tt="Chrome";function ct(c){var f=c.toLowerCase();return St(f,"opera/")||St(f,"opr/")||St(f,"opios/")?"Opera":St(f,"iemobile")?"IEMobile":St(f,"msie")||St(f,"trident/")?"IE":St(f,"edge/")?"Edge":St(f,"firefox/")?yf:St(f,"silk/")?"Silk":St(f,"blackberry")?"Blackberry":St(f,"webos")?"Webos":!St(f,"safari/")||St(f,"chrome/")||St(f,"crios/")||St(f,"android")?!St(f,"chrome/")&&!St(f,"crios/")||St(f,"edge/")?St(f,"android")?"Android":(c=c.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==c.length?c[1]:"Other":tt:"Safari"}var Be={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Hd(c,f){f=f||[];var D,v=[],w={};for(D in Be)w[Be[D]]=!0;for(D=0;D<f.length;D++)typeof w[f[D]]<"u"&&(delete w[f[D]],v.push(f[D]));return v.sort(),(f=v).length||(f=["FirebaseCore-web"]),"Browser"===(v=Ce())?v=ct(w=_i()):"Worker"===v&&(v=ct(w=_i())+"-"+v),v+"/JsCore/"+c+"/"+f.join(",")}function _i(){return q.navigator&&q.navigator.userAgent||""}function nt(c,f){c=c.split("."),f=f||q;for(var v=0;v<c.length&&"object"==typeof f&&null!=f;v++)f=f[c[v]];return v!=c.length&&(f=void 0),f}function uc(){try{var c=q.localStorage,f=Kt();if(c)return c.setItem(f,"1"),c.removeItem(f),!ac()||!!q.indexedDB}catch{return ki()&&!!q.indexedDB}return!1}function cc(){return(Oi()||"chrome-extension:"===xt()||Ee())&&!mr()&&uc()&&!ki()}function Oi(){return"http:"===xt()||"https:"===xt()}function xt(){return q.location&&q.location.protocol||null}function zd(c){return!(Po(c=c||_i())||ct(c)==yf)}function ea(c){return typeof c>"u"?null:Go(c)}function _g(c){var v,f={};for(v in c)c.hasOwnProperty(v)&&null!=c[v]&&(f[v]=c[v]);return f}function El(c){if(null!==c)return JSON.parse(c)}function Kt(c){return c||Math.floor(1e9*Math.random()).toString()}function qp(c){return!("Safari"==ct(c=c||_i())||c.toLowerCase().match(/iphone|ipad|ipod/))}function As(){var c=q.___jsl;if(c&&c.H)for(var f in c.H)if(c.H[f].r=c.H[f].r||[],c.H[f].L=c.H[f].L||[],c.H[f].r=c.H[f].L.concat(),c.CP)for(var v=0;v<c.CP.length;v++)c.CP[v]=null}function Wo(c,f){if(c>f)throw Error("Short delay should be less than long delay!");this.a=c,this.c=f,c=_i(),f=Ce(),this.b=Po(c)||"ReactNative"===f}function Ni(){var c=q.document;return!(c&&typeof c.visibilityState<"u")||"visible"==c.visibilityState}function Fo(c){try{var f=new Date(parseInt(c,10));if(!isNaN(f.getTime())&&!/[^0-9]/.test(c))return f.toUTCString()}catch{}return null}function Vr(){return!(!nt("fireauth.oauthhelper",q)&&!nt("fireauth.iframe",q))}Wo.prototype.get=function(){var c=q.navigator;return c&&"boolean"==typeof c.onLine&&(Oi()||"chrome-extension:"===xt()||typeof c.connection<"u")&&!c.onLine?Math.min(5e3,this.a):this.b?this.c:this.a};var Sa,Gp={};function dc(c){Gp[c]||(Gp[c]=!0,typeof console<"u"&&"function"==typeof console.warn&&console.warn(c))}try{var $d={};Object.defineProperty($d,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty($d,"abcd",{configurable:!0,enumerable:!0,value:2}),Sa=2==$d.abcd}catch{Sa=!1}function Ye(c,f,v){Sa?Object.defineProperty(c,f,{configurable:!0,enumerable:!0,value:v}):c[f]=v}function Le(c,f){if(f)for(var v in f)f.hasOwnProperty(v)&&Ye(c,v,f[v])}function Yr(c){var f={};return Le(f,c),f}function hc(c){var f=c;if("object"==typeof c&&null!=c)for(var v in f="length"in c?[]:{},c)Ye(f,v,hc(c[v]));return f}function Dl(c){var f=c&&(c[Il]?"phone":null);if(!(f&&c&&c[bf]))throw new Q("internal-error","Internal assert: invalid MultiFactorInfo object");Ye(this,"uid",c[bf]),Ye(this,"displayName",c[pc]||null);var v=null;c[Sl]&&(v=new Date(c[Sl]).toUTCString()),Ye(this,"enrollmentTime",v),Ye(this,"factorId",f)}function fc(c){try{var f=new fu(c)}catch{f=null}return f}Dl.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var pc="displayName",Sl="enrolledAt",bf="mfaEnrollmentId",Il="phoneInfo";function fu(c){Dl.call(this,c),Ye(this,"phoneNumber",c[Il])}function bg(c){var f={},v=c[Qv],w=c[wg],D=c[Eg];if(c=fc(c[Fi]),!D||D!=pu&&D!=Pi&&!v||D==Pi&&!w||D==Ia&&!c)throw Error("Invalid checkActionCode response!");D==Pi?(f[Li]=v||null,f[_o]=v||null,f[Tl]=w):(f[Li]=w||null,f[_o]=w||null,f[Tl]=v||null),f[qd]=c||null,Ye(this,Cg,D),Ye(this,Jv,hc(f))}pt(fu,Dl),fu.prototype.w=function(){var c=fu.bb.w.call(this);return c.phoneNumber=this.phoneNumber,c};var Ia="REVERT_SECOND_FACTOR_ADDITION",pu="EMAIL_SIGNIN",Pi="VERIFY_AND_CHANGE_EMAIL",Qv="email",Fi="mfaInfo",wg="newEmail",Eg="requestType",Tl="email",Li="fromEmail",qd="multiFactorInfo",_o="previousEmail",Jv="data",Cg="operation";function wf(c){var f=vo(c=vi(c),Wp)||null,v=vo(c,Ef)||null,w=vo(c,Kp)||null;if(w=w&&Un[w]||null,!f||!v||!w)throw new Q("argument-error",Wp+", "+Ef+"and "+Kp+" are required in a valid action code URL.");Le(this,{apiKey:f,operation:w,code:v,continueUrl:vo(c,ey)||null,languageCode:vo(c,ta)||null,tenantId:vo(c,Al)||null})}var Wp="apiKey",Ef="oobCode",ey="continueUrl",ta="languageCode",Kp="mode",Al="tenantId",Un={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Ia,signIn:pu,verifyAndChangeEmail:Pi,verifyEmail:"VERIFY_EMAIL"};function mc(c){try{return new wf(c)}catch{return null}}function gc(c){var f=c[Zr];if(typeof f>"u")throw new Q("missing-continue-uri");if("string"!=typeof f||"string"==typeof f&&!f.length)throw new Q("invalid-continue-uri");this.h=f,this.b=this.a=null,this.g=!1;var v=c[Vi];if(v&&"object"==typeof v){f=v[Cf];var w=v[Gd];if(v=v[gu],"string"==typeof f&&f.length){if(this.a=f,typeof w<"u"&&"boolean"!=typeof w)throw new Q("argument-error",Gd+" property must be a boolean when specified.");if(this.g=!!w,typeof v<"u"&&("string"!=typeof v||"string"==typeof v&&!v.length))throw new Q("argument-error",gu+" property must be a non empty string when specified.");this.b=v||null}else{if(typeof f<"u")throw new Q("argument-error",Cf+" property must be a non empty string when specified.");if(typeof w<"u"||typeof v<"u")throw new Q("missing-android-pkg-name")}}else if(typeof v<"u")throw new Q("argument-error",Vi+" property must be a non null object when specified.");if(this.f=null,(f=c[mu])&&"object"==typeof f){if("string"==typeof(f=f[Ms])&&f.length)this.f=f;else if(typeof f<"u")throw new Q("argument-error",Ms+" property must be a non empty string when specified.")}else if(typeof f<"u")throw new Q("argument-error",mu+" property must be a non null object when specified.");if(typeof(f=c[Ko])<"u"&&"boolean"!=typeof f)throw new Q("argument-error",Ko+" property must be a boolean when specified.");if(this.c=!!f,typeof(c=c[Yp])<"u"&&("string"!=typeof c||"string"==typeof c&&!c.length))throw new Q("argument-error",Yp+" property must be a non empty string when specified.");this.i=c||null}var Vi="android",Yp="dynamicLinkDomain",Ko="handleCodeInApp",mu="iOS",Zr="url",Gd="installApp",gu="minimumVersion",Cf="packageName",Ms="bundleId";function vc(c){var f={};for(var v in f.continueUrl=c.h,f.canHandleCodeInApp=c.c,(f.androidPackageName=c.a)&&(f.androidMinimumVersion=c.b,f.androidInstallApp=c.g),f.iOSBundleId=c.f,f.dynamicLinkDomain=c.i,f)null===f[v]&&delete f[v];return f}var bi=null;function lt(c){var f=Sg(c);if(!(f&&f.sub&&f.iss&&f.aud&&f.exp))throw Error("Invalid JWT");this.h=c,this.a=f.exp,this.i=f.sub,c=Date.now()/1e3,this.g=f.iat||(c>this.a?this.a:c),this.b=f.provider_id||f.firebase&&f.firebase.sign_in_provider||null,this.f=f.firebase&&f.firebase.tenant||null,this.c=!!f.is_anonymous||"anonymous"==this.b}function Ta(c){try{return new lt(c)}catch{return null}}function Sg(c){if(!c||3!=(c=c.split(".")).length)return null;for(var f=(4-(c=c[1]).length%4)%4,v=0;v<f;v++)c+=".";try{var w=function Zp(c){var f=[];return function xl(c,f){function v(fe){for(;w<c.length;){var a=c.charAt(w++),s=bi[a];if(null!=s)return s;if(!/^[\s\xa0]*$/.test(a))throw Error("Unknown base64 encoding at char: "+a)}return fe}!function Dg(){if(!bi){bi={};for(var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),f=["+/=","+/","-_=","-_.","-_"],v=0;5>v;v++)for(var w=c.concat(f[v].split("")),D=0;D<w.length;D++){var k=w[D];void 0===bi[k]&&(bi[k]=D)}}}();for(var w=0;;){var D=v(-1),k=v(0),N=v(64),j=v(64);if(64===j&&-1===D)break;f(D<<2|k>>4),64!=N&&(f(k<<4&240|N>>2),64!=j&&f(N<<6&192|j))}}(c,function(v){f.push(v)}),f}(c);for(c=[],v=f=0;f<w.length;){var D=w[f++];if(128>D)c[v++]=String.fromCharCode(D);else if(191<D&&224>D){var k=w[f++];c[v++]=String.fromCharCode((31&D)<<6|63&k)}else if(239<D&&365>D){k=w[f++];var N=w[f++],fe=((7&D)<<18|(63&k)<<12|(63&N)<<6|63&w[f++])-65536;c[v++]=String.fromCharCode(55296+(fe>>10)),c[v++]=String.fromCharCode(56320+(1023&fe))}else k=w[f++],N=w[f++],c[v++]=String.fromCharCode((15&D)<<12|(63&k)<<6|63&N)}return JSON.parse(c.join(""))}catch{}return null}lt.prototype.T=function(){return this.f},lt.prototype.l=function(){return this.c},lt.prototype.toString=function(){return this.h};var Ig="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Wd=["client_id","response_type","scope","redirect_uri","state"],Df={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Wd},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Wd},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Wd},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Ig},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Kd(c){for(var f in Df)if(Df[f].fa==c)return Df[f];return null}function Aa(c){var f={};f["facebook.com"]=vu,f["google.com"]=jt,f["github.com"]=we,f["twitter.com"]=Xr;var v=c&&c[Tg];try{if(v)return f[v]?new f[v](c):new eo(c);if(typeof c[Xp]<"u")return new Sf(c)}catch{}return null}var Xp="idToken",Tg="providerId";function Sf(c){var f=c[Tg];if(!f&&c[Xp]){var v=Ta(c[Xp]);v&&v.b&&(f=v.b)}if(!f)throw Error("Invalid additional user info!");("anonymous"==f||"custom"==f)&&(f=null),v=!1,typeof c.isNewUser<"u"?v=!!c.isNewUser:"identitytoolkit#SignupNewUserResponse"===c.kind&&(v=!0),Ye(this,"providerId",f),Ye(this,"isNewUser",v)}function eo(c){Sf.call(this,c),Ye(this,"profile",hc((c=El(c.rawUserInfo||"{}"))||{}))}function vu(c){if(eo.call(this,c),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function we(c){if(eo.call(this,c),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Ye(this,"username",this.profile&&this.profile.login||null)}function jt(c){if(eo.call(this,c),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Xr(c){if(eo.call(this,c),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Ye(this,"username",c.screenName||null)}function gr(c){var f=vi(c),v=vo(f,"link"),w=vo(vi(v),"link");return f=vo(f,"deep_link_id"),vo(vi(f),"link")||f||w||v||c}function Rr(c,f){if(!c&&!f)throw new Q("internal-error","Internal assert: no raw session string available");if(c&&f)throw new Q("internal-error","Internal assert: unable to determine the session type");this.a=c||null,this.b=f||null,this.type=this.a?yc:Yo}pt(eo,Sf),pt(vu,eo),pt(we,eo),pt(jt,eo),pt(Xr,eo);var yc="enroll",Yo="signin";function to(){}function vr(c,f){return c.then(function(v){if(v[Ns]){var w=Ta(v[Ns]);if(!w||f!=w.i)throw new Q("user-mismatch");return v}throw new Q("user-mismatch")}).o(function(v){throw v&&v.code&&v.code==Jn+"user-not-found"?new Q("user-mismatch"):v})}function Zo(c,f){if(!f)throw new Q("internal-error","failed to construct a credential");this.a=f,Ye(this,"providerId",c),Ye(this,"signInMethod",c)}function Rl(c){return{pendingToken:c.a,requestUri:"http://localhost"}}function $_(c){if(c&&c.providerId&&c.signInMethod&&0==c.providerId.indexOf("saml.")&&c.pendingToken)try{return new Zo(c.providerId,c.pendingToken)}catch{}return null}function Xo(c,f,v){if(this.a=null,f.idToken||f.accessToken)f.idToken&&Ye(this,"idToken",f.idToken),f.accessToken&&Ye(this,"accessToken",f.accessToken),f.nonce&&!f.pendingToken&&Ye(this,"nonce",f.nonce),f.pendingToken&&(this.a=f.pendingToken);else{if(!f.oauthToken||!f.oauthTokenSecret)throw new Q("internal-error","failed to construct a credential");Ye(this,"accessToken",f.oauthToken),Ye(this,"secret",f.oauthTokenSecret)}Ye(this,"providerId",c),Ye(this,"signInMethod",v)}function wi(c){var f={};return c.idToken&&(f.id_token=c.idToken),c.accessToken&&(f.access_token=c.accessToken),c.secret&&(f.oauth_token_secret=c.secret),f.providerId=c.providerId,c.nonce&&!c.a&&(f.nonce=c.nonce),f={postBody:Dt(f).toString(),requestUri:"http://localhost"},c.a&&(delete f.postBody,f.pendingToken=c.a),f}function na(c){if(c&&c.providerId&&c.signInMethod){var f={idToken:c.oauthIdToken,accessToken:c.oauthTokenSecret?null:c.oauthAccessToken,oauthTokenSecret:c.oauthTokenSecret,oauthToken:c.oauthTokenSecret&&c.oauthAccessToken,nonce:c.nonce,pendingToken:c.pendingToken};try{return new Xo(c.providerId,f,c.signInMethod)}catch{}}return null}function Ma(c,f){this.Qc=f||[],Le(this,{providerId:c,isOAuthProvider:!0}),this.Jb={},this.qb=(Kd(c)||{}).Ja||null,this.pb=null}function xs(c){if("string"!=typeof c||0!=c.indexOf("saml."))throw new Q("argument-error",'SAML provider IDs must be prefixed with "saml."');Ma.call(this,c,[])}function Hn(c){Ma.call(this,c,Wd),this.a=[]}function yu(){Hn.call(this,"facebook.com")}function If(c){if(!c)throw new Q("argument-error","credential failed: expected 1 argument (the OAuth access token).");var f=c;return bt(c)&&(f=c.accessToken),(new yu).credential({accessToken:f})}function _u(){Hn.call(this,"github.com")}function kr(c){if(!c)throw new Q("argument-error","credential failed: expected 1 argument (the OAuth access token).");var f=c;return bt(c)&&(f=c.accessToken),(new _u).credential({accessToken:f})}function Ot(){Hn.call(this,"google.com"),this.Ca("profile")}function bu(c,f){var v=c;return bt(c)&&(v=c.idToken,f=c.accessToken),(new Ot).credential({idToken:v,accessToken:f})}function xa(){Ma.call(this,"twitter.com",Ig)}function Tf(c,f){var v=c;if(bt(v)||(v={oauthToken:c,oauthTokenSecret:f}),!v.oauthToken||!v.oauthTokenSecret)throw new Q("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Xo("twitter.com",v,"twitter.com")}function Ra(c,f,v){this.a=c,this.f=f,Ye(this,"providerId","password"),Ye(this,"signInMethod",v===kn.EMAIL_LINK_SIGN_IN_METHOD?kn.EMAIL_LINK_SIGN_IN_METHOD:kn.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Qp(c){return c&&c.email&&c.password?new Ra(c.email,c.password,c.signInMethod):null}function kn(){Le(this,{providerId:"password",isOAuthProvider:!1})}function kl(c,f){if(!(f=Rs(f)))throw new Q("argument-error","Invalid email link!");return new Ra(c,f.code,kn.EMAIL_LINK_SIGN_IN_METHOD)}function Rs(c){return(c=mc(c=gr(c)))&&c.operation===pu?c:null}function Zn(c){if(!(c.fb&&c.eb||c.La&&c.ea))throw new Q("internal-error");this.a=c,Ye(this,"providerId","phone"),this.fa="phone",Ye(this,"signInMethod","phone")}function Jp(c){if(c&&"phone"===c.providerId&&(c.verificationId&&c.verificationCode||c.temporaryProof&&c.phoneNumber)){var f={};return Lt(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(v){c[v]&&(f[v]=c[v])}),new Zn(f)}return null}function _c(c){return c.a.La&&c.a.ea?{temporaryProof:c.a.La,phoneNumber:c.a.ea}:{sessionInfo:c.a.fb,code:c.a.eb}}function Br(c){try{this.a=c||_e.Z.auth()}catch{throw new Q("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Le(this,{providerId:"phone",isOAuthProvider:!1})}function Ag(c,f){if(!c)throw new Q("missing-verification-id");if(!f)throw new Q("missing-verification-code");return new Zn({fb:c,eb:f})}function Qr(c){if(c.temporaryProof&&c.phoneNumber)return new Zn({La:c.temporaryProof,ea:c.phoneNumber});var f=c&&c.providerId;if(!f||"password"===f)return null;var v=c&&c.oauthAccessToken,w=c&&c.oauthTokenSecret,D=c&&c.nonce,k=c&&c.oauthIdToken,N=c&&c.pendingToken;try{switch(f){case"google.com":return bu(k,v);case"facebook.com":return If(v);case"github.com":return kr(v);case"twitter.com":return Tf(v,w);default:return v||w||k||N?N?0==f.indexOf("saml.")?new Zo(f,N):new Xo(f,{pendingToken:N,idToken:c.oauthIdToken,accessToken:c.oauthAccessToken},f):new Hn(f).credential({idToken:k,accessToken:v,rawNonce:D}):null}}catch{return null}}function ka(c){if(!c.isOAuthProvider)throw new Q("invalid-oauth-provider")}function gn(c,f,v,w,D,k,N){if(this.c=c,this.b=f||null,this.g=v||null,this.f=w||null,this.i=k||null,this.h=N||null,this.a=D||null,!this.g&&!this.a)throw new Q("invalid-auth-event");if(this.g&&this.a)throw new Q("invalid-auth-event");if(this.g&&!this.f)throw new Q("invalid-auth-event")}function Mg(c){return(c=c||{}).type?new gn(c.type,c.eventId,c.urlResponse,c.sessionId,c.error&&qr(c.error),c.postBody,c.tenantId):null}function On(){this.b=null,this.a=[]}Rr.prototype.Ha=function(){return Qe(this.a?this.a:this.b)},Rr.prototype.w=function(){return this.type==yc?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},to.prototype.ka=function(){},to.prototype.b=function(){},to.prototype.c=function(){},to.prototype.w=function(){},Zo.prototype.ka=function(c){return cm(c,Rl(this))},Zo.prototype.b=function(c,f){var v=Rl(this);return v.idToken=f,Vl(c,v)},Zo.prototype.c=function(c,f){return vr(Ac(c,Rl(this)),f)},Zo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},Xo.prototype.ka=function(c){return cm(c,wi(this))},Xo.prototype.b=function(c,f){var v=wi(this);return v.idToken=f,Vl(c,v)},Xo.prototype.c=function(c,f){return vr(Ac(c,wi(this)),f)},Xo.prototype.w=function(){var c={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(c.oauthIdToken=this.idToken),this.accessToken&&(c.oauthAccessToken=this.accessToken),this.secret&&(c.oauthTokenSecret=this.secret),this.nonce&&(c.nonce=this.nonce),this.a&&(c.pendingToken=this.a),c},Ma.prototype.Ka=function(c){return this.Jb=G(c),this},pt(xs,Ma),pt(Hn,Ma),Hn.prototype.Ca=function(c){return Rn(this.a,c)||this.a.push(c),this},Hn.prototype.Rb=function(){return Gn(this.a)},Hn.prototype.credential=function(c,f){var v;if(!(v=bt(c)?{idToken:c.idToken||null,accessToken:c.accessToken||null,nonce:c.rawNonce||null}:{idToken:c||null,accessToken:f||null}).idToken&&!v.accessToken)throw new Q("argument-error","credential failed: must provide the ID token and/or the access token.");return new Xo(this.providerId,v,this.providerId)},pt(yu,Hn),Ye(yu,"PROVIDER_ID","facebook.com"),Ye(yu,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),pt(_u,Hn),Ye(_u,"PROVIDER_ID","github.com"),Ye(_u,"GITHUB_SIGN_IN_METHOD","github.com"),pt(Ot,Hn),Ye(Ot,"PROVIDER_ID","google.com"),Ye(Ot,"GOOGLE_SIGN_IN_METHOD","google.com"),pt(xa,Ma),Ye(xa,"PROVIDER_ID","twitter.com"),Ye(xa,"TWITTER_SIGN_IN_METHOD","twitter.com"),Ra.prototype.ka=function(c){return this.signInMethod==kn.EMAIL_LINK_SIGN_IN_METHOD?un(c,ah,{email:this.a,oobCode:this.f}):un(c,Uf,{email:this.a,password:this.f})},Ra.prototype.b=function(c,f){return this.signInMethod==kn.EMAIL_LINK_SIGN_IN_METHOD?un(c,uh,{idToken:f,email:this.a,oobCode:this.f}):un(c,jl,{idToken:f,email:this.a,password:this.f})},Ra.prototype.c=function(c,f){return vr(this.ka(c),f)},Ra.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Le(kn,{PROVIDER_ID:"password"}),Le(kn,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Le(kn,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Zn.prototype.ka=function(c){return c.gb(_c(this))},Zn.prototype.b=function(c,f){var v=_c(this);return v.idToken=f,un(c,Hf,v)},Zn.prototype.c=function(c,f){var v=_c(this);return v.operation="REAUTH",vr(c=un(c,hm,v),f)},Zn.prototype.w=function(){var c={providerId:"phone"};return this.a.fb&&(c.verificationId=this.a.fb),this.a.eb&&(c.verificationCode=this.a.eb),this.a.La&&(c.temporaryProof=this.a.La),this.a.ea&&(c.phoneNumber=this.a.ea),c},Br.prototype.gb=function(c,f){var v=this.a.a;return Qe(f.verify()).then(function(w){if("string"!=typeof w)throw new Q("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"===f.type){var N,D=bt(c)?c.session:null,k=bt(c)?c.phoneNumber:c;return N=D&&D.type==yc?D.Ha().then(function(j){return function ry(c,f){return un(c,cy,f).then(function(v){return v.phoneSessionInfo.sessionInfo})}(v,{idToken:j,phoneEnrollmentInfo:{phoneNumber:k,recaptchaToken:w}})}):D&&D.type==Yo?D.Ha().then(function(j){return function iy(c,f){return un(c,lm,f).then(function(v){return v.phoneResponseInfo.sessionInfo})}(v,{mfaPendingCredential:j,mfaEnrollmentId:c.multiFactorHint&&c.multiFactorHint.uid||c.multiFactorUid,phoneSignInInfo:{recaptchaToken:w}})}):function sa(c,f){return un(c,jf,f)}(v,{phoneNumber:k,recaptchaToken:w}),N.then(function(j){return"function"==typeof f.reset&&f.reset(),j},function(j){throw"function"==typeof f.reset&&f.reset(),j})}throw new Q("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')})},Le(Br,{PROVIDER_ID:"phone"}),Le(Br,{PHONE_SIGN_IN_METHOD:"phone"}),gn.prototype.getUid=function(){var c=[];return c.push(this.c),this.b&&c.push(this.b),this.f&&c.push(this.f),this.h&&c.push(this.h),c.join("-")},gn.prototype.T=function(){return this.h},gn.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var bc,em=null;function Ol(c){var f="unauthorized-domain",v=void 0,w=vi(c);c=w.a,"chrome-extension"==(w=w.c)?v=Zu("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",c):"http"==w||"https"==w?v=Zu("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",c):f="operation-not-supported-in-this-environment",Q.call(this,f,v)}function wu(c,f,v){Q.call(this,c,v),(c=f||{}).Kb&&Ye(this,"email",c.Kb),c.ea&&Ye(this,"phoneNumber",c.ea),c.credential&&Ye(this,"credential",c.credential),c.$b&&Ye(this,"tenantId",c.$b)}function ra(c){if(c.code){var f=c.code||"";0==f.indexOf(Jn)&&(f=f.substring(Jn.length));var v={credential:Qr(c),$b:c.tenantId};if(c.email)v.Kb=c.email;else if(c.phoneNumber)v.ea=c.phoneNumber;else if(!v.credential)return new Q(f,c.message||void 0);return new wu(f,v,c.message)}return null}function Lo(){}function wc(){}function Nl(c){if(!c.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var f=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],v=0;v<f.length;v++){var w=f[v];try{return new ActiveXObject(w),c.f=w}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return c.f}function Ec(){}function nm(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=Xe(this.qc,this),this.a.onerror=Xe(this.Tb,this),this.a.onprogress=Xe(this.rc,this),this.a.ontimeout=Xe(this.vc,this)}function Mf(c,f){c.readyState=f,c.onreadystatechange&&c.onreadystatechange()}function rm(c,f,v){this.reset(c,f,v,void 0,void 0)}function Eu(c){this.f=c,this.b=this.c=this.a=null}function Yd(c,f){this.name=c,this.value=f}pt(Ol,Q),pt(wu,Q),wu.prototype.w=function(){var c={code:this.code,message:this.message};this.email&&(c.email=this.email),this.phoneNumber&&(c.phoneNumber=this.phoneNumber),this.tenantId&&(c.tenantId=this.tenantId);var f=this.credential&&this.credential.w();return f&&se(c,f),c},wu.prototype.toJSON=function(){return this.w()},Lo.prototype.c=null,pt(wc,Lo),wc.prototype.a=function(){var c=Nl(this);return c?new ActiveXObject(c):new XMLHttpRequest},wc.prototype.b=function(){var c={};return Nl(this)&&(c[0]=!0,c[1]=!0),c},bc=new wc,pt(Ec,Lo),Ec.prototype.a=function(){var c=new XMLHttpRequest;if("withCredentials"in c)return c;if(typeof XDomainRequest<"u")return new nm;throw Error("Unsupported browser")},Ec.prototype.b=function(){return{}},(I=nm.prototype).open=function(c,f,v){if(null!=v&&!v)throw Error("Only async requests are supported.");this.a.open(c,f)},I.send=function(c){if(c){if("string"!=typeof c)throw Error("Only string data is supported");this.a.send(c)}else this.a.send()},I.abort=function(){this.a.abort()},I.setRequestHeader=function(){},I.getResponseHeader=function(c){return"content-type"==c.toLowerCase()?this.a.contentType:""},I.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Mf(this,4)},I.Tb=function(){this.status=500,this.response=this.responseText="",Mf(this,4)},I.vc=function(){this.Tb()},I.rc=function(){this.status=200,Mf(this,1)},I.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},rm.prototype.a=null,rm.prototype.reset=function(c,f,v,w,D){w||Ki(),delete this.a},Yd.prototype.toString=function(){return this.name};var ai=new Yd("SEVERE",1e3),Cc=new Yd("WARNING",900),ty=new Yd("CONFIG",700),Zd=new Yd("FINE",500);function ks(c){return c.c?c.c:c.a?ks(c.a):(Ne("Root logger has no level set."),null)}Eu.prototype.log=function(c,f,v){if(c.value>=ks(this).value)for(Ft(f)&&(f=f()),c=new rm(c,String(f),this.f),v&&(c.a=v),v=this;v;)v=v.a};var xf={},Rf=null;function Cu(c){var f;if(Rf||(Rf=new Eu(""),xf[""]=Rf,Rf.c=ty),!(f=xf[c])){f=new Eu(c);var v=c.lastIndexOf("."),w=c.substr(v+1);(v=Cu(c.substr(0,v))).b||(v.b={}),v.b[w]=f,f.a=v,xf[c]=f}return f}function Bi(c,f){c&&c.log(Zd,f,void 0)}function Xd(c){this.f=c}function Du(c){Wr.call(this),this.u=c,this.h=void 0,this.readyState=Su,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Cu("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}pt(Xd,Lo),Xd.prototype.a=function(){return new Du(this.f)},Xd.prototype.b=function(c){return function(){return c}}({}),pt(Du,Wr);var Su=0;function Pl(c){c.c.read().then(c.pc.bind(c)).catch(c.Va.bind(c))}function Qd(c){c.readyState=4,c.g=null,c.c=null,c.m=null,Dc(c)}function Dc(c){c.onreadystatechange&&c.onreadystatechange.call(c)}function Sc(c){Wr.call(this),this.headers=new We,this.D=c||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=im,this.u=this.S=!1}(I=Du.prototype).open=function(c,f){if(this.readyState!=Su)throw this.abort(),Error("Error reopening a connection");this.s=c,this.f=f,this.readyState=1,Dc(this)},I.send=function(c){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var f={headers:this.l,method:this.s,credentials:this.h,cache:void 0};c&&(f.body=c),this.u.fetch(new Request(this.f,f)).then(this.uc.bind(this),this.Va.bind(this))},I.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Qd(this)),this.readyState=Su},I.uc=function(c){this.a&&(this.g=c,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=c.headers,this.readyState=2,Dc(this)),this.a&&(this.readyState=3,Dc(this),this.a&&("arraybuffer"===this.responseType?c.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof q.ReadableStream<"u"&&"body"in c?(this.response=this.responseText="",this.c=c.body.getReader(),this.m=new TextDecoder,Pl(this)):c.text().then(this.tc.bind(this),this.Va.bind(this)))))},I.pc=function(c){if(this.a){var f=this.m.decode(c.value?c.value:new Uint8Array(0),{stream:!c.done});f&&(this.response=this.responseText+=f),c.done?Qd(this):Dc(this),3==this.readyState&&Pl(this)}},I.tc=function(c){this.a&&(this.response=this.responseText=c,Qd(this))},I.sc=function(c){this.a&&(this.response=c,Qd(this))},I.Va=function(c){var f=this.i;f&&f.log(Cc,"Failed to fetch url "+this.f,c instanceof Error?c:Error(c)),this.a&&Qd(this)},I.setRequestHeader=function(c,f){this.l.append(c,f)},I.getResponseHeader=function(c){return this.b?this.b.get(c.toLowerCase())||"":((c=this.i)&&c.log(Cc,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},I.getAllResponseHeaders=function(){if(!this.b){var c=this.i;return c&&c.log(Cc,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}c=[];for(var f=this.b.entries(),v=f.next();!v.done;)c.push((v=v.value)[0]+": "+v[1]),v=f.next();return c.join("\r\n")},Object.defineProperty(Du.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(c){this.h=c?"include":"same-origin"}}),pt(Sc,Wr);var im="";Sc.prototype.b=Cu("goog.net.XhrIo");var Os=/^https?$/i,xg=["POST","PUT"];function Ic(c){return"content-type"==c.toLowerCase()}function Oa(c,f){c.c=!1,c.a&&(c.f=!0,c.a.abort(),c.f=!1),c.h=f,Of(c),Jd(c)}function Of(c){c.J||(c.J=!0,c.dispatchEvent("complete"),c.dispatchEvent("error"))}function Rg(c){if(c.c&&typeof ce<"u")if(c.C[1]&&4==ji(c)&&2==eh(c))Bi(c.b,jr(c,"Local request error detected and ignored"));else if(c.i&&4==ji(c))Hp(c.Wb,0,c);else if(c.dispatchEvent("readystatechange"),4==ji(c)){Bi(c.b,jr(c,"Request complete")),c.c=!1;try{var w,f=eh(c);e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}if(!(w=v)){var D;if(D=0===f){var k=String(c.l).match(si)[1]||null;if(!k&&q.self&&q.self.location){var N=q.self.location.protocol;k=N.substr(0,N.length-1)}D=!Os.test(k?k.toLowerCase():"")}w=D}if(w)c.dispatchEvent("complete"),c.dispatchEvent("success");else{try{var j=2<ji(c)?c.a.statusText:""}catch(fe){Bi(c.b,"Can not get status: "+fe.message),j=""}c.h=j+" ["+eh(c)+"]",Of(c)}}finally{Jd(c)}}}function Jd(c,f){if(c.a){Nf(c);var v=c.a,w=c.C[0]?Pe:null;c.a=null,c.C=null,f||c.dispatchEvent("ready");try{v.onreadystatechange=w}catch(D){(c=c.b)&&c.log(ai,"Problem encountered resetting onreadystatechange: "+D.message,void 0)}}}function Nf(c){c.a&&c.u&&(c.a.ontimeout=null),c.s&&(q.clearTimeout(c.s),c.s=null)}function ji(c){return c.a?c.a.readyState:0}function eh(c){try{return 2<ji(c)?c.a.status:-1}catch{return-1}}function jr(c,f){return f+" ["+c.P+" "+c.l+" "+eh(c)+"]"}function Vo(c){var f=wo;this.g=[],this.u=f,this.s=c||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Ei(c,f,v){c.a=!0,c.c=v,c.f=!f,ui(c)}function Qo(c){if(c.a){if(!c.v)throw new Xn(c);c.v=!1}}function yr(c,f,v,w){c.g.push([f,v,w]),c.a&&ui(c)}function Og(c){return en(c.g,function(f){return Ft(f[1])})}function ui(c){if(c.h&&c.a&&Og(c)){var f=c.h,v=dr[f];v&&(q.clearTimeout(v.a),delete dr[f]),c.h=0}c.b&&(c.b.l--,delete c.b),f=c.c;for(var w=v=!1;c.g.length&&!c.i;){var D=c.g.shift(),k=D[0],N=D[1];if(D=D[2],k=c.f?N:k)try{var j=k.call(D||c.s,f);void 0!==j&&(c.f=c.f&&(j==f||j instanceof Error),c.c=f=j),(ke(f)||"function"==typeof q.Promise&&f instanceof q.Promise)&&(w=!0,c.i=!0)}catch(fe){f=fe,c.f=!0,Og(c)||(v=!0)}}c.c=f,w&&(j=Xe(c.m,c,!0),w=Xe(c.m,c,!1),f instanceof Vo?(yr(f,j,w),f.C=!0):f.then(j,w)),v&&(f=new Ui(f),dr[f.a]=f,c.h=f.a)}function Xn(){Se.call(this)}function bo(){Se.call(this)}function Ui(c){this.a=q.setTimeout(Xe(this.c,this),0),this.b=c}(I=Sc.prototype).Ma=function(){typeof ce<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Bi(this.b,jr(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},I.abort=function(){this.a&&this.c&&(Bi(this.b,jr(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Jd(this))},I.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Jd(this,!0)),Sc.bb.Da.call(this)},I.Wb=function(){this.ya||(this.N||this.i||this.f?Rg(this):this.Jc())},I.Jc=function(){Rg(this)},I.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case im:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var c=this.b;return c&&c.log(ai,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(f){return Bi(this.b,"Can not get response: "+f.message),null}},Vo.prototype.cancel=function(c){if(this.a)this.c instanceof Vo&&this.c.cancel();else{if(this.b){var f=this.b;delete this.b,c?f.cancel(c):(f.l--,0>=f.l&&f.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(c=new bo(this),Qo(this),Ei(this,!1,c))}},Vo.prototype.m=function(c,f){this.i=!1,Ei(this,c,f)},Vo.prototype.then=function(c,f,v){var w,D,k=new ot(function(N,j){w=N,D=j});return yr(this,w,function(N){N instanceof bo?k.cancel():D(N)}),k.then(c,f,v)},Vo.prototype.$goog_Thenable=!0,pt(Xn,Se),Xn.prototype.message="Deferred has already fired",Xn.prototype.name="AlreadyCalledError",pt(bo,Se),bo.prototype.message="Deferred was canceled",bo.prototype.name="CanceledError",Ui.prototype.c=function(){throw delete dr[this.a],this.b};var dr={};function Ur(c){var f={},v=f.document||document,w=gt(c).toString(),D=Ea(document,"SCRIPT"),k={Xb:D,Ma:void 0},N=new Vo(k),j=null,fe=null!=f.timeout?f.timeout:5e3;return 0<fe&&(j=window.setTimeout(function(){oa(D,!0);var a=new sm(Fl,"Timeout reached for loading script "+w);Qo(N),Ei(N,!1,a)},fe),k.Ma=j),D.onload=D.onreadystatechange=function(){D.readyState&&"loaded"!=D.readyState&&"complete"!=D.readyState||(oa(D,f.xd||!1,j),Qo(N),Ei(N,!0,null))},D.onerror=function(){oa(D,!0,j);var a=new sm(Iu,"Error while loading script "+w);Qo(N),Ei(N,!1,a)},se(k=f.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ff(D,k),function yn(c,f){X(c,"HTMLScriptElement"),c.src=gt(f),(f=c.ownerDocument&&c.ownerDocument.defaultView)&&f!=q?f=Me(f.document):(null===He&&(He=Me(q.document)),f=He),f&&c.setAttribute("nonce",f)}(D,c),function Jo(c){var f;return(f=(c||document).getElementsByTagName("HEAD"))&&0!=f.length?f[0]:c.documentElement}(v).appendChild(D),N}function wo(){if(this&&this.Xb){var c=this.Xb;c&&"SCRIPT"==c.tagName&&oa(c,!0,this.Ma)}}function oa(c,f,v){null!=v&&q.clearTimeout(v),c.onload=Pe,c.onerror=Pe,c.onreadystatechange=Pe,f&&window.setTimeout(function(){c&&c.parentNode&&c.parentNode.removeChild(c)},0)}var Iu=0,Fl=1;function sm(c,f){var v="Jsloader error (code #"+c+")";f&&(v+=": "+f),Se.call(this,v),this.code=c}function th(c){this.f=c}function sr(c,f,v){if(this.c=c,this.l=(c=f||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=c.secureTokenTimeout||nh,this.g=G(c.secureTokenHeaders||q_),this.h=c.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=c.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=c.firebaseTimeout||Pf,this.a=G(c.firebaseHeaders||Ps),v&&(this.a["X-Client-Version"]=v,this.g["X-Client-Version"]=v),v="Node"==Ce(),!(v=q.XMLHttpRequest||v&&_e.Z.INTERNAL.node&&_e.Z.INTERNAL.node.XMLHttpRequest)&&!ki())throw new Q("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=ki()?new Xd(self):mr()?new th(v):new Ec,this.b=null}pt(sm,Se),pt(th,Lo),th.prototype.a=function(){return new this.f},th.prototype.b=function(){return{}};var Te,Ns="idToken",nh=new Wo(3e4,6e4),q_={"Content-Type":"application/x-www-form-urlencoded"},Pf=new Wo(3e4,6e4),Ps={"Content-Type":"application/json"};function ny(c,f){f?c.a["X-Firebase-Locale"]=f:delete c.a["X-Firebase-Locale"]}function Na(c,f){f&&(c.l=Ir("https://securetoken.googleapis.com/v1/token",f),c.h=Ir("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",f),c.i=Ir("https://identitytoolkit.googleapis.com/v2/",f))}function Ir(c,f){return c=vi(c),f=vi(f.url),c.f=c.a+c.f,gi(c,f.c),c.a=f.a,cu(c,f.g),c.toString()}function Ff(c,f){f?(c.a["X-Client-Version"]=f,c.g["X-Client-Version"]=f):(delete c.a["X-Client-Version"],delete c.g["X-Client-Version"])}function Tc(c,f,v,w,D,k,N){(function $p(){var c=_i();return!((c=ct(c)!=tt?null:(c=c.match(/\sChrome\/(\d+)/i))&&2==c.length?parseInt(c[1],10):null)&&30>c||ko&&qo&&!(9<qo))})()||ki()?c=Xe(c.u,c):(Te||(Te=new ot(function(j,fe){!function rh(c,f){((window.gapi||{}).client||{}).request?c():(q[no]=function(){((window.gapi||{}).client||{}).request?c():f(Error("CORS_UNSUPPORTED"))},function nr(c,f){yr(c,null,f,void 0)}(Ur(pi(Eo,{onload:no})),function(){f(Error("CORS_UNSUPPORTED"))}))}(j,fe)})),c=Xe(c.s,c)),c(f,v,w,D,k,N)}sr.prototype.T=function(){return this.b},sr.prototype.u=function(c,f,v,w,D,k){if(ki()&&(typeof q.fetch>"u"||typeof q.Headers>"u"||typeof q.Request>"u"))throw new Q("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var N=new Sc(this.f);if(k){N.g=Math.max(0,k);var j=setTimeout(function(){N.dispatchEvent("timeout")},k)}vg(N,"complete",function(){j&&clearTimeout(j);var fe=null;try{fe=JSON.parse(function kg(c){try{return c.a?c.a.responseText:""}catch(f){return Bi(c.b,"Can not get responseText: "+f.message),""}}(this))||null}catch{fe=null}f&&f(fe)}),kt(N,"ready",function(){j&&clearTimeout(j),tr(this)}),kt(N,"timeout",function(){j&&clearTimeout(j),tr(this),f&&f(null)}),function kf(c,f,v,w,D){if(c.a)throw Error("[goog.net.XhrIo] Object is active with another request="+c.l+"; newUri="+f);v=v?v.toUpperCase():"GET",c.l=f,c.h="",c.P=v,c.J=!1,c.c=!0,c.a=c.D?c.D.a():bc.a(),c.C=function tm(c){return c.c||(c.c=c.b())}(c.D?c.D:bc),c.a.onreadystatechange=Xe(c.Wb,c);try{Bi(c.b,jr(c,"Opening Xhr")),c.N=!0,c.a.open(v,String(f),!0),c.N=!1}catch(N){return Bi(c.b,jr(c,"Error opening Xhr: "+N.message)),void Oa(c,N)}f=w||"";var k=new We(c.headers);D&&function zp(c,f){if(c.forEach&&"function"==typeof c.forEach)c.forEach(f,void 0);else if(Rt(c)||"string"==typeof c)Lt(c,f,void 0);else for(var v=yg(c),w=Bn(c),D=w.length,k=0;k<D;k++)f.call(void 0,w[k],v&&v[k],c)}(D,function(N,j){k.set(j,N)}),D=function fi(c){e:{for(var f=Ic,v=c.length,w="string"==typeof c?c.split(""):c,D=0;D<v;D++)if(D in w&&f.call(void 0,w[D],D,c)){f=D;break e}f=-1}return 0>f?null:"string"==typeof c?c.charAt(f):c[f]}(k.Y()),w=q.FormData&&f instanceof q.FormData,!Rn(xg,v)||D||w||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),k.forEach(function(N,j){this.a.setRequestHeader(j,N)},c),c.m&&(c.a.responseType=c.m),"withCredentials"in c.a&&c.a.withCredentials!==c.S&&(c.a.withCredentials=c.S);try{Nf(c),0<c.g&&(c.u=function om(c){return ko&&Mi(9)&&"number"==typeof c.timeout&&void 0!==c.ontimeout}(c.a),Bi(c.b,jr(c,"Will abort after "+c.g+"ms if incomplete, xhr2 "+c.u)),c.u?(c.a.timeout=c.g,c.a.ontimeout=Xe(c.Ma,c)):c.s=Hp(c.Ma,c.g,c)),Bi(c.b,jr(c,"Sending request")),c.i=!0,c.a.send(f),c.i=!1}catch(N){Bi(c.b,jr(c,"Send error: "+N.message)),Oa(c,N)}}(N,c,v,w,D)};var Eo=new Ae(mn,"https://apis.google.com/js/client.js?onload=%{onload}"),no="__fcb"+Math.floor(1e6*Math.random()).toString();function Bo(c){if("string"!=typeof(c=c.email)||!tw.test(c))throw new Q("invalid-email")}function am(c){"email"in c&&Bo(c)}function ci(c){if(!c[Ns])throw c.mfaPendingCredential?new Q("multi-factor-auth-required",null,G(c)):new Q("internal-error")}function Hr(c){if(c.phoneNumber||c.temporaryProof){if(!c.phoneNumber||!c.temporaryProof)throw new Q("internal-error")}else{if(!c.sessionInfo)throw new Q("missing-verification-id");if(!c.code)throw new Q("missing-verification-code")}}sr.prototype.s=function(c,f,v,w,D){var k=this;Te.then(function(){window.gapi.client.setApiKey(k.c);var N=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:c,method:v,body:w,headers:D,authType:"none",callback:function(j){window.gapi.auth.setToken(N),f&&f(j)}})}).o(function(N){f&&f({error:{message:N&&N.message||"CORS_UNSUPPORTED"}})})},sr.prototype.Ab=function(){return un(this,Bg,{})},sr.prototype.Cb=function(c,f){return un(this,Rc,{idToken:c,email:f})},sr.prototype.Db=function(c,f){return un(this,jl,{idToken:c,password:f})};var Tu={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function oh(c){if(!c.phoneVerificationInfo)throw new Q("internal-error");if(!c.phoneVerificationInfo.sessionInfo)throw new Q("missing-verification-id");if(!c.phoneVerificationInfo.code)throw new Q("missing-verification-code")}function Lf(c){if(!c.requestUri||!c.sessionId&&!c.postBody&&!c.pendingToken)throw new Q("internal-error")}function um(c,f){return f.oauthIdToken&&f.providerId&&0==f.providerId.indexOf("oidc.")&&!f.pendingToken&&(c.sessionId?f.nonce=c.sessionId:c.postBody&&Bd(c=new yo(c.postBody),"nonce")&&(f.nonce=c.get("nonce"))),f}function Vf(c){var f=null;if(c.needConfirmation?(c.code="account-exists-with-different-credential",f=ra(c)):"FEDERATED_USER_ID_ALREADY_LINKED"==c.errorMessage?(c.code="credential-already-in-use",f=ra(c)):"EMAIL_EXISTS"==c.errorMessage?(c.code="email-already-in-use",f=ra(c)):c.errorMessage&&(f=Ug(c.errorMessage)),f)throw f;ci(c)}function cm(c,f){return f.returnIdpCredential=!0,un(c,kc,f)}function Vl(c,f){return f.returnIdpCredential=!0,un(c,W_,f)}function Ac(c,f){return f.returnIdpCredential=!0,f.autoCreate=!1,un(c,ch,f)}function es(c){if(!c.oobCode)throw new Q("invalid-action-code")}(I=sr.prototype).Eb=function(c,f){var v={idToken:c},w=[];return $o(Tu,function(D,k){var N=f[k];null===N?w.push(D):k in f&&(v[k]=N)}),w.length&&(v.deleteAttribute=w),un(this,Rc,v)},I.wb=function(c,f){return se(c={requestType:"PASSWORD_RESET",email:c},f),un(this,Vg,c)},I.xb=function(c,f){return se(c={requestType:"EMAIL_SIGNIN",email:c},f),un(this,ts,c)},I.vb=function(c,f){return se(c={requestType:"VERIFY_EMAIL",idToken:c},f),un(this,xc,c)},I.Fb=function(c,f,v){return se(c={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:c,newEmail:f},v),un(this,sy,c)},I.gb=function(c){return un(this,dm,c)},I.ob=function(c,f){return un(this,uy,{oobCode:c,newPassword:f})},I.Sa=function(c){return un(this,Bf,{oobCode:c})},I.kb=function(c){return un(this,Au,{oobCode:c})};var Au={endpoint:"setAccountInfo",A:es,Z:"email",B:!0},Bf={endpoint:"resetPassword",A:es,G:function(c){var f=c.requestType;if(!f||!c.email&&"EMAIL_SIGNIN"!=f&&"VERIFY_AND_CHANGE_EMAIL"!=f)throw new Q("internal-error")},B:!0},sh={endpoint:"signupNewUser",A:function(c){if(Bo(c),!c.password)throw new Q("weak-password")},G:ci,V:!0,B:!0},Lg={endpoint:"createAuthUri",B:!0},Pa={endpoint:"deleteAccount",O:["idToken"]},Mu={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(c){if(!Array.isArray(c.deleteProvider))throw new Q("internal-error")}},ah={endpoint:"emailLinkSignin",O:["email","oobCode"],A:Bo,G:ci,V:!0,B:!0},uh={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:Bo,G:ci,V:!0},oy={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:oh,G:ci,B:!0,Na:!0},Bl={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:oh,G:ci,B:!0,Na:!0},Mc={endpoint:"getAccountInfo"},ts={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(c){if("EMAIL_SIGNIN"!=c.requestType)throw new Q("internal-error");Bo(c)},Z:"email",B:!0},xc={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(c){if("VERIFY_EMAIL"!=c.requestType)throw new Q("internal-error")},Z:"email",B:!0},sy={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(c){if("VERIFY_AND_CHANGE_EMAIL"!=c.requestType)throw new Q("internal-error")},Z:"email",B:!0},Vg={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(c){if("PASSWORD_RESET"!=c.requestType)throw new Q("internal-error");Bo(c)},Z:"email",B:!0},ay={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},G_={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(c){if(!c.recaptchaSiteKey)throw new Q("internal-error")}},uy={endpoint:"resetPassword",A:es,Z:"email",B:!0},jf={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Rc={endpoint:"setAccountInfo",O:["idToken"],A:am,V:!0},jl={endpoint:"setAccountInfo",O:["idToken"],A:function(c){if(am(c),!c.password)throw new Q("weak-password")},G:ci,V:!0},Bg={endpoint:"signupNewUser",G:ci,V:!0,B:!0},cy={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(c){if(!c.phoneEnrollmentInfo)throw new Q("internal-error");if(!c.phoneEnrollmentInfo.phoneNumber)throw new Q("missing-phone-number");if(!c.phoneEnrollmentInfo.recaptchaToken)throw new Q("missing-app-credential")},G:function(c){if(!c.phoneSessionInfo||!c.phoneSessionInfo.sessionInfo)throw new Q("internal-error")},B:!0,Na:!0},lm={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(c){if(!c.phoneSignInInfo||!c.phoneSignInInfo.recaptchaToken)throw new Q("missing-app-credential")},G:function(c){if(!c.phoneResponseInfo||!c.phoneResponseInfo.sessionInfo)throw new Q("internal-error")},B:!0,Na:!0},kc={endpoint:"verifyAssertion",A:Lf,Za:um,G:Vf,V:!0,B:!0},ch={endpoint:"verifyAssertion",A:Lf,Za:um,G:function(c){if(c.errorMessage&&"USER_NOT_FOUND"==c.errorMessage)throw new Q("user-not-found");if(c.errorMessage)throw Ug(c.errorMessage);ci(c)},V:!0,B:!0},W_={endpoint:"verifyAssertion",A:function(c){if(Lf(c),!c.idToken)throw new Q("internal-error")},Za:um,G:Vf,V:!0},jg={endpoint:"verifyCustomToken",A:function(c){if(!c.token)throw new Q("invalid-custom-token")},G:ci,V:!0,B:!0},Uf={endpoint:"verifyPassword",A:function(c){if(Bo(c),!c.password)throw new Q("wrong-password")},G:ci,V:!0,B:!0},dm={endpoint:"verifyPhoneNumber",A:Hr,G:ci,B:!0},Hf={endpoint:"verifyPhoneNumber",A:function(c){if(!c.idToken)throw new Q("internal-error");Hr(c)},G:function(c){if(c.temporaryProof)throw c.code="credential-already-in-use",ra(c);ci(c)}},hm={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Hr,G:ci,B:!0},lh={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(c){if(!!c[Ns]^!!c.refreshToken)throw new Q("internal-error")},B:!0,Na:!0};function un(c,f,v){if(!function Cl(c,f){if(!f||!f.length)return!0;if(!c)return!1;for(var v=0;v<f.length;v++){var w=c[f[v]];if(null==w||""===w)return!1}return!0}(v,f.O))return Vn(new Q("internal-error"));var k,w=!!f.Na,D=f.Vb||"POST";return Qe(v).then(f.A).then(function(){return f.V&&(v.returnSecureToken=!0),f.B&&c.b&&typeof v.tenantId>"u"&&(v.tenantId=c.b),function Ll(c,f,v,w,D,k,N){var j=vi(f+v);or(j,"key",c.c),N&&or(j,"cb",Date.now().toString());var fe="GET"==w;if(fe)for(var a in D)D.hasOwnProperty(a)&&or(j,a,D[a]);return new ot(function(s,l){Tc(c,j.toString(),function(h){h?h.error?l(Hg(h,k||{})):s(h):l(new Q("network-request-failed"))},w,fe?void 0:Go(_g(D)),c.a,c.v.get())})}(c,w?c.i:c.h,f.endpoint,D,v,f.Ib,f.mb||!1)}).then(function(N){return k=N,f.Za?f.Za(v,k):k}).then(f.G).then(function(){if(!f.Z)return k;if(!(f.Z in k))throw new Q("internal-error");return k[f.Z]})}function Ug(c){return Hg({error:{errors:[{message:c}],code:400,message:c}})}function Hg(c,f){var v=(c.error&&c.error.errors&&c.error.errors[0]||{}).reason||"",w={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(v=w[v]?new Q(w[v]):null)return v;for(var D in v=c.error&&c.error.message||"",se(w={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},f||{}),f=(f=v.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<f.length?f[1]:void 0,w)if(0===v.indexOf(D))return new Q(w[D],f);return!f&&c&&(f=ea(c)),new Q("internal-error",f)}function ly(c){this.b=c,this.a=null,this.sb=function K_(c){return function Co(){return Ul||(Ul=new ot(function(c,f){function v(){As(),nt("gapi.load")("gapi.iframes",{callback:c,ontimeout:function(){As(),f(Error("Network Error"))},timeout:pm.get()})}if(nt("gapi.iframes.Iframe"))c();else if(nt("gapi.load"))v();else{var w="__iframefcb"+Math.floor(1e6*Math.random()).toString();q[w]=function(){nt("gapi.load")?v():f(Error("Network Error"))},Qe(Ur(w=pi(fm,{onload:w}))).o(function(){f(Error("Network Error"))})}}).o(function(c){throw Ul=null,c}))}().then(function(){return new ot(function(f,v){nt("gapi.iframes.getContext")().open({where:document.body,url:c.b,messageHandlersFilter:nt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(w){function D(){clearTimeout(k),f()}c.a=w,c.a.restyle({setHideOnLeave:!1});var k=setTimeout(function(){v(Error("Network Error"))},$g.get());w.ping(D).then(D,function(){v(Error("Network Error"))})})})})}(this)}var fm=new Ae(mn,"https://apis.google.com/js/api.js?onload=%{onload}"),pm=new Wo(3e4,6e4),$g=new Wo(5e3,15e3),Ul=null;function Oc(c,f,v,w){this.l=c,this.h=f,this.i=v,this.g=w,this.f=null,c=this.g?Dr((c=vi(this.g.url)).c,c.a,c.g,"/emulator/auth/iframe"):Dr("https",this.l,null,"/__/auth/iframe"),this.a=c,or(this.a,"apiKey",this.h),or(this.a,"appName",this.i),this.b=null,this.c=[]}function xu(c,f,v,w,D,k){this.u=c,this.s=f,this.c=v,this.m=w,this.v=k,this.i=this.g=this.l=null,this.a=D,this.h=this.f=null}function Hl(c){try{return _e.Z.app(c).auth().Ga()}catch{return[]}}function $f(c,f,v,w,D,k){this.s=c,this.g=f,this.b=v,this.f=k,this.c=w||null,this.i=D||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function dh(c){var f=Bt();return function Pg(c){return un(c,ay,{}).then(function(f){return f.authorizedDomains||[]})}(c).then(function(v){e:{var w=vi(f),D=w.c;w=w.a;for(var k=0;k<v.length;k++){var N=v[k],j=w,fe=D;if(0==N.indexOf("chrome-extension://")?j=vi(N).a==j&&"chrome-extension"==fe:"http"!=fe&&"https"!=fe?j=!1:Ri.test(N)?j=j==N:(N=N.split(".").join("\\."),j=new RegExp("^(.+\\."+N+"|"+N+")$","i").test(j)),j){v=!0;break e}}v=!1}if(!v)throw new Ol(Bt())})}function qg(c){return c.m||(c.m=jn().then(function(){if(!c.u){var f=c.c,v=c.i,w=Hl(c.b),D=new Oc(c.s,c.g,c.b,c.f);D.f=f,D.b=v,D.c=Gn(w||[]),c.u=D.toString()}c.v=new ly(c.u),function Wg(c){if(!c.v)throw Error("IfcHandler must be initialized!");!function zf(c,f){c.sb.then(function(){c.a.register("authEvent",f,nt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(c.v,function(f){var v={};if(f&&f.authEvent){var w=!1;for(f=Mg(f.authEvent),v=0;v<c.h.length;v++)w=c.h[v](f)||w;return(v={}).status=w?"ACK":"ERROR",Qe(v)}return v.status="ERROR",Qe(v)})}(c)})),c.m}function Gg(c){return c.l||(c.C=c.c?Hd(c.c,Hl(c.b)):null,c.l=new sr(c.g,ge(c.i),c.C),c.f&&Na(c.l,c.f)),c.l}function hh(c,f,v,w,D,k,N,j,fe,a,s,l){return(c=new xu(c,f,v,w,D,l)).l=k,c.g=N,c.i=j,c.b=G(fe||null),c.f=a,c.zb(s).toString()}function Jr(c){if(this.a=c||_e.Z.INTERNAL.reactNative&&_e.Z.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Q("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function ro(c){this.b=c,this.a={},this.f=Xe(this.c,this)}Oc.prototype.toString=function(){return this.f?or(this.a,"v",this.f):Ji(this.a.b,"v"),this.b?or(this.a,"eid",this.b):Ji(this.a.b,"eid"),this.c.length?or(this.a,"fw",this.c.join(",")):Ji(this.a.b,"fw"),this.a.toString()},xu.prototype.zb=function(c){return this.h=c,this},xu.prototype.toString=function(){if(this.v){var c=vi(this.v.url);c=Dr(c.c,c.a,c.g,"/emulator/auth/handler")}else c=Dr("https",this.u,null,"/__/auth/handler");if(or(c,"apiKey",this.s),or(c,"appName",this.c),or(c,"authType",this.m),this.a.isOAuthProvider){var f=this.a;try{var v=_e.Z.app(this.c).auth().la()}catch{v=null}for(var w in f.pb=v,or(c,"providerId",this.a.providerId),f=_g((v=this.a).Jb))f[w]=f[w].toString();w=v.Qc,f=G(f);for(var D=0;D<w.length;D++){var k=w[D];k in f&&delete f[k]}v.qb&&v.pb&&!f[v.qb]&&(f[v.qb]=v.pb),W(f)||or(c,"customParameters",ea(f))}if("function"==typeof this.a.Rb&&(v=this.a.Rb()).length&&or(c,"scopes",v.join(",")),this.l?or(c,"redirectUrl",this.l):Ji(c.b,"redirectUrl"),this.g?or(c,"eventId",this.g):Ji(c.b,"eventId"),this.i?or(c,"v",this.i):Ji(c.b,"v"),this.b)for(var N in this.b)this.b.hasOwnProperty(N)&&!vo(c,N)&&or(c,N,this.b[N]);return this.h?or(c,"tid",this.h):Ji(c.b,"tid"),this.f?or(c,"eid",this.f):Ji(c.b,"eid"),(N=Hl(this.c)).length&&or(c,"fw",N.join(",")),c.toString()},(I=$f.prototype).Pb=function(c,f,v){var w=new Q("popup-closed-by-user"),D=new Q("web-storage-unsupported"),k=this,N=!1;return this.ma().then(function(){(function mm(c){var f={type:"webStorageSupport"};return qg(c).then(function(){return function zg(c,f){return c.sb.then(function(){return new ot(function(v){c.a.send(f.type,f,v,nt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(c.v,f)}).then(function(v){if(v&&v.length&&typeof v[0].webStorageSupport<"u")return v[0].webStorageSupport;throw Error()})})(k).then(function(j){j||(c&&Is(c),f(D),N=!0)})}).o(function(){}).then(function(){if(!N)return function wl(c){return new ot(function(f){return function v(){bl(2e3).then(function(){if(c&&!c.closed)return v();f()})}()})}(c)}).then(function(){if(!N)return bl(v).then(function(){f(w)})})},I.Yb=function(){var c=_i();return!zd(c)&&!qp(c)},I.Ub=function(){return!1},I.Nb=function(c,f,v,w,D,k,N,j){if(!c)return Vn(new Q("popup-blocked"));if(N&&!zd())return this.ma().o(function(a){Is(c),D(a)}),w(),Qe();this.a||(this.a=dh(Gg(this)));var fe=this;return this.a.then(function(){var a=fe.ma().o(function(s){throw Is(c),D(s),s});return w(),a}).then(function(){ka(v),N||vf(hh(fe.s,fe.g,fe.b,f,v,null,k,fe.c,void 0,fe.i,j,fe.f),c)}).o(function(a){throw"auth/network-request-failed"==a.code&&(fe.a=null),a})},I.Ob=function(c,f,v,w){this.a||(this.a=dh(Gg(this)));var D=this;return this.a.then(function(){ka(f),vf(hh(D.s,D.g,D.b,c,f,Bt(),v,D.c,void 0,D.i,w,D.f))}).o(function(k){throw"auth/network-request-failed"==k.code&&(D.a=null),k})},I.ma=function(){var c=this;return qg(this).then(function(){return c.v.sb}).o(function(){throw c.a=null,new Q("network-request-failed")})},I.ac=function(){return!0},I.Ea=function(c){this.h.push(c)},I.Ta=function(c){qn(this.h,function(f){return f==c})},(I=Jr.prototype).get=function(c){return Qe(this.a.getItem(c)).then(function(f){return f&&El(f)})},I.set=function(c,f){return Qe(this.a.setItem(c,ea(f)))},I.U=function(c){return Qe(this.a.removeItem(c))},I.ca=function(){},I.ia=function(){};var fh,qf=[];function Gf(c,f,v){W(c.a)&&c.b.addEventListener("message",c.f),typeof c.a[f]>"u"&&(c.a[f]=[]),c.a[f].push(v)}function Ci(c){this.a=c}function zl(c){this.c=c,this.b=!1,this.a=[]}function gm(c,f,v,w){var D,N,j,fe,k=v||{},a=null;if(c.b)return Vn(Error("connection_unavailable"));var s=w?800:50,l=typeof MessageChannel<"u"?new MessageChannel:null;return new ot(function(h,m){l?(D=Math.floor(Math.random()*Math.pow(10,20)).toString(),l.port1.start(),j=setTimeout(function(){m(Error("unsupported_event"))},s),c.a.push(a={messageChannel:l,onMessage:N=function(y){y.data.eventId===D&&("ack"===y.data.status?(clearTimeout(j),fe=setTimeout(function(){m(Error("timeout"))},3e3)):"done"===y.data.status?(clearTimeout(fe),typeof y.data.response<"u"?h(y.data.response):m(Error("unknown_error"))):(clearTimeout(j),clearTimeout(fe),m(Error("invalid_response"))))}}),l.port1.addEventListener("message",N),c.c.postMessage({eventType:f,eventId:D,data:k},[l.port2])):m(Error("connection_unavailable"))}).then(function(h){return zr(c,a),h}).o(function(h){throw zr(c,a),h})}function zr(c,f){if(f){var v=f.messageChannel;v&&(v.port1.removeEventListener("message",f.onMessage),v.port1.close()),qn(c.a,function(D){return D==f})}}function vm(){if(!_m())throw new Q("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=q.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var c=this;ki()&&self?(this.v=function Kg(){var c=ki()?self:null;if(Lt(qf,function(v){v.b==c&&(f=v)}),!f){var f=new ro(c);qf.push(f)}return f}(),Gf(this.v,"keyChanged",function(f,v){return Pc(c).then(function(w){return 0<w.length&&Lt(c.a,function(D){D(w)}),{keyProcessed:Rn(w,v.key)}})}),Gf(this.v,"ping",function(){return Qe(["keyChanged"])})):function _f(){var c=q.navigator;return c&&c.serviceWorker?Qe().then(function(){return c.serviceWorker.ready}).then(function(f){return f.active||null}).o(function(){return null}):Qe(null)}().then(function(f){(c.h=f)&&(c.g=new zl(new Ci(f)),gm(c.g,"ping",null,!0).then(function(v){v[0].fulfilled&&Rn(v[0].value,"keyChanged")&&(c.s=!0)}).o(function(){}))})}function Wf(c){return new ot(function(f,v){var w=c.m.open("firebaseLocalStorageDb",1);w.onerror=function(D){try{D.preventDefault()}catch{}v(Error(D.target.error))},w.onupgradeneeded=function(D){D=D.target.result;try{D.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(k){v(k)}},w.onsuccess=function(D){(D=D.target.result).objectStoreNames.contains("firebaseLocalStorage")?f(D):function ym(c){return new ot(function(f,v){var w=c.m.deleteDatabase("firebaseLocalStorageDb");w.onsuccess=function(){f()},w.onerror=function(D){v(Error(D.target.error))}})}(c).then(function(){return Wf(c)}).then(function(k){f(k)}).o(function(k){v(k)})}})}function ph(c){return c.i||(c.i=Wf(c)),c.i}function $l(c,f){var w=0;return new ot(function v(D,k){ph(c).then(f).then(D).o(function(N){if(!(3<++w))return ph(c).then(function(j){return j.close(),c.i=void 0,v(D,k)}).o(function(j){k(j)});k(N)})})}function _m(){try{return!!q.indexedDB}catch{return!1}}function Nc(c){return c.objectStore("firebaseLocalStorage")}function Fa(c,f){return c.transaction(["firebaseLocalStorage"],f?"readwrite":"readonly")}function La(c){return new ot(function(f,v){c.onsuccess=function(w){w&&w.target?f(w.target.result):f()},c.onerror=function(w){v(w.target.error)}})}function Yg(c,f){return c.g&&c.h&&function hu(){var c=q.navigator;return c&&c.serviceWorker&&c.serviceWorker.controller||null}()===c.h?gm(c.g,"keyChanged",{key:f},c.s).then(function(){}).o(function(){}):Qe()}function Pc(c){return ph(c).then(function(f){var v=Nc(Fa(f,!1));return v.getAll?La(v.getAll()):new ot(function(w,D){var k=[],N=v.openCursor();N.onsuccess=function(j){(j=j.target.result)?(k.push(j.value),j.continue()):w(k)},N.onerror=function(j){D(j.target.error)}})}).then(function(f){var v={},w=[];if(0==c.b){for(w=0;w<f.length;w++)v[f[w].fbase_key]=f[w].value;w=jd(c.c,v),c.c=v}return w})}function Zg(c){c.l&&c.l.cancel("STOP_EVENT"),c.f&&(clearTimeout(c.f),c.f=null)}function Kf(c){var f=this,v=null;this.a=[],this.type="indexedDB",this.c=c,this.b=Qe().then(function(){if(_m()){var w=Kt(),D="__sak"+w;return fh||(fh=new vm),(v=fh).set(D,w).then(function(){return v.get(D)}).then(function(k){if(k!==w)throw Error("indexedDB not supported!");return v.U(D)}).then(function(){return v}).o(function(){return f.c})}return f.c}).then(function(w){return f.type=w.type,w.ca(function(D){Lt(f.a,function(k){k(D)})}),w})}function Ru(){this.a={},this.type="inMemory"}function ku(){if(!function ql(){var c="Node"==Ce();if(!(c=Fs()||c&&_e.Z.INTERNAL.node&&_e.Z.INTERNAL.node.localStorage))return!1;try{return c.setItem("__sak","1"),c.removeItem("__sak"),!0}catch{return!1}}())throw"Node"==Ce()?new Q("internal-error","The LocalStorage compatibility library was not found."):new Q("web-storage-unsupported");this.a=Fs()||_e.Z.INTERNAL.node.localStorage,this.type="localStorage"}function Fs(){try{var c=q.localStorage,f=Kt();return c&&(c.setItem(f,"1"),c.removeItem(f)),c}catch{return null}}function mh(){this.type="nullStorage"}function gh(){if(!function hy(){var c="Node"==Ce();if(!(c=vh()||c&&_e.Z.INTERNAL.node&&_e.Z.INTERNAL.node.sessionStorage))return!1;try{return c.setItem("__sak","1"),c.removeItem("__sak"),!0}catch{return!1}}())throw"Node"==Ce()?new Q("internal-error","The SessionStorage compatibility library was not found."):new Q("web-storage-unsupported");this.a=vh()||_e.Z.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function vh(){try{var c=q.sessionStorage,f=Kt();return c&&(c.setItem(f,"1"),c.removeItem(f)),c}catch{return null}}function fy(){var c={};c.Browser=yh,c.Node=Gl,c.ReactNative=Yf,c.Worker=Wl,this.a=c[Ce()]}ro.prototype.c=function(c){var f=c.data.eventType,v=c.data.eventId,w=this.a[f];if(w&&0<w.length){c.ports[0].postMessage({status:"ack",eventId:v,eventType:f,response:null});var D=[];Lt(w,function(k){D.push(Qe().then(function(){return k(c.origin,c.data.data)}))}),M(D).then(function(k){var N=[];Lt(k,function(j){N.push({fulfilled:j.Qb,value:j.value,reason:j.reason?j.reason.message:void 0})}),Lt(N,function(j){for(var fe in j)typeof j[fe]>"u"&&delete j[fe]}),c.ports[0].postMessage({status:"done",eventId:v,eventType:f,response:N})})}},Ci.prototype.postMessage=function(c,f){this.a.postMessage(c,f)},zl.prototype.close=function(){for(;0<this.a.length;)zr(this,this.a[0]);this.b=!0},(I=vm.prototype).set=function(c,f){var v=this,w=!1;return $l(this,function(D){return La((D=Nc(Fa(D,!0))).get(c))}).then(function(D){return $l(v,function(k){if(k=Nc(Fa(k,!0)),D)return D.value=f,La(k.put(D));v.b++,w=!0;var N={};return N.fbase_key=c,N.value=f,La(k.add(N))})}).then(function(){return v.c[c]=f,Yg(v,c)}).oa(function(){w&&v.b--})},I.get=function(c){return $l(this,function(f){return La(Nc(Fa(f,!1)).get(c))}).then(function(f){return f&&f.value})},I.U=function(c){var f=this,v=!1;return $l(this,function(w){return v=!0,f.b++,La(Nc(Fa(w,!0)).delete(c))}).then(function(){return delete f.c[c],Yg(f,c)}).oa(function(){v&&f.b--})},I.ca=function(c){0==this.a.length&&function dy(c){Zg(c),function f(){c.f=setTimeout(function(){c.l=Pc(c).then(function(v){0<v.length&&Lt(c.a,function(w){w(v)})}).then(function(){f()}).o(function(v){"STOP_EVENT"!=v.message&&f()})},800)}()}(this),this.a.push(c)},I.ia=function(c){qn(this.a,function(f){return f==c}),0==this.a.length&&Zg(this)},(I=Kf.prototype).get=function(c){return this.b.then(function(f){return f.get(c)})},I.set=function(c,f){return this.b.then(function(v){return v.set(c,f)})},I.U=function(c){return this.b.then(function(f){return f.U(c)})},I.ca=function(c){this.a.push(c)},I.ia=function(c){qn(this.a,function(f){return f==c})},(I=Ru.prototype).get=function(c){return Qe(this.a[c])},I.set=function(c,f){return this.a[c]=f,Qe()},I.U=function(c){return delete this.a[c],Qe()},I.ca=function(){},I.ia=function(){},(I=ku.prototype).get=function(c){var f=this;return Qe().then(function(){return El(f.a.getItem(c))})},I.set=function(c,f){var v=this;return Qe().then(function(){var w=ea(f);null===w?v.U(c):v.a.setItem(c,w)})},I.U=function(c){var f=this;return Qe().then(function(){f.a.removeItem(c)})},I.ca=function(c){q.window&&mo(q.window,"storage",c)},I.ia=function(c){q.window&&fr(q.window,"storage",c)},(I=mh.prototype).get=function(){return Qe(null)},I.set=function(){return Qe()},I.U=function(){return Qe()},I.ca=function(){},I.ia=function(){},(I=gh.prototype).get=function(c){var f=this;return Qe().then(function(){return El(f.a.getItem(c))})},I.set=function(c,f){var v=this;return Qe().then(function(){var w=ea(f);null===w?v.U(c):v.a.setItem(c,w)})},I.U=function(c){var f=this;return Qe().then(function(){f.a.removeItem(c)})},I.ca=function(){},I.ia=function(){};var bm,_h,yh={F:ku,cb:gh},Gl={F:ku,cb:gh},Yf={F:Jr,cb:mh},Wl={F:ku,cb:mh},aa={rd:"local",NONE:"none",td:"session"};function Kl(){var c=!(qp(_i())||!Kr()),f=zd(),v=uc();this.m=c,this.h=f,this.l=v,this.a={},bm||(bm=new fy),c=bm;try{this.g=!ac()&&Vr()||!q.indexedDB?new c.a.F:new Kf(ki()?new Ru:new c.a.F)}catch{this.g=new Ru,this.h=!0}try{this.i=new c.a.cb}catch{this.i=new Ru}this.v=new Ru,this.f=Xe(this.Zb,this),this.b={}}function ns(){return _h||(_h=new Kl),_h}function ua(c,f){switch(f){case"session":return c.i;case"none":return c.v;default:return c.g}}function Fc(c,f){return"firebase:"+c.name+(f?":"+f:"")}function Vc(c,f,v){return v=Fc(f,v),"local"==f.F&&(c.b[v]=null),ua(c,f.F).U(v)}function Zf(c){c.c&&(clearInterval(c.c),c.c=null)}function wh(c){this.a=c,this.b=ns()}(I=Kl.prototype).get=function(c,f){return ua(this,c.F).get(Fc(c,f))},I.set=function(c,f,v){var w=Fc(c,v),D=this,k=ua(this,c.F);return k.set(w,f).then(function(){return k.get(w)}).then(function(N){"local"==c.F&&(D.b[w]=N)})},I.addListener=function(c,f,v){c=Fc(c,f),this.l&&(this.b[c]=q.localStorage.getItem(c)),W(this.a)&&(ua(this,"local").ca(this.f),this.h||(ac()||!Vr())&&q.indexedDB||!this.l||function bh(c){Zf(c),c.c=setInterval(function(){for(var f in c.a){var v=q.localStorage.getItem(f),w=c.b[f];v!=w&&(c.b[f]=v,v=new Er({type:"storage",key:f,target:window,oldValue:w,newValue:v,a:!0}),c.Zb(v))}},1e3)}(this)),this.a[c]||(this.a[c]=[]),this.a[c].push(v)},I.removeListener=function(c,f,v){c=Fc(c,f),this.a[c]&&(qn(this.a[c],function(w){return w==v}),0==this.a[c].length&&delete this.a[c]),W(this.a)&&(ua(this,"local").ia(this.f),Zf(this))},I.Zb=function(c){if(c&&c.g){var f=c.a.key;if(null==f)for(var v in this.a){var w=this.b[v];typeof w>"u"&&(w=null);var D=q.localStorage.getItem(v);D!==w&&(this.b[v]=D,this.nb(v))}else if(0==f.indexOf("firebase:")&&this.a[f]){if(typeof c.a.a<"u"?ua(this,"local").ia(this.f):Zf(this),this.m)if(v=q.localStorage.getItem(f),(w=c.a.newValue)!==v)null!==w?q.localStorage.setItem(f,w):q.localStorage.removeItem(f);else if(this.b[f]===w&&typeof c.a.a>"u")return;var k=this;v=function(){(typeof c.a.a<"u"||k.b[f]!==q.localStorage.getItem(f))&&(k.b[f]=q.localStorage.getItem(f),k.nb(f))},ko&&qo&&10==qo&&q.localStorage.getItem(f)!==c.a.newValue&&c.a.newValue!==c.a.oldValue?setTimeout(v,10):v()}}else Lt(c,Xe(this.nb,this))},I.nb=function(c){this.a[c]&&Lt(this.a[c],function(f){f()})};var Yl,Bc={name:"authEvent",F:"local"};function Qg(){this.a=ns()}function Eh(c,f){this.b=Ch,this.f=q.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=c,this.h=f,this.l=q.Int32Array?new Int32Array(64):Array(64),void 0===Yl&&(Yl=q.Int32Array?new Int32Array(Uc):Uc),this.reset()}pt(Eh,function Jg(){this.b=-1});for(var Ch=64,Va=Ch-1,jo=[],Xf=0;Xf<Va;Xf++)jo[Xf]=0;var Ba=pn(128,jo);function jc(c){for(var f=c.f,v=c.l,w=0,D=0;D<f.length;)v[w++]=f[D]<<24|f[D+1]<<16|f[D+2]<<8|f[D+3],D=4*w;for(f=16;64>f;f++){var k=(0|v[f-16])+(((D=0|v[f-15])>>>7|D<<25)^(D>>>18|D<<14)^D>>>3)|0,N=(0|v[f-7])+(((w=0|v[f-2])>>>17|w<<15)^(w>>>19|w<<13)^w>>>10)|0;v[f]=k+N|0}w=0|c.a[0],D=0|c.a[1];var j=0|c.a[2],fe=0|c.a[3],a=0|c.a[4],s=0|c.a[5],l=0|c.a[6];for(k=0|c.a[7],f=0;64>f;f++){var h=((w>>>2|w<<30)^(w>>>13|w<<19)^(w>>>22|w<<10))+(w&D^w&j^D&j)|0;N=(k=k+((a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7))|0)+((N=(N=a&s^~a&l)+(0|Yl[f])|0)+(0|v[f])|0)|0,k=l,l=s,s=a,a=fe+N|0,fe=j,j=D,D=w,w=N+h|0}c.a[0]=c.a[0]+w|0,c.a[1]=c.a[1]+D|0,c.a[2]=c.a[2]+j|0,c.a[3]=c.a[3]+fe|0,c.a[4]=c.a[4]+a|0,c.a[5]=c.a[5]+s|0,c.a[6]=c.a[6]+l|0,c.a[7]=c.a[7]+k|0}function Dh(c,f,v){void 0===v&&(v=f.length);var w=0,D=c.c;if("string"==typeof f)for(;w<v;)c.f[D++]=f.charCodeAt(w++),D==c.b&&(jc(c),D=0);else{if(!Rt(f))throw Error("message must be string or array");for(;w<v;){var k=f[w++];if(!("number"==typeof k&&0<=k&&255>=k&&k==(0|k)))throw Error("message must be a byte array");c.f[D++]=k,D==c.b&&(jc(c),D=0)}}c.c=D,c.g+=v}Eh.prototype.reset=function(){this.g=this.c=0,this.a=q.Int32Array?new Int32Array(this.h):Gn(this.h)};var Uc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Zl(){Eh.call(this,8,py)}pt(Zl,Eh);var py=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Sh(c,f,v,w,D,k){this.v=c,this.i=f,this.l=v,this.m=w||null,this.u=D||null,this.s=k,this.h=f+":"+v,this.C=new Qg,this.g=new wh(this.h),this.f=null,this.b=[],this.a=this.c=null}function Xl(c){return new Q("invalid-cordova-configuration",c)}function Ih(c,f){for(var v=0;v<c.b.length;v++)try{c.b[v](f)}catch{}}function Th(c){return c.f||(c.f=c.ma().then(function(){return new ot(function(f){c.Ea(function v(w){return f(w),c.Ta(v),!1}),function Jl(c){function f(N){w=!0,D&&D.cancel(),Ql(c).then(function(j){var fe=v;if(j&&N&&N.url){var a=null;-1!=(fe=gr(N.url)).indexOf("/__/auth/callback")&&(a=(a="object"==typeof(a=El(vo(a=vi(fe),"firebaseError")||null))?qr(a):null)?new gn(j.c,j.b,null,null,a,null,j.T()):new gn(j.c,j.b,fe,j.f,null,null,j.T())),fe=a||v}Ih(c,fe)})}var v=new gn("unknown",null,null,null,new Q("no-auth-event")),w=!1,D=bl(500).then(function(){return Ql(c).then(function(){w||Ih(c,v)})}),k=q.handleOpenURL;q.handleOpenURL=function(N){if(0==N.toLowerCase().indexOf(nt("BuildInfo.packageName",q).toLowerCase()+"://")&&f({url:N}),"function"==typeof k)try{k(N)}catch(j){console.error(j)}},em||(em=new On),function Af(c){var f=em;f.a.push(c),f.b||(f.b=function(v){for(var w=0;w<f.a.length;w++)f.a[w](v)},"function"==typeof(c=nt("universalLinks.subscribe",q))&&c(null,f.b))}(f)}(c)})})),c.f}function Ql(c){var f=null;return function Xg(c){return c.b.get(Bc,c.a).then(function(f){return Mg(f)})}(c.g).then(function(v){return f=v,Vc((v=c.g).b,Bc,v.a)}).then(function(){return f})}function ev(c){this.a=c,this.b=ns()}(I=Sh.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=function oe(){return Ee(void 0)?jn().then(function(){return new ot(function(c,f){var v=q.document,w=setTimeout(function(){f(Error("Cordova framework is not ready."))},1e3);v.addEventListener("deviceready",function(){clearTimeout(w),c()},!1)})}):Vn(Error("Cordova must run in an Android or iOS file scheme."))}().then(function(){if("function"!=typeof nt("universalLinks.subscribe",q))throw Xl("cordova-universal-links-plugin-fix is not installed");if(typeof nt("BuildInfo.packageName",q)>"u")throw Xl("cordova-plugin-buildinfo is not installed");if("function"!=typeof nt("cordova.plugins.browsertab.openUrl",q))throw Xl("cordova-plugin-browsertab is not installed");if("function"!=typeof nt("cordova.InAppBrowser.open",q))throw Xl("cordova-plugin-inappbrowser is not installed")},function(){throw new Q("cordova-not-ready")})},I.Pb=function(c,f){return f(new Q("operation-not-supported-in-this-environment")),Qe()},I.Nb=function(){return Vn(new Q("operation-not-supported-in-this-environment"))},I.ac=function(){return!1},I.Yb=function(){return!0},I.Ub=function(){return!0},I.Ob=function(c,f,v,w){if(this.c)return Vn(new Q("redirect-operation-pending"));var D=this,k=q.document,N=null,j=null,fe=null,a=null;return this.c=Qe().then(function(){return ka(f),Th(D)}).then(function(){return function Qf(c,f,v,w,D){var k=function my(){for(var c=20,f=[];0<c;)f.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),c--;return f.join("")}(),N=new gn(f,w,null,k,new Q("no-auth-event"),null,D),j=nt("BuildInfo.packageName",q);if("string"!=typeof j)throw new Q("invalid-cordova-configuration");var fe=nt("BuildInfo.displayName",q),a={};if(_i().toLowerCase().match(/iphone|ipad|ipod/))a.ibi=j;else{if(!_i().toLowerCase().match(/android/))return Vn(new Q("operation-not-supported-in-this-environment"));a.apn=j}fe&&(a.appDisplayName=fe),k=function gy(c){var f=new Zl;Dh(f,c),c=[];var v=8*f.g;Dh(f,Ba,56>f.c?56-f.c:f.b-(f.c-56));for(var w=63;56<=w;w--)f.f[w]=255&v,v/=256;for(jc(f),w=v=0;w<f.i;w++)for(var D=24;0<=D;D-=8)c[v++]=f.a[w]>>D&255;return function Ml(c){return Gt(c,function(f){return 1<(f=f.toString(16)).length?f:"0"+f}).join("")}(c)}(k),a.sessionId=k;var s=hh(c.v,c.i,c.l,f,v,null,w,c.m,a,c.u,D,c.s);return c.ma().then(function(){var l=c.h;return c.C.a.set(Bc,N.w(),l)}).then(function(){var l=nt("cordova.plugins.browsertab.isAvailable",q);if("function"!=typeof l)throw new Q("invalid-cordova-configuration");var h=null;l(function(m){if(m){if("function"!=typeof(h=nt("cordova.plugins.browsertab.openUrl",q)))throw new Q("invalid-cordova-configuration");h(s)}else{if("function"!=typeof(h=nt("cordova.InAppBrowser.open",q)))throw new Q("invalid-cordova-configuration");m=_i(),c.a=h(s,m.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||m.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(D,c,f,v,w)}).then(function(){return new ot(function(s,l){j=function(){var h=nt("cordova.plugins.browsertab.close",q);return s(),"function"==typeof h&&h(),D.a&&"function"==typeof D.a.close&&(D.a.close(),D.a=null),!1},D.Ea(j),a=function(){Ni()&&fe()},k.addEventListener("resume",fe=function(){N||(N=bl(2e3).then(function(){l(new Q("redirect-cancelled-by-user"))}))},!1),_i().toLowerCase().match(/android/)||k.addEventListener("visibilitychange",a,!1)}).o(function(s){return Ql(D).then(function(){throw s})})}).oa(function(){fe&&k.removeEventListener("resume",fe,!1),a&&k.removeEventListener("visibilitychange",a,!1),N&&N.cancel(),j&&D.Ta(j),D.c=null})},I.Ea=function(c){this.b.push(c),Th(this).o(function(f){"auth/invalid-cordova-configuration"===f.code&&(f=new gn("unknown",null,null,null,new Q("no-auth-event")),c(f))})},I.Ta=function(c){qn(this.b,function(f){return f==c})};var Jf={name:"pendingRedirect",F:"session"};function ep(c){return Vc(c.b,Jf,c.a)}function tp(c,f,v,w){this.i={},this.u=0,this.D=c,this.v=f,this.m=v,this.J=w,this.h=[],this.f=!1,this.l=Xe(this.s,this),this.b=new Rh,this.C=new ov,this.g=new ev(Hi(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=ed(this.D,this.v,this.m,pe,this.J)}function ed(c,f,v,w,D){var k=_e.Z.SDK_VERSION||null;return Ee()?new Sh(c,f,v,k,w,D):new $f(c,f,v,k,w,D)}function Ah(c){c.f||(c.f=!0,c.a.Ea(c.l));var f=c.a;return c.a.ma().o(function(v){throw c.a==f&&c.reset(),v})}function td(c){c.a.Yb()&&Ah(c).o(function(f){var v=new gn("unknown",null,null,null,new Q("operation-not-supported-in-this-environment"));Dm(f)&&c.s(v)}),c.a.Ub()||rp(c.b)}function Mh(c,f){Rn(c.h,f)||c.h.push(f),c.f||function Em(c){return c.b.get(Jf,c.a).then(function(f){return"pending"==f})}(c.g).then(function(v){v?ep(c.g).then(function(){Ah(c).o(function(w){var D=new gn("unknown",null,null,null,new Q("operation-not-supported-in-this-environment"));Dm(w)&&c.s(D)})}):td(c)}).o(function(){td(c)})}function np(c,f){qn(c.h,function(v){return v==f})}tp.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=ed(this.D,this.v,this.m,null,this.J),this.i={}},tp.prototype.s=function(c){if(!c)throw new Q("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),c&&c.getUid()&&this.i.hasOwnProperty(c.getUid()))return!1;for(var f=!1,v=0;v<this.h.length;v++){var w=this.h[v];if(w.Gb(c.c,c.b)){(f=this.c[c.c])&&(f.h(c,w),c&&(c.f||c.b)&&(this.i[c.getUid()]=!0,this.u=Date.now())),f=!0;break}}return rp(this.b),f};var Cm=new Wo(2e3,1e4),Ou=new Wo(3e4,6e4);function tv(c,f,v,w,D,k,N){return c.a.Nb(f,v,w,function(){c.f||(c.f=!0,c.a.Ea(c.l))},function(){c.reset()},D,k,N)}function Dm(c){return!(!c||"auth/cordova-not-ready"!=c.code)}function nv(c,f,v,w,D){var k;return function vy(c){return c.b.set(Jf,"pending",c.a)}(c.g).then(function(){return c.a.Ob(f,v,w,D).o(function(N){if(Dm(N))throw new Q("operation-not-supported-in-this-environment");return k=N,ep(c.g).then(function(){throw k})}).then(function(){return c.a.ac()?new ot(function(){}):ep(c.g).then(function(){return c.ra()}).then(function(){}).o(function(){})})})}function rv(c,f,v,w,D){return c.a.Pb(w,function(k){f.na(v,null,k,D)},Cm.get())}tp.prototype.ra=function(){return this.b.ra()};var xh={};function Hi(c,f,v){return c=c+":"+f,v&&(c=c+":"+v.url),c}function Di(c,f,v,w){var D=Hi(f,v,w);return xh[D]||(xh[D]=new tp(c,f,v,w)),xh[D]}function Rh(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function rp(c){c.g||(c.g=!0,Nu(c,!1,null,null))}function ip(c){c.g&&!c.i&&Nu(c,!1,null,null)}function iv(c,f){if(c.b=function(){return Qe(f)},c.f.length)for(var v=0;v<c.f.length;v++)c.f[v](f)}function Nu(c,f,v,w){f?w?function ja(c,f){if(c.b=function(){return Vn(f)},c.c.length)for(var v=0;v<c.c.length;v++)c.c[v](f)}(c,w):iv(c,v):iv(c,{user:null}),c.f=[],c.c=[]}function ov(){}function sv(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(c){this.jb=c},enumerable:!1})}function Hc(c,f){this.a=f,Ye(this,"verificationId",c)}function rs(c,f,v,w){return new Br(c).gb(f,v).then(function(D){return new Hc(D,w)})}function kh(c){var f=Sg(c);if(!(f&&f.exp&&f.auth_time&&f.iat))throw new Q("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Le(this,{token:c,expirationTime:Fo(1e3*f.exp),authTime:Fo(1e3*f.auth_time),issuedAtTime:Fo(1e3*f.iat),signInProvider:f.firebase&&f.firebase.sign_in_provider?f.firebase.sign_in_provider:null,signInSecondFactor:f.firebase&&f.firebase.sign_in_second_factor?f.firebase.sign_in_second_factor:null,claims:f})}function op(c,f,v){var w=f&&f[Oh];if(!w)throw new Q("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=c,this.f=G(f),this.g=v,this.c=new Rr(null,w),this.b=[];var D=this;Lt(f[Im]||[],function(k){(k=fc(k))&&D.b.push(k)}),Ye(this,"auth",this.a),Ye(this,"session",this.c),Ye(this,"hints",this.b)}Rh.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Rh.prototype.h=function(c,f){if(c){this.reset(),this.g=!0;var v=c.c,w=c.b,D=c.a&&"auth/web-storage-unsupported"==c.a.code,k=c.a&&"auth/operation-not-supported-in-this-environment"==c.a.code;this.i=!(!D&&!k),"unknown"!=v||D||k?c.a?(Nu(this,!0,null,c.a),Qe()):f.Fa(v,w)?function Sm(c,f,v){v=v.Fa(f.c,f.b);var w=f.g,D=f.f,k=f.i,N=f.T(),j=!!f.c.match(/Redirect$/);v(w,D,N,k).then(function(fe){Nu(c,j,fe,null)}).o(function(fe){Nu(c,j,null,fe)})}(this,c,f):Vn(new Q("invalid-auth-event")):(Nu(this,!1,null,null),Qe())}else Vn(new Q("invalid-auth-event"))},Rh.prototype.ra=function(){var c=this;return new ot(function(f,v){c.b?c.b().then(f,v):(c.f.push(f),c.c.push(v),function yy(c){var f=new Q("timeout");c.a&&c.a.cancel(),c.a=bl(Ou.get()).then(function(){c.b||(c.g=!0,Nu(c,!0,null,f))})}(c))})},ov.prototype.h=function(c,f){if(c){var v=c.c,w=c.b;c.a?(f.na(c.c,null,c.a,c.b),Qe()):f.Fa(v,w)?function _y(c,f){var v=c.b,w=c.c;f.Fa(w,v)(c.g,c.f,c.T(),c.i).then(function(D){f.na(w,D,null,v)}).o(function(D){f.na(w,null,D,v)})}(c,f):Vn(new Q("invalid-auth-event"))}else Vn(new Q("invalid-auth-event"))},Hc.prototype.confirm=function(c){return c=Ag(this.verificationId,c),this.a(c)};var Im="mfaInfo",Oh="mfaPendingCredential";function sp(c,f,v,w){Q.call(this,"multi-factor-auth-required",w,f),this.b=new op(c,f,v),Ye(this,"resolver",this.b)}function by(c,f,v){if(c&&bt(c.serverResponse)&&"auth/multi-factor-auth-required"===c.code)try{return new sp(f,c.serverResponse,v,c.message)}catch{}return null}function av(){}function up(c){Ye(this,"factorId",c.fa),this.a=c}function uv(c){if(up.call(this,c),this.a.fa!=Br.PROVIDER_ID)throw new Q("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function ca(c,f){for(var v in cr.call(this,c),f)this[v]=f[v]}function Am(c,f){this.a=c,this.b=[],this.c=Xe(this.yc,this),mo(this.a,"userReloaded",this.c);var v=[];f&&f.multiFactor&&f.multiFactor.enrolledFactors&&Lt(f.multiFactor.enrolledFactors,function(w){var D=null,k={};if(w){w.uid&&(k[bf]=w.uid),w.displayName&&(k[pc]=w.displayName),w.enrollmentTime&&(k[Sl]=new Date(w.enrollmentTime).toISOString()),w.phoneNumber&&(k[Il]=w.phoneNumber);try{D=new fu(k)}catch{}w=D}else w=null;w&&v.push(w)}),cp(this,v)}function cp(c,f){c.b=f,Ye(c,"enrolledFactors",f)}function Mm(c,f,v){if(this.h=c,this.i=f,this.g=v,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function zc(c,f){c.stop(),c.b=bl(function xm(c,f){return f?(c.a=c.c,c.g()):(f=c.a,c.a*=2,c.a>c.f&&(c.a=c.f),f)}(c,f)).then(function(){return function lc(){var c=q.document,f=null;return Ni()||!c?Qe():new ot(function(v){f=function(){Ni()&&(c.removeEventListener("visibilitychange",f,!1),v())},c.addEventListener("visibilitychange",f,!1)}).o(function(v){throw c.removeEventListener("visibilitychange",f,!1),v})}()}).then(function(){return c.h()}).then(function(){zc(c,!0)}).o(function(v){c.i(v)&&zc(c,!1)})}function nd(c){this.f=c,this.b=this.a=null,this.c=Date.now()}function $c(c,f){typeof f>"u"&&(f=c.b?(f=c.b).a-f.g:0),c.c=Date.now()+1e3*f}function Rm(c,f){c.b=Ta(f[Ns]||""),c.a=f.refreshToken,$c(c,typeof(f=f.expiresIn)<"u"?Number(f):void 0)}function rd(c,f){this.a=c||null,this.b=f||null,Le(this,{lastSignInTime:Fo(f||null),creationTime:Fo(c||null)})}function km(c,f,v,w,D,k){Le(this,{uid:c,displayName:w||null,photoURL:D||null,email:v||null,phoneNumber:k||null,providerId:f})}function Do(c,f,v){this.N=[],this.l=c.apiKey,this.m=c.appName,this.s=c.authDomain||null;var w=_e.Z.SDK_VERSION?Hd(_e.Z.SDK_VERSION):null;this.a=new sr(this.l,ge(pe),w),(this.u=c.emulatorConfig||null)&&Na(this.a,this.u),this.h=new nd(this.a),od(this,f[Ns]),Rm(this.h,f),Ye(this,"refreshToken",this.h.a),Pm(this,v||{}),Wr.call(this),this.P=!1,this.s&&cc()&&(this.b=Di(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function Nh(c){return new Mm(function(){return c.I(!0)},function(f){return!(!f||"auth/network-request-failed"!=f.code)},function(){var f=c.h.c-Date.now()-3e5;return 0<f?f:0})}(this),this.ba=Xe(this.ib,this);var D=this;this.za=null,this.Pa=function(k){D.xa(k.h)},this.qa=null,this.Ba=function(k){Om(D,k.c)},this.$=null,this.aa=[],this.Oa=function(k){qc(D,k.f)},this.ja=null,this.S=new Am(this,v),Ye(this,"multiFactor",this.S)}function Om(c,f){c.u=f,Na(c.a,f),c.b&&(f=c.b,c.b=Di(c.s,c.l,c.m,c.u),c.P&&(np(f,c),Mh(c.b,c)))}function id(c,f){c.qa&&fr(c.qa,"languageCodeChanged",c.Pa),(c.qa=f)&&mo(f,"languageCodeChanged",c.Pa)}function lp(c,f){c.$&&fr(c.$,"emulatorConfigChanged",c.Ba),(c.$=f)&&mo(f,"emulatorConfigChanged",c.Ba)}function qc(c,f){c.aa=f,Ff(c.a,_e.Z.SDK_VERSION?Hd(_e.Z.SDK_VERSION,c.aa):null)}function Nm(c,f){c.ja&&fr(c.ja,"frameworkChanged",c.Oa),(c.ja=f)&&mo(f,"frameworkChanged",c.Oa)}function lv(c){try{return _e.Z.app(c.m).auth()}catch{throw new Q("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+c.m+"'!")}}function Ie(c){c.J||c.D.b||(c.D.start(),fr(c,"tokenChanged",c.ba),mo(c,"tokenChanged",c.ba))}function Gc(c){fr(c,"tokenChanged",c.ba),c.D.stop()}function od(c,f){c.Aa=f,Ye(c,"_lat",f)}function Ua(c){for(var f=[],v=0;v<c.W.length;v++)f.push(c.W[v](c));return M(f).then(function(){return c})}function Wc(c){c.b&&!c.P&&(c.P=!0,Mh(c.b,c))}function Pm(c,f){Le(c,{uid:f.uid,displayName:f.displayName||null,photoURL:f.photoURL||null,email:f.email||null,emailVerified:f.emailVerified||!1,phoneNumber:f.phoneNumber||null,isAnonymous:f.isAnonymous||!1,tenantId:f.tenantId||null,metadata:new rd(f.createdAt,f.lastLoginAt),providerData:[]}),c.a.b=c.tenantId}function sd(){}function cn(c){return Qe().then(function(){if(c.J)throw new Q("app-deleted")})}function ad(c){return Gt(c.providerData,function(f){return f.providerId})}function Fm(c,f){f&&(Fu(c,f.providerId),c.providerData.push(f))}function Fu(c,f){qn(c.providerData,function(v){return v.providerId==f})}function Tn(c,f,v){("uid"!=f||v)&&c.hasOwnProperty(f)&&Ye(c,f,v)}function ei(c,f){c!=f&&(Le(c,{uid:f.uid,displayName:f.displayName,photoURL:f.photoURL,email:f.email,emailVerified:f.emailVerified,phoneNumber:f.phoneNumber,isAnonymous:f.isAnonymous,tenantId:f.tenantId,providerData:[]}),Ye(c,"metadata",f.metadata?function Pu(c){return new rd(c.a,c.b)}(f.metadata):new rd),Lt(f.providerData,function(v){Fm(c,v)}),function _n(c,f){c.b=f.b,c.a=f.a,c.c=f.c}(c.h,f.h),Ye(c,"refreshToken",c.h.a),cp(c.S,f.S.b))}function Ls(c){return c.I().then(function(f){var v=c.isAnonymous;return function la(c,f){return un(c.a,Mc,{idToken:f}).then(Xe(c.Kc,c))}(c,f).then(function(){return v||Tn(c,"isAnonymous",!1),f})})}function is(c,f){f[Ns]&&c.Aa!=f[Ns]&&(Rm(c.h,f),c.dispatchEvent(new ca("tokenChanged")),od(c,f[Ns]),Tn(c,"refreshToken",c.h.a))}function Kc(c,f){return Ls(c).then(function(){if(Rn(ad(c),f))return Ua(c).then(function(){throw new Q("provider-already-linked")})})}function Lu(c,f,v){return Yr({user:c,credential:Qr(f),additionalUserInfo:f=Aa(f),operationType:v})}function Yc(c,f){return is(c,f),c.reload().then(function(){return c})}function hp(c,f,v,w,D){if(!cc())return Vn(new Q("operation-not-supported-in-this-environment"));if(c.i&&!D)return Vn(c.i);var k=Kd(v.providerId),N=Kt(c.uid+":::"),j=null;(!zd()||Kr())&&c.s&&v.isOAuthProvider&&(j=hh(c.s,c.l,c.m,f,v,null,N,_e.Z.SDK_VERSION||null,null,null,c.tenantId,c.u));var fe=Ts(j,k&&k.va,k&&k.ua);return w=w().then(function(){if(An(c),!D)return c.I().then(function(){})}).then(function(){return tv(c.b,fe,f,v,N,!!j,c.tenantId)}).then(function(){return new ot(function(a,s){c.na(f,null,new Q("cancelled-popup-request"),c.g||null),c.f=a,c.C=s,c.g=N,c.c=rv(c.b,c,f,fe,N)})}).then(function(a){return fe&&Is(fe),a?Yr(a):null}).o(function(a){throw fe&&Is(fe),a}),Xt(c,w,D)}function Ph(c,f,v,w,D){if(!cc())return Vn(new Q("operation-not-supported-in-this-environment"));if(c.i&&!D)return Vn(c.i);var k=null,N=Kt(c.uid+":::");return w=w().then(function(){if(An(c),!D)return c.I().then(function(){})}).then(function(){return c.ga=N,Ua(c)}).then(function(j){return c.ha&&(j=(j=c.ha).b.set(Ha,c.w(),j.a)),j}).then(function(){return nv(c.b,f,v,N,c.tenantId)}).o(function(j){if(k=j,c.ha)return Fh(c.ha);throw k}).then(function(){if(k)throw k}),Xt(c,w,D)}function An(c){if(!c.b||!c.P)throw new Q(c.b&&!c.P?"internal-error":"auth-domain-config-required")}function Xt(c,f,v){var w=function fp(c,f,v){return c.i&&!v?(f.cancel(),Vn(c.i)):f.o(function(w){throw!w||"auth/user-disabled"!=w.code&&"auth/user-token-expired"!=w.code||(c.i||c.dispatchEvent(new ca("userInvalidated")),c.i=w),w})}(c,f,v);return c.N.push(w),w.oa(function(){Fn(c.N,w)}),w.o(function(D){var k=null;throw D&&"auth/multi-factor-auth-required"===D.code&&(k=by(D.w(),lv(c),Xe(c.jc,c))),k||D})}function Lm(c){if(!c.apiKey)return null;var f={apiKey:c.apiKey,authDomain:c.authDomain,appName:c.appName,emulatorConfig:c.emulatorConfig},v={};if(!c.stsTokenManager||!c.stsTokenManager.accessToken)return null;v[Ns]=c.stsTokenManager.accessToken,v.refreshToken=c.stsTokenManager.refreshToken||null;var w=c.stsTokenManager.expirationTime;w&&(v.expiresIn=(w-Date.now())/1e3);var D=new Do(f,v,c);return c.providerData&&Lt(c.providerData,function(k){k&&Fm(D,Yr(k))}),c.redirectEventId&&(D.ga=c.redirectEventId),D}function os(c){this.a=c,this.b=ns()}op.prototype.Rc=function(c){var f=this;return c.tb(this.a.a,this.c).then(function(v){var w=G(f.f);return delete w[Im],delete w[Oh],se(w,v),f.g(w)})},pt(sp,Q),av.prototype.tb=function(c,f,v){return f.type==yc?function ap(c,f,v,w){return v.Ha().then(function(D){return D={idToken:D},typeof w<"u"&&(D.displayName=w),se(D,{phoneVerificationInfo:_c(c.a)}),un(f,oy,D)})}(this,c,f,v):function Tm(c,f,v){return v.Ha().then(function(w){return se(w={mfaPendingCredential:w},{phoneVerificationInfo:_c(c.a)}),un(f,Bl,w)})}(this,c,f)},pt(up,av),pt(uv,up),pt(ca,cr),(I=Am.prototype).yc=function(c){cp(this,function wy(c){var f=[];return Lt(c.mfaInfo||[],function(v){(v=fc(v))&&f.push(v)}),f}(c.hd))},I.Sb=function(){return this.a.I().then(function(c){return new Rr(c,null)})},I.fc=function(c,f){var v=this,w=this.a.a;return this.Sb().then(function(D){return c.tb(w,D,f)}).then(function(D){return is(v.a,D),v.a.reload()})},I.bd=function(c){var f=this,v="string"==typeof c?c:c.uid,w=this.a.a;return this.a.I().then(function(D){return un(w,lh,{idToken:D,mfaEnrollmentId:v})}).then(function(D){var k=Ro(f.b,function(N){return N.uid!=v});return cp(f,k),is(f.a,D),f.a.reload().o(function(N){if("auth/user-token-expired"!=N.code)throw N})})},I.w=function(){return{multiFactor:{enrolledFactors:Gt(this.b,function(c){return c.w()})}}},Mm.prototype.start=function(){this.a=this.c,zc(this,!0)},Mm.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},nd.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},nd.prototype.getToken=function(c){return c=!!c,this.b&&!this.a?Vn(new Q("user-token-expired")):c||!this.b||Date.now()>this.c-3e4?this.a?function cv(c,f){return function ih(c,f){return new ot(function(v,w){"refresh_token"==f.grant_type&&f.refresh_token||"authorization_code"==f.grant_type&&f.code?Tc(c,c.l+"?key="+encodeURIComponent(c.c),function(D){D?D.error?w(Hg(D)):D.access_token&&D.refresh_token?v(D):w(new Q("internal-error")):w(new Q("network-request-failed"))},"POST",Dt(f).toString(),c.g,c.m.get()):w(new Q("internal-error"))})}(c.f,f).then(function(v){return c.b=Ta(v.access_token),c.a=v.refresh_token,$c(c,v.expires_in),{accessToken:c.b.toString(),refreshToken:c.a}}).o(function(v){throw"auth/user-token-expired"==v.code&&(c.a=null),v})}(this,{grant_type:"refresh_token",refresh_token:this.a}):Qe(null):Qe({accessToken:this.b.toString(),refreshToken:this.a})},rd.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},pt(Do,Wr),Do.prototype.xa=function(c){this.za=c,ny(this.a,c)},Do.prototype.la=function(){return this.za},Do.prototype.Ga=function(){return Gn(this.aa)},Do.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Ye(Do.prototype,"providerId","firebase"),(I=Do.prototype).reload=function(){var c=this;return Xt(this,cn(this).then(function(){return Ls(c).then(function(){return Ua(c)}).then(sd)}))},I.oc=function(c){return this.I(c).then(function(f){return new kh(f)})},I.I=function(c){var f=this;return Xt(this,cn(this).then(function(){return f.h.getToken(c)}).then(function(v){if(!v)throw new Q("internal-error");return v.accessToken!=f.Aa&&(od(f,v.accessToken),f.dispatchEvent(new ca("tokenChanged"))),Tn(f,"refreshToken",v.refreshToken),v.accessToken}))},I.Kc=function(c){if(!(c=c.users)||!c.length)throw new Q("internal-error");Pm(this,{uid:(c=c[0]).localId,displayName:c.displayName,photoURL:c.photoUrl,email:c.email,emailVerified:!!c.emailVerified,phoneNumber:c.phoneNumber,lastLoginAt:c.lastLoginAt,createdAt:c.createdAt,tenantId:c.tenantId});for(var f=function dv(c){return(c=c.providerUserInfo)&&c.length?Gt(c,function(f){return new km(f.rawId,f.providerId,f.email,f.displayName,f.photoUrl,f.phoneNumber)}):[]}(c),v=0;v<f.length;v++)Fm(this,f[v]);Tn(this,"isAnonymous",!(this.email&&c.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new ca("userReloaded",{hd:c}))},I.Lc=function(c){return dc("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(c)},I.ub=function(c){var f=this,v=null;return Xt(this,c.c(this.a,this.uid).then(function(w){return is(f,w),v=Lu(f,w,"reauthenticate"),f.i=null,f.reload()}).then(function(){return v}),!0)},I.Cc=function(c){return dc("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(c)},I.rb=function(c){var f=this,v=null;return Xt(this,Kc(this,c.providerId).then(function(){return f.I()}).then(function(w){return c.b(f.a,w)}).then(function(w){return v=Lu(f,w,"link"),Yc(f,w)}).then(function(){return v}))},I.Dc=function(c,f){var v=this;return Xt(this,Kc(this,"phone").then(function(){return rs(lv(v),c,f,Xe(v.rb,v))}))},I.Mc=function(c,f){var v=this;return Xt(this,Qe().then(function(){return rs(lv(v),c,f,Xe(v.ub,v))}),!0)},I.Cb=function(c){var f=this;return Xt(this,this.I().then(function(v){return f.a.Cb(v,c)}).then(function(v){return is(f,v),f.reload()}))},I.ed=function(c){var f=this;return Xt(this,this.I().then(function(v){return c.b(f.a,v)}).then(function(v){return is(f,v),f.reload()}))},I.Db=function(c){var f=this;return Xt(this,this.I().then(function(v){return f.a.Db(v,c)}).then(function(v){return is(f,v),f.reload()}))},I.Eb=function(c){if(void 0===c.displayName&&void 0===c.photoURL)return cn(this);var f=this;return Xt(this,this.I().then(function(v){return f.a.Eb(v,{displayName:c.displayName,photoUrl:c.photoURL})}).then(function(v){return is(f,v),Tn(f,"displayName",v.displayName||null),Tn(f,"photoURL",v.photoUrl||null),Lt(f.providerData,function(w){"password"===w.providerId&&(Ye(w,"displayName",f.displayName),Ye(w,"photoURL",f.photoURL))}),Ua(f)}).then(sd))},I.cd=function(c){var f=this;return Xt(this,Ls(this).then(function(v){return Rn(ad(f),c)?function Fg(c,f,v){return un(c,Mu,{idToken:f,deleteProvider:v})}(f.a,v,[c]).then(function(w){var D={};return Lt(w.providerUserInfo||[],function(k){D[k.providerId]=!0}),Lt(ad(f),function(k){D[k]||Fu(f,k)}),D[Br.PROVIDER_ID]||Ye(f,"phoneNumber",null),Ua(f)}):Ua(f).then(function(){throw new Q("no-such-provider")})}))},I.delete=function(){var c=this;return Xt(this,this.I().then(function(f){return un(c.a,Pa,{idToken:f})}).then(function(){c.dispatchEvent(new ca("userDeleted"))})).then(function(){for(var f=0;f<c.N.length;f++)c.N[f].cancel("app-deleted");id(c,null),lp(c,null),Nm(c,null),c.N=[],c.J=!0,Gc(c),Ye(c,"refreshToken",null),c.b&&np(c.b,c)})},I.Gb=function(c,f){return!!("linkViaPopup"==c&&(this.g||null)==f&&this.f||"reauthViaPopup"==c&&(this.g||null)==f&&this.f||"linkViaRedirect"==c&&(this.ga||null)==f||"reauthViaRedirect"==c&&(this.ga||null)==f)},I.na=function(c,f,v,w){"linkViaPopup"!=c&&"reauthViaPopup"!=c||w!=(this.g||null)||(v&&this.C?this.C(v):f&&!v&&this.f&&this.f(f),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},I.Fa=function(c,f){return"linkViaPopup"==c&&f==(this.g||null)?Xe(this.Lb,this):"reauthViaPopup"==c&&f==(this.g||null)?Xe(this.Mb,this):"linkViaRedirect"==c&&(this.ga||null)==f?Xe(this.Lb,this):"reauthViaRedirect"==c&&(this.ga||null)==f?Xe(this.Mb,this):null},I.Ec=function(c){var f=this;return hp(this,"linkViaPopup",c,function(){return Kc(f,c.providerId).then(function(){return Ua(f)})},!1)},I.Nc=function(c){return hp(this,"reauthViaPopup",c,function(){return Qe()},!0)},I.Fc=function(c){var f=this;return Ph(this,"linkViaRedirect",c,function(){return Kc(f,c.providerId)},!1)},I.Oc=function(c){return Ph(this,"reauthViaRedirect",c,function(){return Qe()},!0)},I.Lb=function(c,f,v,w){var D=this;this.c&&(this.c.cancel(),this.c=null);var k=null;return Xt(this,this.I().then(function(N){return Vl(D.a,{requestUri:c,postBody:w,sessionId:f,idToken:N})}).then(function(N){return k=Lu(D,N,"link"),Yc(D,N)}).then(function(){return k}))},I.Mb=function(c,f,v,w){var D=this;this.c&&(this.c.cancel(),this.c=null);var k=null;return Xt(this,Qe().then(function(){return vr(Ac(D.a,{requestUri:c,sessionId:f,postBody:w,tenantId:v}),D.uid)}).then(function(j){return k=Lu(D,j,"reauthenticate"),is(D,j),D.i=null,D.reload()}).then(function(){return k}),!0)},I.vb=function(c){var f=this,v=null;return Xt(this,this.I().then(function(w){return v=w,typeof c>"u"||W(c)?{}:vc(new gc(c))}).then(function(w){return f.a.vb(v,w)}).then(function(w){if(f.email!=w)return f.reload()}).then(function(){}))},I.Fb=function(c,f){var v=this,w=null;return Xt(this,this.I().then(function(D){return w=D,typeof f>"u"||W(f)?{}:vc(new gc(f))}).then(function(D){return v.a.Fb(w,c,D)}).then(function(D){if(v.email!=D)return v.reload()}).then(function(){}))},I.jc=function(c){var f=null,v=this;return Xt(this,c=vr(Qe(c),v.uid).then(function(w){return f=Lu(v,w,"reauthenticate"),is(v,w),v.i=null,v.reload()}).then(function(){return f}),!0)},I.toJSON=function(){return this.w()},I.w=function(){var c={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&se(c,this.metadata.w()),Lt(this.providerData,function(f){c.providerData.push(function Yn(c){var v,f={};for(v in c)c.hasOwnProperty(v)&&(f[v]=c[v]);return f}(f))}),se(c,this.S.w()),c};var Ha={name:"redirectUser",F:"session"};function Fh(c){return Vc(c.b,Ha,c.a)}function Lh(c){this.a=c,this.b=ns(),this.c=null,this.f=function fv(c){var f=io("local"),v=io("session"),w=io("none");return function Lc(c,f,v){var w=Fc(f,v),D=ua(c,f.F);return c.get(f,v).then(function(k){var N=null;try{N=El(q.localStorage.getItem(w))}catch{}if(N&&!k)return q.localStorage.removeItem(w),c.set(f,N,v);N&&k&&"localStorage"!=D.type&&q.localStorage.removeItem(w)})}(c.b,f,c.a).then(function(){return c.b.get(v,c.a)}).then(function(D){return D?v:c.b.get(w,c.a).then(function(k){return k?w:c.b.get(f,c.a).then(function(N){return N?f:c.b.get(Vh,c.a).then(function(j){return j?io(j):f})})})}).then(function(D){return c.c=D,Zc(c,D.F)}).o(function(){c.c||(c.c=f)})}(this),this.b.addListener(io("local"),this.a,Xe(this.g,this))}function Zc(c,f){var w,v=[];for(w in aa)aa[w]!==f&&v.push(Vc(c.b,io(aa[w]),c.a));return v.push(Vc(c.b,Vh,c.a)),function R(c){return new ot(function(f,v){var w=c.length,D=[];if(w)for(var k=function(a,s){w--,D[a]=s,0==w&&f(D)},N=function(a){v(a)},j=0;j<c.length;j++)Da(c[j],Jt(k,j),N);else f(D)})}(v)}Lh.prototype.g=function(){var c=this,f=io("local");Bh(this,function(){return Qe().then(function(){return c.c&&"local"!=c.c.F?c.b.get(f,c.a):null}).then(function(v){if(v)return Zc(c,"local").then(function(){c.c=f})})})};var Vh={name:"persistence",F:"session"};function io(c){return{name:"authUser",F:c}}function Uo(c,f){return Bh(c,function(){return c.b.set(c.c,f.w(),c.a)})}function cd(c){return Bh(c,function(){return Vc(c.b,c.c,c.a)})}function Vm(c,f,v){return Bh(c,function(){return c.b.get(c.c,c.a).then(function(w){return w&&f&&(w.authDomain=f),w&&v&&(w.emulatorConfig=v),Lm(w||{})})})}function Bh(c,f){return c.f=c.f.then(f,f),c.f}function Bs(c){if(this.l=!1,Ye(this,"settings",new sv),Ye(this,"app",c),!ln(this).options||!ln(this).options.apiKey)throw new Q("invalid-api-key");c=_e.Z.SDK_VERSION?Hd(_e.Z.SDK_VERSION):null,this.a=new sr(ln(this).options&&ln(this).options.apiKey,ge(pe),c),this.P=[],this.s=[],this.N=[],this.Pa=_e.Z.INTERNAL.createSubscribe(Xe(this.zc,this)),this.W=void 0,this.ib=_e.Z.INTERNAL.createSubscribe(Xe(this.Ac,this)),ss(this,null),this.i=new Lh(ln(this).options.apiKey+":"+ln(this).name),this.D=new os(ln(this).options.apiKey+":"+ln(this).name),this.$=rr(this,function Qc(c){var f=ln(c).options.authDomain,v=function mp(c){var f=function Ey(c,f){return c.b.get(Ha,c.a).then(function(v){return v&&f&&(v.authDomain=f),Lm(v||{})})}(c.D,ln(c).options.authDomain).then(function(v){return(c.m=v)&&(v.ha=c.D),Fh(c.D)});return rr(c,f)}(c).then(function(){return Vm(c.i,f,c.R)}).then(function(w){return w?(w.ha=c.D,c.m&&(c.m.ga||null)==(w.ga||null)?w:w.reload().then(function(){return Uo(c.i,w).then(function(){return w})}).o(function(D){return"auth/network-request-failed"==D.code?w:cd(c.i)})):null}).then(function(w){ss(c,w||null)});return rr(c,v)}(this)),this.h=rr(this,function Hh(c){return c.$.then(function(){return jh(c)}).o(function(){}).then(function(){if(!c.l)return c.ja()}).o(function(){}).then(function(){if(!c.l){c.ba=!0;var f=c.i;f.b.addListener(io("local"),f.a,c.ja)}})}(this)),this.ba=!1,this.ja=Xe(this.Zc,this),this.Ba=Xe(this.da,this),this.qa=Xe(this.mc,this),this.za=Xe(this.wc,this),this.Aa=Xe(this.xc,this),this.b=null,function ld(c){var f=ln(c).options.authDomain,v=ln(c).options.apiKey;f&&cc()&&(c.Oa=c.$.then(function(){if(!c.l){if(c.b=Di(f,v,ln(c).name,c.R),Mh(c.b,c),zt(c)&&Wc(zt(c)),c.m){Wc(c.m);var w=c.m;w.xa(c.la()),id(w,c),qc(w=c.m,c.J),Nm(w,c),Om(w=c.m,c.R),lp(w,c),c.m=null}return c.b}}))}(this),this.INTERNAL={},this.INTERNAL.delete=Xe(this.delete,this),this.INTERNAL.logFramework=Xe(this.Gc,this),this.u=0,Wr.call(this),function pp(c){Object.defineProperty(c,"lc",{get:function(){return this.la()},set:function(f){this.xa(f)},enumerable:!1}),c.aa=null,Object.defineProperty(c,"ti",{get:function(){return this.T()},set:function(f){this.zb(f)},enumerable:!1}),c.S=null,Object.defineProperty(c,"emulatorConfig",{get:function(){if(this.R){var f=vi(this.R.url);f=Yr({protocol:f.c,host:f.a,port:f.g,options:Yr({disableWarnings:this.R.ec})})}else f=null;return f},enumerable:!1})}(this),this.J=[],this.R=null}function Cy(c){cr.call(this,"languageCodeChanged"),this.h=c}function Dy(c){cr.call(this,"emulatorConfigChanged"),this.c=c}function Xc(c){cr.call(this,"frameworkChanged"),this.f=c}function js(c){return c.Oa||Vn(new Q("auth-domain-config-required"))}function jh(c){if(!cc())return Vn(new Q("operation-not-supported-in-this-environment"));var f=js(c).then(function(){return c.b.ra()}).then(function(v){return v?Yr(v):null});return rr(c,f)}function ss(c,f){zt(c)&&(function dp(c,f){qn(c.W,function(v){return v==f})}(zt(c),c.Ba),fr(zt(c),"tokenChanged",c.qa),fr(zt(c),"userDeleted",c.za),fr(zt(c),"userInvalidated",c.Aa),Gc(zt(c))),f&&(f.W.push(c.Ba),mo(f,"tokenChanged",c.qa),mo(f,"userDeleted",c.za),mo(f,"userInvalidated",c.Aa),0<c.u&&Ie(f)),Ye(c,"currentUser",f),f&&(f.xa(c.la()),id(f,c),qc(f,c.J),Nm(f,c),Om(f,c.R),lp(f,c))}function da(c,f){var v=null,w=null;return rr(c,f.then(function(D){return v=Qr(D),w=Aa(D),function Uh(c,f){var v={};return v.apiKey=ln(c).options.apiKey,v.authDomain=ln(c).options.authDomain,v.appName=ln(c).name,c.R&&(v.emulatorConfig=c.R),c.$.then(function(){return function hv(c,f,v,w){var D=new Do(c,f);return v&&(D.ha=v),w&&qc(D,w),D.reload().then(function(){return D})}(v,f,c.D,c.Ga())}).then(function(w){return zt(c)&&w.uid==zt(c).uid?(ei(zt(c),w),c.da(w)):(ss(c,w),Wc(w),c.da(w))}).then(function(){Ho(c)})}(c,D)},function(D){var k=null;throw D&&"auth/multi-factor-auth-required"===D.code&&(k=by(D.w(),c,Xe(c.kc,c))),k||D}).then(function(){return Yr({user:zt(c),credential:v,additionalUserInfo:w,operationType:"signIn"})}))}function ln(c){return c.app}function zt(c){return c.currentUser}function za(c){return zt(c)&&zt(c)._lat||null}function Ho(c){if(c.ba){for(var f=0;f<c.s.length;f++)c.s[f]&&c.s[f](za(c));if(c.W!==c.getUid()&&c.N.length)for(c.W=c.getUid(),f=0;f<c.N.length;f++)c.N[f]&&c.N[f](za(c))}}function rr(c,f){return c.P.push(f),f.oa(function(){Fn(c.P,f)}),f}function as(){}function Jc(){this.a={},this.b=1e12}Lh.prototype.yb=function(c){var f=null,v=this;return function wm(c){var f=new Q("invalid-persistence-type"),v=new Q("unsupported-persistence-type");e:{for(w in aa)if(aa[w]==c){var w=!0;break e}w=!1}if(!w||"string"!=typeof c)throw f;switch(Ce()){case"ReactNative":if("session"===c)throw v;break;case"Node":if("none"!==c)throw v;break;case"Worker":if("session"===c||!_m()&&"none"!==c)throw v;break;default:if(!uc()&&"none"!==c)throw v}}(c),Bh(this,function(){return c!=v.c.F?v.b.get(v.c,v.a).then(function(w){return f=w,Zc(v,c)}).then(function(){if(v.c=io(c),f)return v.b.set(v.c,f,v.a)}):Qe()})},pt(Bs,Wr),pt(Cy,cr),pt(Dy,cr),pt(Xc,cr),(I=Bs.prototype).yb=function(c){return rr(this,c=this.i.yb(c))},I.xa=function(c){this.aa===c||this.l||(this.aa=c,ny(this.a,this.aa),this.dispatchEvent(new Cy(this.la())))},I.la=function(){return this.aa},I.fd=function(){var c=q.navigator;this.xa(c&&(c.languages&&c.languages[0]||c.language||c.userLanguage)||null)},I.gd=function(c,f){if(!this.R){if(!/^https?:\/\//.test(c))throw new Q("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function Bm(c){typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),q.document&&!c&&jn().then(function(){var f=q.document.createElement("div");f.innerText="Running in emulator mode. Do not use with production credentials.",f.style.position="fixed",f.style.width="100%",f.style.backgroundColor="#ffffff",f.style.border=".1em solid #000000",f.style.color="#b50000",f.style.bottom="0px",f.style.left="0px",f.style.margin="0px",f.style.zIndex=1e4,f.style.textAlign="center",f.classList.add("firebase-emulator-warning"),q.document.body.appendChild(f)})})(f=!!f&&!!f.disableWarnings),this.R={url:c,ec:f},this.settings.jb=!0,Na(this.a,this.R),this.dispatchEvent(new Dy(this.R))}},I.Gc=function(c){this.J.push(c),Ff(this.a,_e.Z.SDK_VERSION?Hd(_e.Z.SDK_VERSION,this.J):null),this.dispatchEvent(new Xc(this.J))},I.Ga=function(){return Gn(this.J)},I.zb=function(c){this.S===c||this.l||(this.S=c,this.a.b=this.S)},I.T=function(){return this.S},I.toJSON=function(){return{apiKey:ln(this).options.apiKey,authDomain:ln(this).options.authDomain,appName:ln(this).name,currentUser:zt(this)&&zt(this).w()}},I.Gb=function(c,f){switch(c){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==f&&!!this.f;default:return!1}},I.na=function(c,f,v,w){"signInViaPopup"==c&&this.g==w&&(v&&this.C?this.C(v):f&&!v&&this.f&&this.f(f),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},I.Fa=function(c,f){return"signInViaRedirect"==c||"signInViaPopup"==c&&this.g==f&&this.f?Xe(this.ic,this):null},I.ic=function(c,f,v,w){var D=this,k={requestUri:c,postBody:w,sessionId:f,tenantId:v};return this.c&&(this.c.cancel(),this.c=null),D.$.then(function(){return da(D,cm(D.a,k))})},I.Xc=function(c){if(!cc())return Vn(new Q("operation-not-supported-in-this-environment"));var f=this,v=Kd(c.providerId),w=Kt(),D=null;(!zd()||Kr())&&ln(this).options.authDomain&&c.isOAuthProvider&&(D=hh(ln(this).options.authDomain,ln(this).options.apiKey,ln(this).name,"signInViaPopup",c,null,w,_e.Z.SDK_VERSION||null,null,null,this.T(),this.R));var k=Ts(D,v&&v.va,v&&v.ua);return rr(this,v=js(this).then(function(N){return tv(N,k,"signInViaPopup",c,w,!!D,f.T())}).then(function(){return new ot(function(N,j){f.na("signInViaPopup",null,new Q("cancelled-popup-request"),f.g),f.f=N,f.C=j,f.g=w,f.c=rv(f.b,f,"signInViaPopup",k,w)})}).then(function(N){return k&&Is(k),N?Yr(N):null}).o(function(N){throw k&&Is(k),N}))},I.Yc=function(c){if(!cc())return Vn(new Q("operation-not-supported-in-this-environment"));var f=this,v=js(this).then(function(){return function ud(c){return Bh(c,function(){return c.b.set(Vh,c.c.F,c.a)})}(f.i)}).then(function(){return nv(f.b,"signInViaRedirect",c,void 0,f.T())});return rr(this,v)},I.ra=function(){var c=this;return jh(this).then(function(f){return c.b&&ip(c.b.b),f}).o(function(f){throw c.b&&ip(c.b.b),f})},I.dd=function(c){if(!c)return Vn(new Q("null-user"));if(this.S!=c.tenantId)return Vn(new Q("tenant-id-mismatch"));var f=this,v={};v.apiKey=ln(this).options.apiKey,v.authDomain=ln(this).options.authDomain,v.appName=ln(this).name;var w=function Vs(c,f,v,w){var D=c.h,k={};return k[Ns]=D.b&&D.b.toString(),k.refreshToken=D.a,f=new Do(f||{apiKey:c.l,authDomain:c.s,appName:c.m},k),v&&(f.ha=v),w&&qc(f,w),ei(f,c),f}(c,v,f.D,f.Ga());return rr(this,this.h.then(function(){if(ln(f).options.apiKey!=c.l)return w.reload()}).then(function(){return zt(f)&&c.uid==zt(f).uid?(ei(zt(f),c),f.da(c)):(ss(f,w),Wc(w),f.da(w))}).then(function(){Ho(f)}))},I.Bb=function(){var c=this;return rr(this,this.h.then(function(){return c.b&&ip(c.b.b),zt(c)?(ss(c,null),cd(c.i).then(function(){Ho(c)})):Qe()}))},I.Zc=function(){var c=this;return Vm(this.i,ln(this).options.authDomain).then(function(f){if(!c.l){var v;if(v=zt(c)&&f){v=zt(c).uid;var w=f.uid;v=null!=v&&""!==v&&null!=w&&""!==w&&v==w}if(v)return ei(zt(c),f),zt(c).I();(zt(c)||f)&&(ss(c,f),f&&(Wc(f),f.ha=c.D),c.b&&Mh(c.b,c),Ho(c))}})},I.da=function(c){return Uo(this.i,c)},I.mc=function(){Ho(this),this.da(zt(this))},I.wc=function(){this.Bb()},I.xc=function(){this.Bb()},I.kc=function(c){var f=this;return this.h.then(function(){return da(f,Qe(c))})},I.zc=function(c){var f=this;this.addAuthTokenListener(function(){c.next(zt(f))})},I.Ac=function(c){var f=this;!function ha(c,f){c.N.push(f),rr(c,c.h.then(function(){!c.l&&Rn(c.N,f)&&c.W!==c.getUid()&&(c.W=c.getUid(),f(za(c)))}))}(this,function(){c.next(zt(f))})},I.Ic=function(c,f,v){var w=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof c?c(zt(w)):"function"==typeof c.next&&c.next(zt(w))}),this.Pa(c,f,v)},I.Hc=function(c,f,v){var w=this;return this.ba&&Promise.resolve().then(function(){w.W=w.getUid(),"function"==typeof c?c(zt(w)):"function"==typeof c.next&&c.next(zt(w))}),this.ib(c,f,v)},I.nc=function(c){var f=this;return rr(this,this.h.then(function(){return zt(f)?zt(f).I(c).then(function(w){return{accessToken:w}}):null}))},I.Tc=function(c){var f=this;return this.h.then(function(){return da(f,un(f.a,jg,{token:c}))}).then(function(v){var w=v.user;return Tn(w,"isAnonymous",!1),f.da(w),v})},I.Uc=function(c,f){var v=this;return this.h.then(function(){return da(v,un(v.a,Uf,{email:c,password:f}))})},I.dc=function(c,f){var v=this;return this.h.then(function(){return da(v,un(v.a,sh,{email:c,password:f}))})},I.ab=function(c){var f=this;return this.h.then(function(){return da(f,c.ka(f.a))})},I.Sc=function(c){return dc("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(c)},I.Ab=function(){var c=this;return this.h.then(function(){var f=zt(c);if(f&&f.isAnonymous){var v=Yr({providerId:null,isNewUser:!1});return Yr({user:f,credential:null,additionalUserInfo:v,operationType:"signIn"})}return da(c,c.a.Ab()).then(function(w){var D=w.user;return Tn(D,"isAnonymous",!0),c.da(D),w})})},I.getUid=function(){return zt(this)&&zt(this).uid||null},I.cc=function(c){this.addAuthTokenListener(c),this.u++,0<this.u&&zt(this)&&Ie(zt(this))},I.Pc=function(c){var f=this;Lt(this.s,function(v){v==c&&f.u--}),0>this.u&&(this.u=0),0==this.u&&zt(this)&&Gc(zt(this)),this.removeAuthTokenListener(c)},I.addAuthTokenListener=function(c){var f=this;this.s.push(c),rr(this,this.h.then(function(){f.l||Rn(f.s,c)&&c(za(f))}))},I.removeAuthTokenListener=function(c){qn(this.s,function(f){return f==c})},I.delete=function(){this.l=!0;for(var c=0;c<this.P.length;c++)this.P[c].cancel("app-deleted");return this.P=[],this.i&&(c=this.i).b.removeListener(io("local"),c.a,this.ja),this.b&&(np(this.b,this),ip(this.b.b)),Promise.resolve()},I.hc=function(c){return rr(this,function Ng(c,f){return un(c,Lg,{identifier:f,continueUri:Oi()?Bt():"http://localhost"}).then(function(v){return v.signinMethods||[]})}(this.a,c))},I.Bc=function(c){return!!Rs(c)},I.xb=function(c,f){var v=this;return rr(this,Qe().then(function(){var w=new gc(f);if(!w.c)throw new Q("argument-error",Ko+" must be true when sending sign in link to email");return vc(w)}).then(function(w){return v.a.xb(c,w)}).then(function(){}))},I.jd=function(c){return this.Sa(c).then(function(f){return f.data.email})},I.ob=function(c,f){return rr(this,this.a.ob(c,f).then(function(){}))},I.Sa=function(c){return rr(this,this.a.Sa(c).then(function(f){return new bg(f)}))},I.kb=function(c){return rr(this,this.a.kb(c).then(function(){}))},I.wb=function(c,f){var v=this;return rr(this,Qe().then(function(){return typeof f>"u"||W(f)?{}:vc(new gc(f))}).then(function(w){return v.a.wb(c,w)}).then(function(){}))},I.Wc=function(c,f){return rr(this,rs(this,c,f,Xe(this.ab,this)))},I.Vc=function(c,f){var v=this;return rr(this,Qe().then(function(){var w=f||Bt(),D=kl(c,w);if(!(w=Rs(w)))throw new Q("argument-error","Invalid email link!");if(w.tenantId!==v.T())throw new Q("tenant-id-mismatch");return v.ab(D)}))},as.prototype.render=function(){},as.prototype.reset=function(){},as.prototype.getResponse=function(){},as.prototype.execute=function(){};var zh=null;function gp(c,f){return(f=dd(f))&&c.a[f]||null}function dd(c){return(c=typeof c>"u"?1e12:c)?c.toString():null}function fa(c,f){this.g=!1,this.c=f,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=xe(c);var v=this;this.i=function(){v.execute()},this.h?this.execute():mo(this.f,"click",this.i)}function jm(c){if(c.g)throw Error("reCAPTCHA mock was already deleted!")}function $h(){}function hd(){}Jc.prototype.render=function(c,f){return this.a[this.b.toString()]=new fa(c,f),this.b++},Jc.prototype.reset=function(c){var f=gp(this,c);c=dd(c),f&&c&&(f.delete(),delete this.a[c])},Jc.prototype.getResponse=function(c){return(c=gp(this,c))?c.getResponse():null},Jc.prototype.execute=function(c){(c=gp(this,c))&&c.execute()},fa.prototype.getResponse=function(){return jm(this),this.b},fa.prototype.execute=function(){jm(this);var c=this;this.a||(this.a=setTimeout(function(){c.b=function Ud(){for(var c=50,f=[];0<c;)f.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),c--;return f.join("")}();var f=c.c.callback,v=c.c["expired-callback"];if(f)try{f(c.b)}catch{}c.a=setTimeout(function(){if(c.a=null,c.b=null,v)try{v()}catch{}c.h&&c.execute()},6e4)},500))},fa.prototype.delete=function(){jm(this),this.g=!0,clearTimeout(this.a),this.a=null,fr(this.f,"click",this.i)},Ye($h,"FACTOR_ID","phone"),hd.prototype.g=function(){return zh||(zh=new Jc),Qe(zh)},hd.prototype.c=function(){};var vp=null;function qh(){this.b=q.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var yp=new Ae(mn,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Gh=new Wo(3e4,6e4);qh.prototype.g=function(c){var f=this;return new ot(function(v,w){var D=setTimeout(function(){w(new Q("network-request-failed"))},Gh.get());!q.grecaptcha||c!==f.f&&!f.b?(q[f.a]=function(){if(q.grecaptcha){f.f=c;var N=q.grecaptcha.render;q.grecaptcha.render=function(j,fe){return j=N(j,fe),f.b++,j},clearTimeout(D),v(q.grecaptcha)}else clearTimeout(D),w(new Q("internal-error"));delete q[f.a]},Qe(Ur(pi(yp,{onload:f.a,hl:c||""}))).o(function(){clearTimeout(D),w(new Q("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(D),v(q.grecaptcha))})},qh.prototype.c=function(){this.b--};var _p=null;function Wh(c,f,v,w,D,k,N){if(Ye(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=f,this.g=null,N?(vp||(vp=new hd),N=vp):(_p||(_p=new qh),N=_p),this.m=N,this.a=v||{theme:"light",type:"image"},this.h=[],this.a[Sy])throw new Q("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Iy],!q.document)throw new Q("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!xe(f)||!this.i&&xe(f).hasChildNodes())throw new Q("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new sr(c,k||null,D||null),this.u=w||function(){return null};var j=this;this.l=[];var fe=this.a[bp];this.a[bp]=function(s){if(So(j,s),"function"==typeof fe)fe(s);else if("string"==typeof fe){var l=nt(fe,q);"function"==typeof l&&l(s)}};var a=this.a[fd];this.a[fd]=function(){if(So(j,null),"function"==typeof a)a();else if("string"==typeof a){var s=nt(a,q);"function"==typeof s&&s()}}}var bp="callback",fd="expired-callback",Sy="sitekey",Iy="size";function So(c,f){for(var v=0;v<c.l.length;v++)try{c.l[v](f)}catch{}}function $a(c,f){return c.h.push(f),f.oa(function(){Fn(c.h,f)}),f}function Nn(c){if(c.J)throw new Q("internal-error","RecaptchaVerifier instance has been destroyed.")}function wp(c,f,v){var w=!1;try{this.b=v||_e.Z.app()}catch{throw new Q("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new Q("invalid-api-key");v=this.b.options.apiKey;var D=this,k=null;try{k=this.b.auth().Ga()}catch{}try{w=this.b.auth().settings.appVerificationDisabledForTesting}catch{}k=_e.Z.SDK_VERSION?Hd(_e.Z.SDK_VERSION,k):null,Wh.call(this,v,c,f,function(){try{var N=D.b.auth().la()}catch{N=null}return N},k,ge(pe),w)}function pa(c,f,v,w){e:{v=Array.prototype.slice.call(v);for(var D=0,k=!1,N=0;N<f.length;N++)if(f[N].optional)k=!0;else{if(k)throw new Q("internal-error","Argument validator encountered a required argument after an optional argument.");D++}if(k=f.length,v.length<D||k<v.length)w="Expected "+(D==k?1==D?"1 argument":D+" arguments":D+"-"+k+" arguments")+" but got "+v.length+".";else{for(D=0;D<v.length;D++)if(k=f[D].optional&&void 0===v[D],!f[D].M(v[D])&&!k){if(f=f[D],0>D||D>=us.length)throw new Q("internal-error","Argument validator received an unsupported number of arguments.");v=us[D],w=(w?"":v+" argument ")+(f.name?'"'+f.name+'" ':"")+"must be "+f.K+".";break e}w=null}}if(w)throw new Q("argument-error",c+" failed: "+w)}(I=Wh.prototype).Ia=function(){var c=this;return this.f?this.f:this.f=$a(this,Qe().then(function(){if(Oi()&&!ki())return jn();throw new Q("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return c.m.g(c.u())}).then(function(f){return c.g=f,un(c.s,G_,{})}).then(function(f){c.a[Sy]=f.recaptchaSiteKey}).o(function(f){throw c.f=null,f}))},I.render=function(){Nn(this);var c=this;return $a(this,this.Ia().then(function(){if(null===c.c){var f=c.v;if(!c.i){var v=xe(f);f=function ou(c,f,v){var w=arguments,D=document,k=String(w[0]),N=w[1];if(!hf&&N&&(N.name||N.type)){if(k=["<",k],N.name&&k.push(' name="',nu(N.name),'"'),N.type){k.push(' type="',nu(N.type),'"');var j={};se(j,N),delete j.type,N=j}k.push(">"),k=k.join("")}return k=Ea(D,k),N&&("string"==typeof N?k.className=N:Array.isArray(N)?k.className=N.join(" "):ff(k,N)),2<w.length&&function su(c,f,v){function w(j){j&&f.appendChild("string"==typeof j?c.createTextNode(j):j)}for(var D=2;D<v.length;D++){var k=v[D];if(!Rt(k)||bt(k)&&0<k.nodeType)w(k);else{e:{if(k&&"number"==typeof k.length){if(bt(k)){var N="function"==typeof k.item||"string"==typeof k.item;break e}if(Ft(k)){N="function"==typeof k.item;break e}}N=!1}Lt(N?Gn(k):k,w)}}}(D,k,w),k}("DIV"),v.appendChild(f)}c.c=c.g.render(f,c.a)}return c.c}))},I.verify=function(){Nn(this);var c=this;return $a(this,this.render().then(function(f){return new ot(function(v){var w=c.g.getResponse(f);if(w)v(w);else{var D=function(k){k&&(function el(c,f){qn(c.l,function(v){return v==f})}(c,D),v(k))};c.l.push(D),c.i&&c.g.execute(c.c)}})}))},I.reset=function(){Nn(this),null!==this.c&&this.g.reset(this.c)},I.clear=function(){Nn(this),this.J=!0,this.m.c();for(var c=0;c<this.h.length;c++)this.h[c].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){c=xe(this.v);for(var f;f=c.firstChild;)c.removeChild(f)}},pt(wp,Wh);var us="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Ze(c,f){return{name:c||"",K:"a valid string",optional:!!f,M:function(v){return"string"==typeof v}}}function Ep(c,f){return{name:c||"",K:"a boolean",optional:!!f,M:function(v){return"boolean"==typeof v}}}function Qn(c,f){return{name:c||"",K:"a valid object",optional:!!f,M:bt}}function tl(c,f){return{name:c||"",K:"a function",optional:!!f,M:function(v){return"function"==typeof v}}}function cs(c,f){return{name:c||"",K:"null",optional:!!f,M:function(v){return null===v}}}function Us(c){return{name:c?c+"Credential":"credential",K:c?"a valid "+c+" credential":"a valid credential",optional:!1,M:function(f){return!!f&&!(!f.ka||c&&f.providerId!==c)}}}function ma(c,f){return bt(c)&&"string"==typeof c.type&&c.type===f&&"function"==typeof c.Ha}function ti(c){return bt(c)&&"string"==typeof c.uid}function _r(c,f,v,w){return{name:v||"",K:c.K+" or "+f.K,optional:!!w,M:function(D){return c.M(D)||f.M(D)}}}function zn(c,f){for(var v in f){var w=f[v].name;c[w]=pv(w,c[v],f[v].j)}}function md(c,f){for(var v in f){var w=f[v].name;w!==v&&Object.defineProperty(c,w,{get:Jt(function(D){return this[D]},v),set:Jt(function(D,k,N,j){pa(D,[N],[j],!0),this[k]=j},w,v,f[v].lb),enumerable:!0})}}function ar(c,f,v,w){c[f]=pv(f,v,w)}function pv(c,f,v){function w(){var N=Array.prototype.slice.call(arguments);return pa(D,v,N),f.apply(this,N)}if(!v)return f;var k,D=function Um(c){return(c=c.split("."))[c.length-1]}(c);for(k in f)w[k]=f[k];for(k in f.prototype)w.prototype[k]=f.prototype[k];return w}zn(Bs.prototype,{kb:{name:"applyActionCode",j:[Ze("code")]},Sa:{name:"checkActionCode",j:[Ze("code")]},ob:{name:"confirmPasswordReset",j:[Ze("code"),Ze("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Ze("email"),Ze("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Ze("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Ze("emailLink")]},Hc:{name:"onAuthStateChanged",j:[_r(Qn(),tl(),"nextOrObserver"),tl("opt_error",!0),tl("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[_r(Qn(),tl(),"nextOrObserver"),tl("opt_error",!0),tl("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Ze("email"),_r(Qn("opt_actionCodeSettings",!0),cs(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Ze("email"),Qn("actionCodeSettings")]},yb:{name:"setPersistence",j:[Ze("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Us()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Us()]},Tc:{name:"signInWithCustomToken",j:[Ze("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Ze("email"),Ze("password")]},Vc:{name:"signInWithEmailLink",j:[Ze("email"),Ze("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Ze("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(c){return!(!c||"string"!=typeof c.type||"function"!=typeof c.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(c){return!!(c&&c.providerId&&c.hasOwnProperty&&c.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(c){return!!(c&&c.providerId&&c.hasOwnProperty&&c.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[_r({name:"user",K:"an instance of Firebase User",optional:!1,M:function(f){return!!(f&&f instanceof Do)}},cs(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Ze(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Ze("url"),Qn("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Ze("code")]}}),md(Bs.prototype,{lc:{name:"languageCode",lb:_r(Ze(),cs(),"languageCode")},ti:{name:"tenantId",lb:_r(Ze(),cs(),"tenantId")}}),(Bs.Persistence=aa).LOCAL="local",Bs.Persistence.SESSION="session",Bs.Persistence.NONE="none",zn(Do.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Ep("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Ep("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Us()]},rb:{name:"linkWithCredential",j:[Us()]},Dc:{name:"linkWithPhoneNumber",j:[Ze("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(c){return!(!c||"string"!=typeof c.type||"function"!=typeof c.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(c){return!!(c&&c.providerId&&c.hasOwnProperty&&c.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(c){return!!(c&&c.providerId&&c.hasOwnProperty&&c.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Us()]},ub:{name:"reauthenticateWithCredential",j:[Us()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Ze("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(c){return!(!c||"string"!=typeof c.type||"function"!=typeof c.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(c){return!!(c&&c.providerId&&c.hasOwnProperty&&c.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(c){return!!(c&&c.providerId&&c.hasOwnProperty&&c.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[_r(Qn("opt_actionCodeSettings",!0),cs(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Ze(null,!0)]},cd:{name:"unlink",j:[Ze("provider")]},Cb:{name:"updateEmail",j:[Ze("email")]},Db:{name:"updatePassword",j:[Ze("password")]},ed:{name:"updatePhoneNumber",j:[Us("phone")]},Eb:{name:"updateProfile",j:[Qn("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Ze("email"),_r(Qn("opt_actionCodeSettings",!0),cs(null,!0),"opt_actionCodeSettings",!0)]}}),zn(Jc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),zn(as.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),zn(ot.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),md(sv.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Ep("appVerificationDisabledForTesting")}}),zn(Hc.prototype,{confirm:{name:"confirm",j:[Ze("verificationCode")]}}),ar(to,"fromJSON",function(c){c="string"==typeof c?JSON.parse(c):c;for(var f,v=[na,Qp,Jp,$_],w=0;w<v.length;w++)if(f=v[w](c))return f;return null},[_r(Ze(),Qn(),"json")]),ar(kn,"credential",function(c,f){return new Ra(c,f)},[Ze("email"),Ze("password")]),zn(Ra.prototype,{w:{name:"toJSON",j:[Ze(null,!0)]}}),zn(yu.prototype,{Ca:{name:"addScope",j:[Ze("scope")]},Ka:{name:"setCustomParameters",j:[Qn("customOAuthParameters")]}}),ar(yu,"credential",If,[_r(Ze(),Qn(),"token")]),ar(kn,"credentialWithLink",kl,[Ze("email"),Ze("emailLink")]),zn(_u.prototype,{Ca:{name:"addScope",j:[Ze("scope")]},Ka:{name:"setCustomParameters",j:[Qn("customOAuthParameters")]}}),ar(_u,"credential",kr,[_r(Ze(),Qn(),"token")]),zn(Ot.prototype,{Ca:{name:"addScope",j:[Ze("scope")]},Ka:{name:"setCustomParameters",j:[Qn("customOAuthParameters")]}}),ar(Ot,"credential",bu,[_r(Ze(),_r(Qn(),cs()),"idToken"),_r(Ze(),cs(),"accessToken",!0)]),zn(xa.prototype,{Ka:{name:"setCustomParameters",j:[Qn("customOAuthParameters")]}}),ar(xa,"credential",Tf,[_r(Ze(),Qn(),"token"),Ze("secret",!0)]),zn(Hn.prototype,{Ca:{name:"addScope",j:[Ze("scope")]},credential:{name:"credential",j:[_r(Ze(),_r(Qn(),cs()),"optionsOrIdToken"),_r(Ze(),cs(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Qn("customOAuthParameters")]}}),zn(Xo.prototype,{w:{name:"toJSON",j:[Ze(null,!0)]}}),zn(Zo.prototype,{w:{name:"toJSON",j:[Ze(null,!0)]}}),ar(Br,"credential",Ag,[Ze("verificationId"),Ze("verificationCode")]),zn(Br.prototype,{gb:{name:"verifyPhoneNumber",j:[_r(Ze(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(v){return!!v&&(v.session&&v.phoneNumber?ma(v.session,yc)&&"string"==typeof v.phoneNumber:v.session&&v.multiFactorHint?ma(v.session,Yo)&&ti(v.multiFactorHint):v.session&&v.multiFactorUid?ma(v.session,Yo)&&"string"==typeof v.multiFactorUid:!!v.phoneNumber&&"string"==typeof v.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(c){return!(!c||"string"!=typeof c.type||"function"!=typeof c.verify)}}]}}),zn(Zn.prototype,{w:{name:"toJSON",j:[Ze(null,!0)]}}),zn(Q.prototype,{toJSON:{name:"toJSON",j:[Ze(null,!0)]}}),zn(wu.prototype,{toJSON:{name:"toJSON",j:[Ze(null,!0)]}}),zn(Ol.prototype,{toJSON:{name:"toJSON",j:[Ze(null,!0)]}}),zn(sp.prototype,{toJSON:{name:"toJSON",j:[Ze(null,!0)]}}),zn(op.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(c){return!!c&&!!c.tb}}]}}),zn(Am.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(c){return!!c&&!!c.tb}},Ze("displayName",!0)]},bd:{name:"unenroll",j:[_r({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:ti},Ze(),"multiFactorInfoIdentifier")]}}),zn(wp.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),ar(wf,"parseLink",mc,[Ze("link")]),ar($h,"assertion",function(c){return new uv(c)},[Us("phone")]),function(){if(!(typeof _e.Z<"u"&&_e.Z.INTERNAL&&_e.Z.INTERNAL.registerComponent))throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var c={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:pu,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Ia,VERIFY_AND_CHANGE_EMAIL:Pi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Bs,AuthCredential:to,Error:Q};ar(c,"EmailAuthProvider",kn,[]),ar(c,"FacebookAuthProvider",yu,[]),ar(c,"GithubAuthProvider",_u,[]),ar(c,"GoogleAuthProvider",Ot,[]),ar(c,"TwitterAuthProvider",xa,[]),ar(c,"OAuthProvider",Hn,[Ze("providerId")]),ar(c,"SAMLAuthProvider",xs,[Ze("providerId")]),ar(c,"PhoneAuthProvider",Br,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(c){return!!(c&&c instanceof Bs)}}]),ar(c,"RecaptchaVerifier",wp,[_r(Ze(),{name:"",K:"an HTML element",optional:!1,M:function(c){return!!(c&&c instanceof Element)}},"recaptchaContainer"),Qn("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(c){return!!(c&&c instanceof _e.Z.app.App)}}]),ar(c,"ActionCodeURL",wf,[]),ar(c,"PhoneMultiFactorGenerator",$h,[]),_e.Z.INTERNAL.registerComponent({name:"auth",instanceFactory:function(f){return new Bs(f=f.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:c,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(f){f.getProvider("auth-internal").initialize()}}),_e.Z.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(f){return{getUid:Xe((f=f.getProvider("auth").getImmediate()).getUid,f),getToken:Xe(f.nc,f),addAuthTokenListener:Xe(f.cc,f),removeAuthTokenListener:Xe(f.Pc,f)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),_e.Z.registerVersion("@firebase/auth","0.16.8"),_e.Z.INTERNAL.extendNamespace({User:Do})}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},361:(Ja,hi,qt)=>{qt.r(hi);var _e=qt(367),I=qt(655),Ke=qt(492),qe=qt(3),Nt=function(a,s){return(Nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,h){l.__proto__=h}||function(l,h){for(var m in h)Object.prototype.hasOwnProperty.call(h,m)&&(l[m]=h[m])})(a,s)};function Or(a){var s="function"==typeof Symbol&&Symbol.iterator,l=s&&a[s],h=0;if(l)return l.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&h>=a.length&&(a=void 0),{value:a&&a[h++],done:!a}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}var ce,Wi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},q=q||{},De=Wi||self;function He(){}function Me(a){var s=typeof a;return"array"==(s="object"!=s?s:a?Array.isArray(a)?"array":s:"null")||"object"==s&&"number"==typeof a.length}function Pe(a){var s=typeof a;return"object"==s&&null!=a||"function"==s}var Rt="closure_uid_"+(1e9*Math.random()>>>0),Ft=0;function bt(a,s,l){return a.call.apply(a.bind,arguments)}function Mr(a,s,l){if(!a)throw Error();if(2<arguments.length){var h=Array.prototype.slice.call(arguments,2);return function(){var m=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(m,h),a.apply(s,m)}}return function(){return a.apply(s,arguments)}}function Yt(a,s,l){return(Yt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?bt:Mr).apply(null,arguments)}function xr(a,s){var l=Array.prototype.slice.call(arguments,1);return function(){var h=l.slice();return h.push.apply(h,arguments),a.apply(this,h)}}function wt(a,s){function l(){}l.prototype=s.prototype,a.Z=s.prototype,a.prototype=new l,a.prototype.constructor=a,a.Vb=function(h,m,y){for(var b=Array(arguments.length-2),C=2;C<arguments.length;C++)b[C-2]=arguments[C];return s.prototype[m].apply(h,b)}}function ir(){this.s=this.s,this.o=this.o}var Jt={};ir.prototype.s=!1,ir.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var a=function Pt(a){return Object.prototype.hasOwnProperty.call(a,Rt)&&a[Rt]||(a[Rt]=++Ft)}(this);delete Jt[a]}},ir.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Ki=Array.prototype.indexOf?function(a,s){return Array.prototype.indexOf.call(a,s,void 0)}:function(a,s){if("string"==typeof a)return"string"!=typeof s||1!=s.length?-1:a.indexOf(s,0);for(var l=0;l<a.length;l++)if(l in a&&a[l]===s)return l;return-1},pt=Array.prototype.forEach?function(a,s,l){Array.prototype.forEach.call(a,s,l)}:function(a,s,l){for(var h=a.length,m="string"==typeof a?a.split(""):a,y=0;y<h;y++)y in m&&s.call(l,m[y],y,a)};function Q(a){return Array.prototype.concat.apply([],arguments)}function qr(a){var s=a.length;if(0<s){for(var l=Array(s),h=0;h<s;h++)l[h]=a[h];return l}return[]}function Jn(a){return/^[\s\xa0]*$/.test(a)}var pe,de=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};function te(a,s){return-1!=a.indexOf(s)}function ge(a,s){return a<s?-1:a>s?1:0}e:{var ke=De.navigator;if(ke){var Se=ke.userAgent;if(Se){pe=Se;break e}}pe=""}function ye(a,s,l){for(var h in a)s.call(l,a[h],h,a)}function Ne(a){var s={};for(var l in a)s[l]=a[l];return s}var ht="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Oe(a,s){for(var l,h,m=1;m<arguments.length;m++){for(l in h=arguments[m])a[l]=h[l];for(var y=0;y<ht.length;y++)l=ht[y],Object.prototype.hasOwnProperty.call(h,l)&&(a[l]=h[l])}}function Ue(a){return Ue[" "](a),a}Ue[" "]=He;var en,a,je=te(pe,"Opera"),Mn=te(pe,"Trident")||te(pe,"MSIE"),Nr=te(pe,"Edge"),Lt=Nr||Mn,xn=te(pe,"Gecko")&&!(te(pe.toLowerCase(),"webkit")&&!te(pe,"Edge"))&&!(te(pe,"Trident")||te(pe,"MSIE"))&&!te(pe,"Edge"),Ro=te(pe.toLowerCase(),"webkit")&&!te(pe,"Edge");function Gt(){var a=De.document;return a?a.documentMode:void 0}e:{var fi="",Rn=(a=pe,xn?/rv:([^\);]+)(\)|;)/.exec(a):Nr?/Edge\/([\d\.]+)/.exec(a):Mn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a):Ro?/WebKit\/(\S+)/.exec(a):je?/(?:Version)[ \/]?(\S+)/.exec(a):void 0);if(Rn&&(fi=Rn?Rn[1]:""),Mn){var Fn=Gt();if(null!=Fn&&Fn>parseFloat(fi)){en=String(Fn);break e}}en=fi}var qn={};var ho=De.document&&Mn&&(Gt()||parseInt(en,10))||void 0,Ad=function(){if(!De.addEventListener||!Object.defineProperty)return!1;var a=!1,s=Object.defineProperty({},"passive",{get:function(){a=!0}});try{De.addEventListener("test",He,s),De.removeEventListener("test",He,s)}catch{}return a}();function Pr(a,s){this.type=a,this.g=this.target=s,this.defaultPrevented=!1}function vs(a,s){if(Pr.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var l=this.type=a.type,h=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=s,s=a.relatedTarget){if(xn){e:{try{Ue(s.nodeName);var m=!0;break e}catch{}m=!1}m||(s=null)}}else"mouseover"==l?s=a.fromElement:"mouseout"==l&&(s=a.toElement);this.relatedTarget=s,h?(this.clientX=void 0!==h.clientX?h.clientX:h.pageX,this.clientY=void 0!==h.clientY?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0):(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType="string"==typeof a.pointerType?a.pointerType:cf[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&vs.Z.h.call(this)}}Pr.prototype.h=function(){this.defaultPrevented=!0},wt(vs,Pr);var cf={2:"touch",3:"pen",4:"mouse"};vs.prototype.h=function(){vs.Z.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Ti="closure_listenable_"+(1e6*Math.random()|0),Md=0;function St(a,s,l,h,m){this.listener=a,this.proxy=null,this.src=s,this.type=l,this.capture=!!h,this.ia=m,this.key=++Md,this.ca=this.fa=!1}function Yi(a){a.ca=!0,a.listener=null,a.proxy=null,a.src=null,a.ia=null}function br(a){this.src=a,this.g={},this.h=0}function cl(a,s){var l=s.type;if(l in a.g){var y,h=a.g[l],m=Ki(h,s);(y=0<=m)&&Array.prototype.splice.call(h,m,1),y&&(Yi(s),0==a.g[l].length&&(delete a.g[l],a.h--))}}function Ku(a,s,l,h){for(var m=0;m<a.length;++m){var y=a[m];if(!y.ca&&y.listener==s&&y.capture==!!l&&y.ia==h)return m}return-1}br.prototype.add=function(a,s,l,h,m){var y=a.toString();(a=this.g[y])||(a=this.g[y]=[],this.h++);var b=Ku(a,s,h,m);return-1<b?(s=a[b],l||(s.fa=!1)):((s=new St(s,this.src,y,!!h,m)).fa=l,a.push(s)),s};var Ln="closure_lm_"+(1e6*Math.random()|0),$o={};function W(a,s,l,h,m){if(h&&h.once)return se(a,s,l,h,m);if(Array.isArray(s)){for(var y=0;y<s.length;y++)W(a,s[y],l,h,m);return null}return l=Fr(l),a&&a[Ti]?a.N(s,l,Pe(h)?!!h.capture:!!h,m):G(a,s,l,!1,h,m)}function G(a,s,l,h,m,y){if(!s)throw Error("Invalid event type");var b=Pe(m)?!!m.capture:!!m,C=mn(a);if(C||(a[Ln]=C=new br(a)),(l=C.add(s,l,h,b,y)).proxy)return l;if(h=function J(){var s=tn;return function a(l){return s.call(a.src,a.listener,l)}}(),l.proxy=h,h.src=a,h.listener=l,a.addEventListener)Ad||(m=b),void 0===m&&(m=!1),a.addEventListener(s.toString(),h,m);else if(a.attachEvent)a.attachEvent(ft(s.toString()),h);else{if(!a.addListener||!a.removeListener)throw Error("addEventListener and attachEvent are unavailable.");a.addListener(h)}return l}function se(a,s,l,h,m){if(Array.isArray(s)){for(var y=0;y<s.length;y++)se(a,s[y],l,h,m);return null}return l=Fr(l),a&&a[Ti]?a.O(s,l,Pe(h)?!!h.capture:!!h,m):G(a,s,l,!0,h,m)}function X(a,s,l,h,m){if(Array.isArray(s))for(var y=0;y<s.length;y++)X(a,s[y],l,h,m);else h=Pe(h)?!!h.capture:!!h,l=Fr(l),a&&a[Ti]?(a=a.i,(s=String(s).toString())in a.g&&-1<(l=Ku(y=a.g[s],l,h,m))&&(Yi(y[l]),Array.prototype.splice.call(y,l,1),0==y.length&&(delete a.g[s],a.h--))):a&&(a=mn(a))&&(s=a.g[s.toString()],a=-1,s&&(a=Ku(s,l,h,m)),(l=-1<a?s[a]:null)&&Ae(l))}function Ae(a){if("number"!=typeof a&&a&&!a.ca){var s=a.src;if(s&&s[Ti])cl(s.i,a);else{var l=a.type,h=a.proxy;s.removeEventListener?s.removeEventListener(l,h,a.capture):s.detachEvent?s.detachEvent(ft(l),h):s.addListener&&s.removeListener&&s.removeListener(h),(l=mn(s))?(cl(l,a),0==l.h&&(l.src=null,s[Ln]=null)):Yi(a)}}}function ft(a){return a in $o?$o[a]:$o[a]="on"+a}function tn(a,s){if(a.ca)a=!0;else{s=new vs(s,this);var l=a.listener,h=a.ia||a.src;a.fa&&Ae(a),a=l.call(h,s)}return a}function mn(a){return(a=a[Ln])instanceof br?a:null}var sn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fr(a){return"function"==typeof a?a:(a[sn]||(a[sn]=function(s){return a.handleEvent(s)}),a[sn])}function nn(){ir.call(this),this.i=new br(this),this.P=this,this.I=null}function gt(a,s){var l,h=a.I;if(h)for(l=[];h;h=h.I)l.push(h);if(a=a.P,h=s.type||s,"string"==typeof s)s=new Pr(s,a);else if(s instanceof Pr)s.target=s.target||a;else{var m=s;Oe(s=new Pr(h,a),m)}if(m=!0,l)for(var y=l.length-1;0<=y;y--){var b=s.g=l[y];m=pi(b,h,!0,s)&&m}if(m=pi(b=s.g=a,h,!0,s)&&m,m=pi(b,h,!1,s)&&m,l)for(y=0;y<l.length;y++)m=pi(b=s.g=l[y],h,!1,s)&&m}function pi(a,s,l,h){if(!(s=a.i.g[String(s)]))return!0;s=s.concat();for(var m=!0,y=0;y<s.length;++y){var b=s[y];if(b&&!b.ca&&b.capture==l){var C=b.listener,T=b.ia||b.src;b.fa&&cl(a.i,b),m=!1!==C.call(T,h)&&m}}return m&&!h.defaultPrevented}wt(nn,ir),nn.prototype[Ti]=!0,nn.prototype.removeEventListener=function(a,s,l,h){X(this,a,s,l,h)},nn.prototype.M=function(){if(nn.Z.M.call(this),this.i){var s,a=this.i;for(s in a.g){for(var l=a.g[s],h=0;h<l.length;h++)Yi(l[h]);delete a.g[s],a.h--}}this.I=null},nn.prototype.N=function(a,s,l,h){return this.i.add(String(a),s,!1,l,h)},nn.prototype.O=function(a,s,l,h){return this.i.add(String(a),s,!0,l,h)};var _a=De.JSON.stringify;function xd(){var a=eu,s=null;return a.g&&(s=a.g,a.g=a.g.next,a.g||(a.h=null),s.next=null),s}var In,En=function(){function a(){this.h=this.g=null}return a.prototype.add=function(s,l){var h=fo.get();h.set(s,l),this.h?this.h.next=h:this.g=h,this.h=h},a}(),fo=new(function(){function a(s,l){this.i=s,this.j=l,this.h=0,this.g=null}return a.prototype.get=function(){var s;return 0<this.h?(this.h--,this.g=(s=this.g).next,s.next=null):s=this.i(),s},a}())(function(){return new Mt},function(a){return a.reset()}),Mt=function(){function a(){this.next=this.g=this.h=null}return a.prototype.set=function(s,l){this.h=s,this.g=l,this.next=null},a.prototype.reset=function(){this.next=this.g=this.h=null},a}();function ys(a){De.setTimeout(function(){throw a},0)}function Rd(a,s){In||function at(){var a=De.Promise.resolve(void 0);In=function(){a.then(ll)}}(),_s||(In(),_s=!0),eu.add(a,s)}var _s=!1,eu=new En;function ll(){for(var a;a=xd();){try{a.h.call(a.g)}catch(l){ys(l)}var s=fo;s.j(a),100>s.h&&(s.h++,a.next=s.g,s.g=a)}_s=!1}function Ks(a,s){nn.call(this),this.h=a||1,this.g=s||De,this.j=Yt(this.kb,this),this.l=Date.now()}function le(a){a.da=!1,a.S&&(a.g.clearTimeout(a.S),a.S=null)}function Yu(a,s,l){if("function"==typeof a)l&&(a=Yt(a,l));else{if(!a||"function"!=typeof a.handleEvent)throw Error("Invalid listener argument");a=Yt(a.handleEvent,a)}return 2147483647<Number(s)?-1:De.setTimeout(a,s||0)}function Et(a){a.g=Yu(function(){a.g=null,a.i&&(a.i=!1,Et(a))},a.j);var s=a.h;a.h=null,a.m.apply(null,s)}wt(Ks,nn),(ce=Ks.prototype).da=!1,ce.S=null,ce.kb=function(){if(this.da){var a=Date.now()-this.l;0<a&&a<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-a):(this.S&&(this.g.clearTimeout(this.S),this.S=null),gt(this,"tick"),this.da&&(le(this),this.start()))}},ce.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ce.M=function(){Ks.Z.M.call(this),le(this),delete this.g};var yn=function(a){function s(l,h){var m=a.call(this)||this;return m.m=l,m.j=h,m.h=null,m.i=!1,m.g=null,m}return function lo(a,s){if("function"!=typeof s&&null!==s)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function l(){this.constructor=a}Nt(a,s),a.prototype=null===s?Object.create(s):(l.prototype=s.prototype,new l)}(s,a),s.prototype.l=function(l){this.h=arguments,this.g?this.i=!0:Et(this)},s.prototype.M=function(){a.prototype.M.call(this),this.g&&(De.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},s}(ir);function tu(a){ir.call(this),this.h=a,this.g={}}wt(tu,ir);var Zu=[];function nu(a,s,l,h){Array.isArray(l)||(l&&(Zu[0]=l.toString()),l=Zu);for(var m=0;m<l.length;m++){var y=W(s,l[m],h||a.handleEvent,!1,a.h||a);if(!y)break;a.g[y.key]=y}}function ba(a){ye(a.g,function(s,l){this.g.hasOwnProperty(l)&&Ae(s)},a),a.g={}}function oi(){this.g=!0}function ru(a,s,l,h){a.info(function(){return"XMLHTTP TEXT ("+s+"): "+function lf(a,s){if(!a.g)return s;if(!s)return null;try{var l=JSON.parse(s);if(l)for(a=0;a<l.length;a++)if(Array.isArray(l[a])){var h=l[a];if(!(2>h.length)){var m=h[1];if(Array.isArray(m)&&!(1>m.length)){var y=m[0];if("noop"!=y&&"stop"!=y&&"close"!=y)for(var b=1;b<m.length;b++)m[b]=""}}}return _a(l)}catch{return s}}(a,l)+(h?" "+h:"")})}tu.prototype.M=function(){tu.Z.M.call(this),ba(this)},tu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},oi.prototype.Aa=function(){this.g=!1},oi.prototype.info=function(){};var bs={},df=null;function iu(){return df=df||new nn}function Xu(a){Pr.call(this,bs.Ma,a)}function wa(a){var s=iu();gt(s,new Xu(s,a))}function dl(a,s){Pr.call(this,bs.STAT_EVENT,a),this.stat=s}function Ai(a){var s=iu();gt(s,new dl(s,a))}function Mi(a,s){Pr.call(this,bs.Na,a),this.size=s}function Zt(a,s){if("function"!=typeof a)throw Error("Fn must not be null and must be a function");return De.setTimeout(function(){a()},s)}bs.Ma="serverreachability",wt(Xu,Pr),bs.STAT_EVENT="statevent",wt(dl,Pr),bs.Na="timingevent",wt(Mi,Pr);var Qu={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},qo={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function hf(){}function ff(){}hf.prototype.h=null;var Ea,an={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ou(){Pr.call(this,"d")}function su(){Pr.call(this,"c")}function Ju(){}function Ys(a,s,l,h){this.l=a,this.j=s,this.m=l,this.X=h||1,this.V=new tu(this),this.P=au,this.W=new Ks(a=Lt?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ec}function ec(){this.i=null,this.g="",this.h=!1}wt(ou,Pr),wt(su,Pr),wt(Ju,hf),Ju.prototype.g=function(){return new XMLHttpRequest},Ju.prototype.i=function(){return{}},Ea=new Ju;var au=45e3,Ca={},hl={};function it(a,s,l){a.K=1,a.v=er(be(s)),a.s=l,a.U=!0,tc(a,null)}function tc(a,s){a.F=Date.now(),Es(a),a.A=be(a.v);var l=a.A,h=a.X;Array.isArray(h)||(h=[String(h)]),ml(l.h,"t",h),a.C=0,l=a.l.H,a.h=new ec,a.g=sc(a.l,l?s:null,!a.s),0<a.O&&(a.L=new yn(Yt(a.Ia,a,a.g),a.O)),nu(a.V,a.g,"readystatechange",a.gb),s=a.H?Ne(a.H):{},a.s?(a.u||(a.u="POST"),s["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.s,s)):(a.u="GET",a.g.ea(a.A,a.u,null,s)),wa(1),function jp(a,s,l,h,m,y){a.info(function(){if(a.g)if(y)for(var b="",C=y.split("&"),T=0;T<C.length;T++){var O=C[T].split("=");if(1<O.length){var P=O[0];O=O[1];var B=P.split("_");b=2<=B.length&&"type"==B[1]?b+(P+"=")+O+"&":b+(P+"=redacted&")}}else b=null;else b=y;return"XMLHTTP REQ ("+h+") [attempt "+m+"]: "+s+"\n"+l+"\n"+b})}(a.j,a.u,a.A,a.m,a.X,a.s)}function fl(a){return!!a.g&&"GET"==a.u&&2!=a.K&&a.l.Ba}function ot(a,s,l){for(var m,h=!0;!a.I&&a.C<l.length;){if((m=ws(a,l))==hl){4==s&&(a.o=4,Ai(14),h=!1),ru(a.j,a.m,null,"[Incomplete Response]");break}if(m==Ca){a.o=4,Ai(15),ru(a.j,a.m,l,"[Invalid Chunk]"),h=!1;break}ru(a.j,a.m,m,null),Qe(a,m)}fl(a)&&m!=hl&&m!=Ca&&(a.h.g="",a.C=0),4!=s||0!=l.length||a.h.h||(a.o=1,Ai(16),h=!1),a.i=a.i&&h,h?0<l.length&&!a.aa&&(a.aa=!0,(s=a.l).g==a&&s.$&&!s.L&&(s.h.info("Great, no buffering proxy detected. Bytes received: "+l.length),yo(s),s.L=!0,Ai(11))):(ru(a.j,a.m,l,"[Invalid Chunked Response]"),Zs(a),nc(a))}function ws(a,s){var l=a.C,h=s.indexOf("\n",l);return-1==h?hl:(l=Number(s.substring(l,h)),isNaN(l)?Ca:(h+=1)+l>s.length?hl:(s=s.substr(h,l),a.C=h+l,s))}function Es(a){a.Y=Date.now()+a.P,Vt(a,a.P)}function Vt(a,s){if(null!=a.B)throw Error("WatchDog timer not null");a.B=Zt(Yt(a.eb,a),s)}function pl(a){a.B&&(De.clearTimeout(a.B),a.B=null)}function nc(a){0==a.l.G||a.I||Ji(a.l,a)}function Zs(a){pl(a);var s=a.L;s&&"function"==typeof s.na&&s.na(),a.L=null,le(a.W),ba(a.V),a.g&&(s=a.g,a.g=null,s.abort(),s.na())}function Qe(a,s){try{var l=a.l;if(0!=l.G&&(l.g==a||Pd(l.i,a)))if(l.I=a.N,!a.J&&Pd(l.i,a)&&3==l.G){try{var h=l.Ca.g.parse(s)}catch{h=null}if(Array.isArray(h)&&3==h.length){var m=h;if(0==m[0]){e:if(!l.u){if(l.g){if(!(l.g.F+3e3<a.F))break e;Dt(l),vi(l)}lr(l),Ai(18)}}else l.ta=m[1],0<l.ta-l.U&&37500>m[2]&&l.N&&0==l.A&&!l.v&&(l.v=Zt(Yt(l.ab,l),6e3));if(1>=Nd(l.i)&&l.ka){try{l.ka()}catch{}l.ka=void 0}}else No(l,11)}else if((a.J||l.g==a)&&Dt(l),!Jn(s))for(m=l.Ca.g.parse(s),s=0;s<m.length;s++){var y=m[s];if(l.U=y[0],y=y[1],2==l.G)if("c"==y[0]){l.J=y[1],l.la=y[2];var b=y[3];null!=b&&(l.ma=b,l.h.info("VER="+l.ma));var C=y[4];null!=C&&(l.za=C,l.h.info("SVER="+l.za));var T=y[5];null!=T&&"number"==typeof T&&0<T&&(l.K=h=1.5*T,l.h.info("backChannelRequestTimeoutMs_="+h)),h=l;var O=a.g;if(O){var P=O.g?O.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(P){var B=h.i;!B.g&&(te(P,"spdy")||te(P,"quic")||te(P,"h2"))&&(B.j=B.l,B.g=new Set,B.h&&(mo(B,B.h),B.h=null))}if(h.D){var z=O.g?O.g.getResponseHeader("X-HTTP-Session-Id"):null;z&&(h.sa=z,ut(h.F,h.D,z))}}l.G=3,l.j&&l.j.xa(),l.$&&(l.O=Date.now()-a.F,l.h.info("Handshake RTT: "+l.O+"ms"));var re=a;if((h=l).oa=Ss(h,h.H?h.la:null,h.W),re.J){mf(h.i,re);var ne=re,he=h.K;he&&ne.setTimeout(he),ne.B&&(pl(ne),Es(ne)),h.g=re}else oc(h);0<l.l.length&&vt(l)}else"stop"!=y[0]&&"close"!=y[0]||No(l,7);else 3==l.G&&("stop"==y[0]||"close"==y[0]?"stop"==y[0]?No(l,7):vo(l):"noop"!=y[0]&&l.j&&l.j.wa(y),l.A=0)}wa(4)}catch{}}function Da(a,s){if(a.forEach&&"function"==typeof a.forEach)a.forEach(s,void 0);else if(Me(a)||"string"==typeof a)pt(a,s,void 0);else{if(a.T&&"function"==typeof a.T)var l=a.T();else if(a.R&&"function"==typeof a.R)l=void 0;else if(Me(a)||"string"==typeof a){l=[];for(var h=a.length,m=0;m<h;m++)l.push(m)}else for(m in l=[],h=0,a)l[h++]=m;h=function Vn(a){if(a.R&&"function"==typeof a.R)return a.R();if("string"==typeof a)return a.split("");if(Me(a)){for(var s=[],l=a.length,h=0;h<l;h++)s.push(a[h]);return s}for(h in s=[],l=0,a)s[l++]=a[h];return s}(a),m=h.length;for(var y=0;y<m;y++)s.call(void 0,h[y],l&&l[y],a)}}function R(a,s){this.h={},this.g=[],this.i=0;var l=arguments.length;if(1<l){if(l%2)throw Error("Uneven number of arguments");for(var h=0;h<l;h+=2)this.set(arguments[h],arguments[h+1])}else if(a)if(a instanceof R)for(l=a.T(),h=0;h<l.length;h++)this.set(l[h],a.get(l[h]));else for(h in a)this.set(h,a[h])}function M(a){if(a.i!=a.g.length){for(var s=0,l=0;s<a.g.length;){var h=a.g[s];F(a.h,h)&&(a.g[l++]=h),s++}a.g.length=l}if(a.i!=a.g.length){var m={};for(l=s=0;s<a.g.length;)F(m,h=a.g[s])||(a.g[l++]=h,m[h]=1),s++;a.g.length=l}}function F(a,s){return Object.prototype.hasOwnProperty.call(a,s)}(ce=Ys.prototype).setTimeout=function(a){this.P=a},ce.gb=function(a){a=a.target;var s=this.L;s&&3==Cr(a)?s.l():this.Ia(a)},ce.Ia=function(a){try{if(a==this.g)e:{var s=Cr(this.g),l=this.g.Da(),h=this.g.ba();if(!(3>s)&&(3!=s||Lt||this.g&&(this.h.h||this.g.ga()||go(this.g)))){this.I||4!=s||7==l||wa(8==l||0>=h?3:2),pl(this);var m=this.g.ba();this.N=m;t:if(fl(this)){var y=go(this.g);a="";var b=y.length,C=4==Cr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Zs(this),nc(this);var T="";break t}this.h.i=new De.TextDecoder}for(l=0;l<b;l++)this.h.h=!0,a+=this.h.i.decode(y[l],{stream:C&&l==b-1});y.splice(0,b),this.h.g+=a,this.C=0,T=this.h.g}else T=this.g.ga();if(this.i=200==m,function ko(a,s,l,h,m,y,b){a.info(function(){return"XMLHTTP RESP ("+h+") [ attempt "+m+"]: "+s+"\n"+l+"\n"+y+" "+b})}(this.j,this.u,this.A,this.m,this.X,s,m),this.i){if(this.$&&!this.J){t:{if(this.g){var O,P=this.g;if((O=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Jn(O)){var B=O;break t}}B=null}if(!(m=B)){this.i=!1,this.o=3,Ai(12),Zs(this),nc(this);break e}ru(this.j,this.m,m,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Qe(this,m)}this.U?(ot(this,s,T),Lt&&this.i&&3==s&&(nu(this.V,this.W,"tick",this.fb),this.W.start())):(ru(this.j,this.m,T,null),Qe(this,T)),4==s&&Zs(this),this.i&&!this.I&&(4==s?Ji(this.l,this):(this.i=!1,Es(this)))}else 400==m&&0<T.indexOf("Unknown SID")?(this.o=3,Ai(12)):(this.o=0,Ai(13)),Zs(this),nc(this)}}}catch{}},ce.fb=function(){if(this.g){var a=Cr(this.g),s=this.g.ga();this.C<s.length&&(pl(this),ot(this,a,s),this.i&&4!=a&&Es(this))}},ce.cancel=function(){this.I=!0,Zs(this)},ce.eb=function(){this.B=null;var a=Date.now();0<=a-this.Y?(function Zi(a,s){a.info(function(){return"TIMEOUT: "+s})}(this.j,this.A),2!=this.K&&(wa(3),Ai(17)),Zs(this),this.o=2,nc(this)):Vt(this,this.Y-a)},(ce=R.prototype).R=function(){M(this);for(var a=[],s=0;s<this.g.length;s++)a.push(this.h[this.g[s]]);return a},ce.T=function(){return M(this),this.g.concat()},ce.get=function(a,s){return F(this.h,a)?this.h[a]:s},ce.set=function(a,s){F(this.h,a)||(this.i++,this.g.push(a)),this.h[a]=s},ce.forEach=function(a,s){for(var l=this.T(),h=0;h<l.length;h++){var m=l[h],y=this.get(m);a.call(s,y,m,this)}};var U=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ie(a,s){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,a instanceof ie){this.g=void 0!==s?s:a.g,$e(this,a.j),this.s=a.s,H(this,a.i),Je(this,a.m),this.l=a.l,s=a.h;var l=new cr;l.i=s.i,s.g&&(l.g=new R(s.g),l.h=s.h),me(this,l),this.o=a.o}else a&&(l=String(a).match(U))?(this.g=!!s,$e(this,l[1]||"",!0),this.s=Wn(l[2]||""),H(this,l[3]||"",!0),Je(this,l[4]),this.l=Wn(l[5]||"",!0),me(this,l[6]||"",!0),this.o=Wn(l[7]||"")):(this.g=!!s,this.h=new cr(null,this.g))}function be(a){return new ie(a)}function $e(a,s,l){a.j=l?Wn(s,!0):s,a.j&&(a.j=a.j.replace(/:$/,""))}function H(a,s,l){a.i=l?Wn(s,!0):s}function Je(a,s){if(s){if(s=Number(s),isNaN(s)||0>s)throw Error("Bad port number "+s);a.m=s}else a.m=null}function me(a,s,l){s instanceof cr?(a.h=s,function kd(a,s){s&&!a.j&&(Er(a),a.i=null,a.g.forEach(function(l,h){var m=h.toLowerCase();h!=m&&(Xi(this,h),ml(this,m,l))},a)),a.j=s}(a.h,a.g)):(l||(s=wr(s,Wt)),a.h=new cr(s,a.g))}function ut(a,s,l){a.h.set(s,l)}function er(a){return ut(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Wn(a,s){return a?s?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function wr(a,s,l){return"string"==typeof a?(a=encodeURI(a).replace(s,Gr),l&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Gr(a){return"%"+((a=a.charCodeAt(0))>>4&15).toString(16)+(15&a).toString(16)}ie.prototype.toString=function(){var a=[],s=this.j;s&&a.push(wr(s,tr,!0),":");var l=this.i;return(l||"file"==s)&&(a.push("//"),(s=this.s)&&a.push(wr(s,tr,!0),"@"),a.push(encodeURIComponent(String(l)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(l=this.m)&&a.push(":",String(l))),(l=this.l)&&(this.i&&"/"!=l.charAt(0)&&a.push("/"),a.push(wr(l,"/"==l.charAt(0)?Lr:Kn,!0))),(l=this.h.toString())&&a.push("?",l),(l=this.o)&&a.push("#",wr(l,Cs)),a.join("")};var tr=/[#\/\?@]/g,Kn=/[#\?:]/g,Lr=/[#\?]/g,Wt=/[#\?@]/g,Cs=/#/g;function cr(a,s){this.h=this.g=null,this.i=a||null,this.j=!!s}function Er(a){a.g||(a.g=new R,a.h=0,a.i&&function K(a,s){if(a){a=a.split("&");for(var l=0;l<a.length;l++){var h=a[l].indexOf("="),m=null;if(0<=h){var y=a[l].substring(0,h);m=a[l].substring(h+1)}else y=a[l];s(y,m?decodeURIComponent(m.replace(/\+/g," ")):"")}}}(a.i,function(s,l){a.add(decodeURIComponent(s.replace(/\+/g," ")),l)}))}function Xi(a,s){Er(a),s=rc(a,s),F(a.g.h,s)&&(a.i=null,a.h-=a.g.get(s).length,F((a=a.g).h,s)&&(delete a.h[s],a.i--,a.g.length>2*a.i&&M(a)))}function po(a,s){return Er(a),s=rc(a,s),F(a.g.h,s)}function ml(a,s,l){Xi(a,s),0<l.length&&(a.i=null,a.g.set(rc(a,s),qr(l)),a.h+=l.length)}function rc(a,s){return s=String(s),a.j&&(s=s.toLowerCase()),s}(ce=cr.prototype).add=function(a,s){Er(this),this.i=null,a=rc(this,a);var l=this.g.get(a);return l||this.g.set(a,l=[]),l.push(s),this.h+=1,this},ce.forEach=function(a,s){Er(this),this.g.forEach(function(l,h){pt(l,function(m){a.call(s,m,h,this)},this)},this)},ce.T=function(){Er(this);for(var a=this.g.R(),s=this.g.T(),l=[],h=0;h<s.length;h++)for(var m=a[h],y=0;y<m.length;y++)l.push(s[h]);return l},ce.R=function(a){Er(this);var s=[];if("string"==typeof a)po(this,a)&&(s=Q(s,this.g.get(rc(this,a))));else{a=this.g.R();for(var l=0;l<a.length;l++)s=Q(s,a[l])}return s},ce.set=function(a,s){return Er(this),this.i=null,po(this,a=rc(this,a))&&(this.h-=this.g.get(a).length),this.g.set(a,[s]),this.h+=1,this},ce.get=function(a,s){return a&&0<(a=this.R(a)).length?String(a[0]):s},ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var a=[],s=this.g.T(),l=0;l<s.length;l++){var h=s[l],m=encodeURIComponent(String(h));h=this.R(h);for(var y=0;y<h.length;y++){var b=m;""!==h[y]&&(b+="="+encodeURIComponent(String(h[y]))),a.push(b)}}return this.i=a.join("&")};var gl=function a(s,l){this.h=s,this.g=l};function Od(a){this.l=a||pf,a=De.PerformanceNavigationTiming?0<(a=De.performance.getEntriesByType("navigation")).length&&("hq"==a[0].nextHopProtocol||"h2"==a[0].nextHopProtocol):!!(De.g&&De.g.Ea&&De.g.Ea()&&De.g.Ea().Zb),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var pf=10;function uu(a){return!!a.h||!!a.g&&a.g.size>=a.j}function Nd(a){return a.h?1:a.g?a.g.size:0}function Pd(a,s){return a.h?a.h==s:!!a.g&&a.g.has(s)}function mo(a,s){a.g?a.g.add(s):a.h=s}function mf(a,s){a.h&&a.h==s?a.h=null:a.g&&a.g.has(s)&&a.g.delete(s)}function mg(a){var s,l;if(null!=a.h)return a.i.concat(a.h.D);if(null!=a.g&&0!==a.g.size){var h=a.i;try{for(var m=Or(a.g.values()),y=m.next();!y.done;y=m.next())h=h.concat(y.value.D)}catch(C){s={error:C}}finally{try{y&&!y.done&&(l=m.return)&&l.call(m)}finally{if(s)throw s.error}}return h}return qr(a.i)}function Fd(){}function fr(){this.g=new Fd}function gg(a,s,l){var h=l||"";try{Da(a,function(m,y){var b=m;Pe(m)&&(b=_a(m)),s.push(h+y+"="+encodeURIComponent(b))})}catch(m){throw s.push(h+"type="+encodeURIComponent("_badmap")),m}}function Ld(a,s,l,h,m){try{s.onload=null,s.onerror=null,s.onabort=null,s.ontimeout=null,m(h)}catch{}}function vl(a){this.l=a.$b||null,this.j=a.ib||!1}function gf(a,s){nn.call(this),this.D=a,this.u=s,this.m=void 0,this.readyState=yl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Od.prototype.cancel=function(){var a,s;if(this.i=mg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var l=Or(this.g.values()),h=l.next();!h.done;h=l.next())h.value.cancel()}catch(y){a={error:y}}finally{try{h&&!h.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}this.g.clear()}},Fd.prototype.stringify=function(a){return De.JSON.stringify(a,void 0)},Fd.prototype.parse=function(a){return De.JSON.parse(a,void 0)},wt(vl,hf),vl.prototype.g=function(){return new gf(this.l,this.j)},vl.prototype.i=function(a){return function(){return a}}({}),wt(gf,nn);var yl=0;function Vd(a){a.j.read().then(a.Sa.bind(a)).catch(a.ha.bind(a))}function ic(a){a.readyState=4,a.l=null,a.j=null,a.A=null,Wr(a)}function Wr(a){a.onreadystatechange&&a.onreadystatechange.call(a)}(ce=gf.prototype).open=function(a,s){if(this.readyState!=yl)throw this.abort(),Error("Error reopening a connection");this.C=a,this.B=s,this.readyState=1,Wr(this)},ce.send=function(a){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var s={headers:this.v,method:this.C,credentials:this.m,cache:void 0};a&&(s.body=a),(this.D||De).fetch(new Request(this.B,s)).then(this.Va.bind(this),this.ha.bind(this))},ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ic(this)),this.readyState=yl},ce.Va=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Wr(this)),this.g&&(this.readyState=3,Wr(this),this.g)))if("arraybuffer"===this.responseType)a.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof De.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Vd(this)}else a.text().then(this.Ua.bind(this),this.ha.bind(this))},ce.Sa=function(a){if(this.g){if(this.u&&a.value)this.response.push(a.value);else if(!this.u){var s=a.value?a.value:new Uint8Array(0);(s=this.A.decode(s,{stream:!a.done}))&&(this.response=this.responseText+=s)}a.done?ic(this):Wr(this),3==this.readyState&&Vd(this)}},ce.Ua=function(a){this.g&&(this.response=this.responseText=a,ic(this))},ce.Ta=function(a){this.g&&(this.response=a,ic(this))},ce.ha=function(){this.g&&ic(this)},ce.setRequestHeader=function(a,s){this.v.append(a,s)},ce.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},ce.getAllResponseHeaders=function(){if(!this.h)return"";for(var a=[],s=this.h.entries(),l=s.next();!l.done;)a.push((l=l.value)[0]+": "+l[1]),l=s.next();return a.join("\r\n")},Object.defineProperty(gf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(a){this.m=a?"include":"same-origin"}});var vg=De.JSON.parse;function kt(a){nn.call(this),this.headers=new R,this.u=a||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=_l,this.K=this.L=!1}wt(kt,nn);var _l="",Hp=/^https?$/i,bl=["POST","PUT"];function yg(a){return"content-type"==a.toLowerCase()}function zp(a,s){a.h=!1,a.g&&(a.l=!0,a.g.abort(),a.l=!1),a.j=s,a.m=5,We(a),Ht(a)}function We(a){a.D||(a.D=!0,gt(a,"complete"),gt(a,"error"))}function mi(a){if(a.h&&typeof q<"u"&&(!a.C[1]||4!=Cr(a)||2!=a.ba()))if(a.v&&4==Cr(a))Yu(a.Fa,0,a);else if(gt(a,"readystatechange"),4==Cr(a)){a.h=!1;try{var h,s=a.ba();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var l=!0;break e;default:l=!1}if(!(h=l)){var m;if(m=0===s){var y=String(a.H).match(U)[1]||null;if(!y&&De.self&&De.self.location){var b=De.self.location.protocol;y=b.substr(0,b.length-1)}m=!Hp.test(y?y.toLowerCase():"")}h=m}if(h)gt(a,"complete"),gt(a,"success");else{a.m=6;try{var C=2<Cr(a)?a.g.statusText:""}catch{C=""}a.j=C+" ["+a.ba()+"]",We(a)}}finally{Ht(a)}}}function Ht(a,s){if(a.g){si(a);var l=a.g,h=a.C[0]?He:null;a.g=null,a.C=null,s||gt(a,"ready");try{l.onreadystatechange=h}catch{}}}function si(a){a.g&&a.K&&(a.g.ontimeout=null),a.A&&(De.clearTimeout(a.A),a.A=null)}function Cr(a){return a.g?a.g.readyState:0}function go(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.J){case _l:case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function cu(a,s,l){e:{for(h in l){var h=!1;break e}h=!0}h||(l=function gi(a){var s="";return ye(a,function(l,h){s+=h,s+=":",s+=l,s+="\r\n"}),s}(l),"string"==typeof a?null!=l&&encodeURIComponent(String(l)):ut(a,s,l))}function lu(a,s,l){return l&&l.internalChannelParams&&l.internalChannelParams[a]||s}function or(a){this.za=0,this.l=[],this.h=new oi,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=lu("failFast",!1,a),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=lu("baseRetryDelayMs",5e3,a),this.$a=lu("retryDelaySeedMs",1e4,a),this.Ya=lu("forwardChannelMaxRetries",2,a),this.ra=lu("forwardChannelRequestTimeoutMs",2e4,a),this.qa=a&&a.xmlHttpFactory||void 0,this.Ba=a&&a.Yb||!1,this.K=void 0,this.H=a&&a.supportsCrossDomainXhr||!1,this.J="",this.i=new Od(a&&a.concurrentRequestLimit),this.Ca=new fr,this.ja=a&&a.fastHandshake||!1,this.Ra=a&&a.Wb||!1,a&&a.Aa&&this.h.Aa(),a&&a.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&a&&a.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!a||!1!==a.Xb}function vo(a){if(Dr(a),3==a.G){var s=a.V++,l=be(a.F);ut(l,"SID",a.J),ut(l,"RID",s),ut(l,"TYPE","terminate"),Ds(a,l),(s=new Ys(a,a.h,s,void 0)).K=2,s.v=er(be(l)),l=!1,De.navigator&&De.navigator.sendBeacon&&(l=De.navigator.sendBeacon(s.v.toString(),"")),!l&&De.Image&&((new Image).src=s.v,l=!0),l||(s.g=sc(s.l,null),s.g.ea(s.v)),s.F=Date.now(),Es(s)}Sr(a)}function vi(a){a.g&&(yo(a),a.g.cancel(),a.g=null)}function Dr(a){vi(a),a.u&&(De.clearTimeout(a.u),a.u=null),Dt(a),a.i.cancel(),a.m&&("number"==typeof a.m&&De.clearTimeout(a.m),a.m=null)}function Ve(a,s){a.l.push(new gl(a.Za++,s)),3==a.G&&vt(a)}function vt(a){uu(a.i)||a.m||(a.m=!0,Rd(a.Ha,a),a.C=0)}function Oo(a,s){var l;l=s?s.m:a.V++;var h=be(a.F);ut(h,"SID",a.J),ut(h,"RID",l),ut(h,"AID",a.U),Ds(a,h),a.o&&a.s&&cu(h,a.o,a.s),l=new Ys(a,a.h,l,a.C+1),null===a.o&&(l.H=a.s),s&&(a.l=s.D.concat(a.l)),s=yi(a,l,1e3),l.setTimeout(Math.round(.5*a.ra)+Math.round(.5*a.ra*Math.random())),mo(a.i,l),it(l,h,s)}function Ds(a,s){a.j&&Da({},function(l,h){ut(s,h,l)})}function yi(a,s,l){l=Math.min(a.l.length,l);var h=a.j?Yt(a.j.Oa,a.j,a):null;e:for(var m=a.l,y=-1;;){var b=["count="+l];-1==y?0<l?b.push("ofs="+(y=m[0].h)):y=0:b.push("ofs="+y);for(var C=!0,T=0;T<l;T++){var O=m[T].h,P=m[T].g;if(0>(O-=y))y=Math.max(0,m[T].h-100),C=!1;else try{gg(P,b,"req"+O+"_")}catch{h&&h(P)}}if(C){h=b.join("&");break e}}return a=a.l.splice(0,l),s.D=a,h}function oc(a){a.g||a.u||(a.Y=1,Rd(a.Ga,a),a.A=0)}function lr(a){return!(a.g||a.u||3<=a.A||(a.Y++,a.u=Zt(Yt(a.Ga,a),Bd(a,a.A)),a.A++,0))}function yo(a){null!=a.B&&(De.clearTimeout(a.B),a.B=null)}function Qi(a){a.g=new Ys(a,a.h,"rpc",a.Y),null===a.o&&(a.g.H=a.s),a.g.O=0;var s=be(a.oa);ut(s,"RID","rpc"),ut(s,"SID",a.J),ut(s,"CI",a.N?"0":"1"),ut(s,"AID",a.U),Ds(a,s),ut(s,"TYPE","xmlhttp"),a.o&&a.s&&cu(s,a.o,a.s),a.K&&a.g.setTimeout(a.K);var l=a.g;a=a.la,l.K=1,l.v=er(be(s)),l.s=null,l.U=!0,tc(l,a)}function Dt(a){null!=a.v&&(De.clearTimeout(a.v),a.v=null)}function Ji(a,s){var l=null;if(a.g==s){Dt(a),yo(a),a.g=null;var h=2}else{if(!Pd(a.i,s))return;l=s.D,mf(a.i,s),h=1}if(a.I=s.N,0!=a.G)if(s.i)if(1==h){l=s.s?s.s.length:0,s=Date.now()-s.F;var m=a.C;gt(h=iu(),new Mi(h,l,s,m)),vt(a)}else oc(a);else if(3==(m=s.o)||0==m&&0<a.I||!(1==h&&function pr(a,s){return!(Nd(a.i)>=a.i.j-(a.m?1:0)||(a.m?(a.l=s.D.concat(a.l),0):1==a.G||2==a.G||a.C>=(a.Xa?0:a.Ya)||(a.m=Zt(Yt(a.Ha,a,s),Bd(a,a.C)),a.C++,0)))}(a,s)||2==h&&lr(a)))switch(l&&0<l.length&&(s=a.i,s.i=s.i.concat(l)),m){case 1:No(a,5);break;case 4:No(a,10);break;case 3:No(a,6);break;default:No(a,2)}}function Bd(a,s){var l=a.Pa+Math.floor(Math.random()*a.$a);return a.j||(l*=2),l*s}function No(a,s){if(a.h.info("Error code "+s),2==s){var l=null;a.j&&(l=null);var h=Yt(a.jb,a);l||(l=new ie("//www.google.com/images/cleardot.gif"),De.location&&"http"==De.location.protocol||$e(l,"https"),er(l)),function Up(a,s){var l=new oi;if(De.Image){var h=new Image;h.onload=xr(Ld,l,h,"TestLoadImage: loaded",!0,s),h.onerror=xr(Ld,l,h,"TestLoadImage: error",!1,s),h.onabort=xr(Ld,l,h,"TestLoadImage: abort",!1,s),h.ontimeout=xr(Ld,l,h,"TestLoadImage: timeout",!1,s),De.setTimeout(function(){h.ontimeout&&h.ontimeout()},1e4),h.src=a}else s(!1)}(l.toString(),h)}else Ai(2);a.G=0,a.j&&a.j.va(s),Sr(a),Dr(a)}function Sr(a){a.G=0,a.I=-1,a.j&&((0!=mg(a.i).length||0!=a.l.length)&&(a.i.i.length=0,qr(a.l),a.l.length=0),a.j.ua())}function Ss(a,s,l){var h=function hr(a){return a instanceof ie?be(a):new ie(a,void 0)}(l);if(""!=h.i)s&&H(h,s+"."+h.i),Je(h,h.m);else{var m=De.location;h=function Cn(a,s,l,h){var m=new ie(null,void 0);return a&&$e(m,a),s&&H(m,s),l&&Je(m,l),h&&(m.l=h),m}(m.protocol,s?s+"."+m.hostname:m.hostname,+m.port,l)}return a.aa&&ye(a.aa,function(y,b){ut(h,b,y)}),l=a.sa,(s=a.D)&&l&&ut(h,s,l),ut(h,"VER",a.ma),Ds(a,h),h}function sc(a,s,l){if(s&&!a.H)throw Error("Can't create secondary domain capable XhrIo object.");return(s=new kt(l&&a.Ba&&!a.qa?new vl({ib:!0}):a.qa)).L=a.H,s}function Go(){}function du(){if(Mn&&!(10<=Number(ho)))throw Error("Environmental error: no available transport.")}function xi(a,s){nn.call(this),this.g=new or(s),this.l=a,this.h=s&&s.messageUrlParams||null,a=s&&s.messageHeaders||null,s&&s.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.s=a,a=s&&s.initMessageHeaders||null,s&&s.messageContentType&&(a?a["X-WebChannel-Content-Type"]=s.messageContentType:a={"X-WebChannel-Content-Type":s.messageContentType}),s&&s.ya&&(a?a["X-WebChannel-Client-Profile"]=s.ya:a={"X-WebChannel-Client-Profile":s.ya}),this.g.P=a,(a=s&&s.httpHeadersOverwriteParam)&&!Jn(a)&&(this.g.o=a),this.A=s&&s.supportsCrossDomainXhr||!1,this.v=s&&s.sendRawJson||!1,(s=s&&s.httpSessionIdParam)&&!Jn(s)&&(this.g.D=s,null!==(a=this.h)&&s in a&&s in(a=this.h)&&delete a[s]),this.j=new Js(this)}function Xs(a){ou.call(this);var s=a.__sm__;if(s){e:{for(var l in s){a=l;break e}a=void 0}(this.i=a)&&(a=this.i,s=null!==s&&a in s?s[a]:void 0),this.data=s}else this.data=a}function Qs(){su.call(this),this.status=1}function Js(a){this.g=a}(ce=kt.prototype).ea=function(a,s,l,h){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+a);s=s?s.toUpperCase():"GET",this.H=a,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ea.g(),this.C=function xe(a){return a.h||(a.h=a.i())}(this.u?this.u:Ea),this.g.onreadystatechange=Yt(this.Fa,this);try{this.F=!0,this.g.open(s,String(a),!0),this.F=!1}catch(y){return void zp(this,y)}a=l||"";var m=new R(this.headers);h&&Da(h,function(y,b){m.set(b,y)}),h=function xo(a){e:{for(var s=yg,l=a.length,h="string"==typeof a?a.split(""):a,m=0;m<l;m++)if(m in h&&s.call(void 0,h[m],m,a)){s=m;break e}s=-1}return 0>s?null:"string"==typeof a?a.charAt(s):a[s]}(m.T()),l=De.FormData&&a instanceof De.FormData,!(0<=Ki(bl,s))||h||l||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),m.forEach(function(y,b){this.g.setRequestHeader(b,y)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{si(this),0<this.B&&((this.K=function Bn(a){return Mn&&function pn(){return function Sn(a){var s=qn;return Object.prototype.hasOwnProperty.call(s,9)?s[9]:s[9]=a(9)}(function(){for(var a=0,s=de(String(en)).split("."),l=de("9").split("."),h=Math.max(s.length,l.length),m=0;0==a&&m<h;m++){var y=s[m]||"",b=l[m]||"";do{if(y=/(\d*)(\D*)(.*)/.exec(y)||["","","",""],b=/(\d*)(\D*)(.*)/.exec(b)||["","","",""],0==y[0].length&&0==b[0].length)break;a=ge(0==y[1].length?0:parseInt(y[1],10),0==b[1].length?0:parseInt(b[1],10))||ge(0==y[2].length,0==b[2].length)||ge(y[2],b[2]),y=y[3],b=b[3]}while(0==a)}return 0<=a})}()&&"number"==typeof a.timeout&&void 0!==a.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Yt(this.pa,this)):this.A=Yu(this.pa,this.B,this)),this.v=!0,this.g.send(a),this.v=!1}catch(y){zp(this,y)}},ce.pa=function(){typeof q<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,gt(this,"timeout"),this.abort(8))},ce.abort=function(a){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=a||7,gt(this,"complete"),gt(this,"abort"),Ht(this))},ce.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ht(this,!0)),kt.Z.M.call(this)},ce.Fa=function(){this.s||(this.F||this.v||this.l?mi(this):this.cb())},ce.cb=function(){mi(this)},ce.ba=function(){try{return 2<Cr(this)?this.g.status:-1}catch{return-1}},ce.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},ce.Qa=function(a){if(this.g){var s=this.g.responseText;return a&&0==s.indexOf(a)&&(s=s.substring(a.length)),vg(s)}},ce.Da=function(){return this.m},ce.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ce=or.prototype).ma=8,ce.G=1,ce.hb=function(a){try{this.h.info("Origin Trials invoked: "+a)}catch{}},ce.Ha=function(a){if(this.m)if(this.m=null,1==this.G){if(!a){this.V=Math.floor(1e5*Math.random()),a=this.V++;var s=new Ys(this,this.h,a,void 0),l=this.s;if(this.P&&(l?Oe(l=Ne(l),this.P):l=this.P),null===this.o&&(s.H=l),this.ja)e:{for(var h=0,m=0;m<this.l.length;m++){var y=this.l[m];if(void 0===(y="__data__"in y.g&&"string"==typeof(y=y.g.__data__)?y.length:void 0))break;if(4096<(h+=y)){h=m;break e}if(4096===h||m===this.l.length-1){h=m+1;break e}}h=1e3}else h=1e3;h=yi(this,s,h),ut(m=be(this.F),"RID",a),ut(m,"CVER",22),this.D&&ut(m,"X-HTTP-Session-Id",this.D),Ds(this,m),this.o&&l&&cu(m,this.o,l),mo(this.i,s),this.Ra&&ut(m,"TYPE","init"),this.ja?(ut(m,"$req",h),ut(m,"SID","null"),s.$=!0,it(s,m,null)):it(s,m,h),this.G=2}}else 3==this.G&&(a?Oo(this,a):0==this.l.length||uu(this.i)||Oo(this))},ce.Ga=function(){if(this.u=null,Qi(this),this.$&&!(this.L||null==this.g||0>=this.O)){var a=2*this.O;this.h.info("BP detection timer enabled: "+a),this.B=Zt(Yt(this.bb,this),a)}},ce.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ai(10),vi(this),Qi(this))},ce.ab=function(){null!=this.v&&(this.v=null,vi(this),lr(this),Ai(19))},ce.jb=function(a){a?(this.h.info("Successfully pinged google.com"),Ai(2)):(this.h.info("Failed to ping google.com"),Ai(1))},(ce=Go.prototype).xa=function(){},ce.wa=function(){},ce.va=function(){},ce.ua=function(){},ce.Oa=function(){},du.prototype.g=function(a,s){return new xi(a,s)},wt(xi,nn),xi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var a=this.g,s=this.l,l=this.h||void 0;a.Wa&&(a.h.info("Origin Trials enabled."),Rd(Yt(a.hb,a,s))),Ai(0),a.W=s,a.aa=l||{},a.N=a.X,a.F=Ss(a,null,a.W),vt(a)},xi.prototype.close=function(){vo(this.g)},xi.prototype.u=function(a){if("string"==typeof a){var s={};s.__data__=a,Ve(this.g,s)}else this.v?((s={}).__data__=_a(a),Ve(this.g,s)):Ve(this.g,a)},xi.prototype.M=function(){this.g.j=null,delete this.j,vo(this.g),delete this.g,xi.Z.M.call(this)},wt(Xs,ou),wt(Qs,su),wt(Js,Go),Js.prototype.xa=function(){gt(this.g,"a")},Js.prototype.wa=function(a){gt(this.g,new Xs(a))},Js.prototype.va=function(a){gt(this.g,new Qs(a))},Js.prototype.ua=function(){gt(this.g,"b")},du.prototype.createWebChannel=du.prototype.g,xi.prototype.send=xi.prototype.u,xi.prototype.open=xi.prototype.m,xi.prototype.close=xi.prototype.close,Qu.NO_ERROR=0,Qu.TIMEOUT=8,Qu.HTTP_ERROR=6,qo.COMPLETE="complete",ff.EventType=an,an.OPEN="a",an.CLOSE="b",an.ERROR="c",an.MESSAGE="d",nn.prototype.listen=nn.prototype.N,kt.prototype.listenOnce=kt.prototype.O,kt.prototype.getLastError=kt.prototype.La,kt.prototype.getLastErrorCode=kt.prototype.Da,kt.prototype.getStatus=kt.prototype.ba,kt.prototype.getResponseJson=kt.prototype.Qa,kt.prototype.getResponseText=kt.prototype.ga,kt.prototype.send=kt.prototype.ea;var vf=Qu,jd=qo,$p=bs,Po_PROXY=10,Po_NOPROXY=11,Is=vl,Ts=ff,wl=kt,jn=function(){function a(s,l){var h=this;this.previousValue=s,l&&(l.sequenceNumberHandler=function(m){return h.t(m)},this.i=function(m){return l.writeSequenceNumber(m)})}return a.prototype.t=function(s){return this.previousValue=Math.max(s,this.previousValue),this.previousValue},a.prototype.next=function(){var s=++this.previousValue;return this.i&&this.i(s),s},a}();jn.o=-1;var oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ee=function(a){function s(l,h){var m=this;return(m=a.call(this,h)||this).code=l,m.message=h,m.name="FirebaseError",m.toString=function(){return m.name+": [code="+m.code+"]: "+m.message},m}return(0,I.ZT)(s,a),s}(Error),Kr=new qe.Yd("@firebase/firestore");function ki(){return Kr.logLevel}function Ce(a){for(var s=[],l=1;l<arguments.length;l++)s[l-1]=arguments[l];if(Kr.logLevel<=qe.in.DEBUG){var h=s.map(yf);Kr.debug.apply(Kr,(0,I.ev)(["Firestore (8.10.1): "+a],h))}}function mr(a){for(var s=[],l=1;l<arguments.length;l++)s[l-1]=arguments[l];if(Kr.logLevel<=qe.in.ERROR){var h=s.map(yf);Kr.error.apply(Kr,(0,I.ev)(["Firestore (8.10.1): "+a],h))}}function Ud(a){for(var s=[],l=1;l<arguments.length;l++)s[l-1]=arguments[l];if(Kr.logLevel<=qe.in.WARN){var h=s.map(yf);Kr.warn.apply(Kr,(0,I.ev)(["Firestore (8.10.1): "+a],h))}}function yf(a){if("string"==typeof a)return a;try{return JSON.stringify(a)}catch{return a}}function tt(a){void 0===a&&(a="Unexpected state");var s="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+a;throw mr(s),new Error(s)}function ct(a,s){a||tt()}function Be(a,s){return a}function Hd(a){var s=typeof self<"u"&&(self.crypto||self.msCrypto),l=new Uint8Array(a);if(s&&"function"==typeof s.getRandomValues)s.getRandomValues(l);else for(var h=0;h<a;h++)l[h]=Math.floor(256*Math.random());return l}var _i=function(){function a(){}return a.u=function(){for(var l=62*Math.floor(256/62),h="";h.length<20;)for(var m=Hd(40),y=0;y<m.length;++y)h.length<20&&m[y]<l&&(h+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(m[y]%62));return h},a}();function nt(a,s){return a<s?-1:a>s?1:0}function uc(a,s,l){return a.length===s.length&&a.every(function(h,m){return l(h,s[m])})}function cc(a){return a+"\0"}var Oi=function(){function a(s,l){if(this.seconds=s,this.nanoseconds=l,l<0)throw new Ee(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+l);if(l>=1e9)throw new Ee(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+l);if(s<-62135596800)throw new Ee(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+s);if(s>=253402300800)throw new Ee(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+s)}return a.now=function(){return a.fromMillis(Date.now())},a.fromDate=function(s){return a.fromMillis(s.getTime())},a.fromMillis=function(s){var l=Math.floor(s/1e3);return new a(l,Math.floor(1e6*(s-1e3*l)))},a.prototype.toDate=function(){return new Date(this.toMillis())},a.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},a.prototype._compareTo=function(s){return this.seconds===s.seconds?nt(this.nanoseconds,s.nanoseconds):nt(this.seconds,s.seconds)},a.prototype.isEqual=function(s){return s.seconds===this.seconds&&s.nanoseconds===this.nanoseconds},a.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},a.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},a.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},a}(),xt=function(){function a(s){this.timestamp=s}return a.fromTimestamp=function(s){return new a(s)},a.min=function(){return new a(new Oi(0,0))},a.prototype.compareTo=function(s){return this.timestamp._compareTo(s.timestamp)},a.prototype.isEqual=function(s){return this.timestamp.isEqual(s.timestamp)},a.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},a.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},a.prototype.toTimestamp=function(){return this.timestamp},a}();function zd(a){var s=0;for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&s++;return s}function ea(a,s){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&s(l,a[l])}function _g(a){for(var s in a)if(Object.prototype.hasOwnProperty.call(a,s))return!1;return!0}var El=function(){function a(s,l,h){void 0===l?l=0:l>s.length&&tt(),void 0===h?h=s.length-l:h>s.length-l&&tt(),this.segments=s,this.offset=l,this.len=h}return Object.defineProperty(a.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),a.prototype.isEqual=function(s){return 0===a.comparator(this,s)},a.prototype.child=function(s){var l=this.segments.slice(this.offset,this.limit());return s instanceof a?s.forEach(function(h){l.push(h)}):l.push(s),this.construct(l)},a.prototype.limit=function(){return this.offset+this.length},a.prototype.popFirst=function(s){return this.construct(this.segments,this.offset+(s=void 0===s?1:s),this.length-s)},a.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},a.prototype.firstSegment=function(){return this.segments[this.offset]},a.prototype.lastSegment=function(){return this.get(this.length-1)},a.prototype.get=function(s){return this.segments[this.offset+s]},a.prototype.isEmpty=function(){return 0===this.length},a.prototype.isPrefixOf=function(s){if(s.length<this.length)return!1;for(var l=0;l<this.length;l++)if(this.get(l)!==s.get(l))return!1;return!0},a.prototype.isImmediateParentOf=function(s){if(this.length+1!==s.length)return!1;for(var l=0;l<this.length;l++)if(this.get(l)!==s.get(l))return!1;return!0},a.prototype.forEach=function(s){for(var l=this.offset,h=this.limit();l<h;l++)s(this.segments[l])},a.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},a.comparator=function(s,l){for(var h=Math.min(s.length,l.length),m=0;m<h;m++){var y=s.get(m),b=l.get(m);if(y<b)return-1;if(y>b)return 1}return s.length<l.length?-1:s.length>l.length?1:0},a}(),Kt=function(a){function s(){return null!==a&&a.apply(this,arguments)||this}return(0,I.ZT)(s,a),s.prototype.construct=function(l,h,m){return new s(l,h,m)},s.prototype.canonicalString=function(){return this.toArray().join("/")},s.prototype.toString=function(){return this.canonicalString()},s.fromString=function(){for(var l=[],h=0;h<arguments.length;h++)l[h]=arguments[h];for(var m=[],y=0,b=l;y<b.length;y++){var C=b[y];if(C.indexOf("//")>=0)throw new Ee(oe.INVALID_ARGUMENT,"Invalid segment ("+C+"). Paths must not contain // in them.");m.push.apply(m,C.split("/").filter(function(T){return T.length>0}))}return new s(m)},s.emptyPath=function(){return new s([])},s}(El),qp=/^[_a-zA-Z][_a-zA-Z0-9]*$/,As=function(a){function s(){return null!==a&&a.apply(this,arguments)||this}return(0,I.ZT)(s,a),s.prototype.construct=function(l,h,m){return new s(l,h,m)},s.isValidIdentifier=function(l){return qp.test(l)},s.prototype.canonicalString=function(){return this.toArray().map(function(l){return l=l.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),s.isValidIdentifier(l)||(l="`"+l+"`"),l}).join(".")},s.prototype.toString=function(){return this.canonicalString()},s.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},s.keyField=function(){return new s(["__name__"])},s.fromServerFormat=function(l){for(var h=[],m="",y=0,b=function(){if(0===m.length)throw new Ee(oe.INVALID_ARGUMENT,"Invalid field path ("+l+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");h.push(m),m=""},C=!1;y<l.length;){var T=l[y];if("\\"===T){if(y+1===l.length)throw new Ee(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+l);var O=l[y+1];if("\\"!==O&&"."!==O&&"`"!==O)throw new Ee(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+l);m+=O,y+=2}else"`"===T?(C=!C,y++):"."!==T||C?(m+=T,y++):(b(),y++)}if(b(),C)throw new Ee(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+l);return new s(h)},s.emptyPath=function(){return new s([])},s}(El),Wo=function(){function a(s){this.fields=s,s.sort(As.comparator)}return a.prototype.covers=function(s){for(var l=0,h=this.fields;l<h.length;l++)if(h[l].isPrefixOf(s))return!0;return!1},a.prototype.isEqual=function(s){return uc(this.fields,s.fields,function(l,h){return l.isEqual(h)})},a}(),Ni=function(){function a(s){this.binaryString=s}return a.fromBase64String=function(s){return new a(atob(s))},a.fromUint8Array=function(s){return new a(function(l){for(var h="",m=0;m<l.length;++m)h+=String.fromCharCode(l[m]);return h}(s))},a.prototype.toBase64=function(){return btoa(this.binaryString)},a.prototype.toUint8Array=function(){return function(s){for(var l=new Uint8Array(s.length),h=0;h<s.length;h++)l[h]=s.charCodeAt(h);return l}(this.binaryString)},a.prototype.approximateByteSize=function(){return 2*this.binaryString.length},a.prototype.compareTo=function(s){return nt(this.binaryString,s.binaryString)},a.prototype.isEqual=function(s){return this.binaryString===s.binaryString},a}();Ni.EMPTY_BYTE_STRING=new Ni("");var lc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fo(a){if(ct(!!a),"string"==typeof a){var s=0,l=lc.exec(a);if(ct(!!l),l[1]){var h=l[1];h=(h+"000000000").substr(0,9),s=Number(h)}var m=new Date(a);return{seconds:Math.floor(m.getTime()/1e3),nanos:s}}return{seconds:Vr(a.seconds),nanos:Vr(a.nanos)}}function Vr(a){return"number"==typeof a?a:"string"==typeof a?Number(a):0}function hu(a){return"string"==typeof a?Ni.fromBase64String(a):Ni.fromUint8Array(a)}function _f(a){var s,l;return"server_timestamp"===(null===(l=((null===(s=a?.mapValue)||void 0===s?void 0:s.fields)||{}).__type__)||void 0===l?void 0:l.stringValue)}function Gp(a){var s=a.mapValue.fields.__previous_value__;return _f(s)?Gp(s):s}function dc(a){var s=Fo(a.mapValue.fields.__local_write_time__.timestampValue);return new Oi(s.seconds,s.nanos)}function Sa(a){return null==a}function $d(a){return 0===a&&1/a==-1/0}function Ye(a){return"number"==typeof a&&Number.isInteger(a)&&!$d(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}var Le=function(){function a(s){this.path=s}return a.fromPath=function(s){return new a(Kt.fromString(s))},a.fromName=function(s){return new a(Kt.fromString(s).popFirst(5))},a.prototype.hasCollectionId=function(s){return this.path.length>=2&&this.path.get(this.path.length-2)===s},a.prototype.isEqual=function(s){return null!==s&&0===Kt.comparator(this.path,s.path)},a.prototype.toString=function(){return this.path.toString()},a.comparator=function(s,l){return Kt.comparator(s.path,l.path)},a.isDocumentKey=function(s){return s.length%2==0},a.fromSegments=function(s){return new a(new Kt(s.slice()))},a}();function Yr(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?_f(a)?4:10:tt()}function Yn(a,s){var m,l=Yr(a);if(l!==Yr(s))return!1;switch(l){case 0:return!0;case 1:return a.booleanValue===s.booleanValue;case 4:return dc(a).isEqual(dc(s));case 3:return function(h,m){if("string"==typeof h.timestampValue&&"string"==typeof m.timestampValue&&h.timestampValue.length===m.timestampValue.length)return h.timestampValue===m.timestampValue;var y=Fo(h.timestampValue),b=Fo(m.timestampValue);return y.seconds===b.seconds&&y.nanos===b.nanos}(a,s);case 5:return a.stringValue===s.stringValue;case 6:return m=s,hu(a.bytesValue).isEqual(hu(m.bytesValue));case 7:return a.referenceValue===s.referenceValue;case 8:return function(h,m){return Vr(h.geoPointValue.latitude)===Vr(m.geoPointValue.latitude)&&Vr(h.geoPointValue.longitude)===Vr(m.geoPointValue.longitude)}(a,s);case 2:return function(h,m){if("integerValue"in h&&"integerValue"in m)return Vr(h.integerValue)===Vr(m.integerValue);if("doubleValue"in h&&"doubleValue"in m){var y=Vr(h.doubleValue),b=Vr(m.doubleValue);return y===b?$d(y)===$d(b):isNaN(y)&&isNaN(b)}return!1}(a,s);case 9:return uc(a.arrayValue.values||[],s.arrayValue.values||[],Yn);case 10:return function(h,m){var y=h.mapValue.fields||{},b=m.mapValue.fields||{};if(zd(y)!==zd(b))return!1;for(var C in y)if(y.hasOwnProperty(C)&&(void 0===b[C]||!Yn(y[C],b[C])))return!1;return!0}(a,s);default:return tt()}}function Cl(a,s){return void 0!==(a.values||[]).find(function(l){return Yn(l,s)})}function hc(a,s){var m,y,b,C,l=Yr(a),h=Yr(s);if(l!==h)return nt(l,h);switch(l){case 0:return 0;case 1:return nt(a.booleanValue,s.booleanValue);case 2:return y=s,(b=Vr((m=a).integerValue||m.doubleValue))<(C=Vr(y.integerValue||y.doubleValue))?-1:b>C?1:b===C?0:isNaN(b)?isNaN(C)?0:-1:1;case 3:return Dl(a.timestampValue,s.timestampValue);case 4:return Dl(dc(a),dc(s));case 5:return nt(a.stringValue,s.stringValue);case 6:return function(m,y){var b=hu(m),C=hu(y);return b.compareTo(C)}(a.bytesValue,s.bytesValue);case 7:return function(m,y){for(var b=m.split("/"),C=y.split("/"),T=0;T<b.length&&T<C.length;T++){var O=nt(b[T],C[T]);if(0!==O)return O}return nt(b.length,C.length)}(a.referenceValue,s.referenceValue);case 8:return function(m,y){var b=nt(Vr(m.latitude),Vr(y.latitude));return 0!==b?b:nt(Vr(m.longitude),Vr(y.longitude))}(a.geoPointValue,s.geoPointValue);case 9:return function(m,y){for(var b=m.values||[],C=y.values||[],T=0;T<b.length&&T<C.length;++T){var O=hc(b[T],C[T]);if(O)return O}return nt(b.length,C.length)}(a.arrayValue,s.arrayValue);case 10:return function(m,y){var b=m.fields||{},C=Object.keys(b),T=y.fields||{},O=Object.keys(T);C.sort(),O.sort();for(var P=0;P<C.length&&P<O.length;++P){var B=nt(C[P],O[P]);if(0!==B)return B;var z=hc(b[C[P]],T[O[P]]);if(0!==z)return z}return nt(C.length,O.length)}(a.mapValue,s.mapValue);default:throw tt()}}function Dl(a,s){if("string"==typeof a&&"string"==typeof s&&a.length===s.length)return nt(a,s);var l=Fo(a),h=Fo(s),m=nt(l.seconds,h.seconds);return 0!==m?m:nt(l.nanos,h.nanos)}function fc(a){return pc(a)}function pc(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?"time("+(m=Fo(a.timestampValue)).seconds+","+m.nanos+")":"stringValue"in a?a.stringValue:"bytesValue"in a?hu(a.bytesValue).toBase64():"referenceValue"in a?Le.fromName(a.referenceValue).toString():"geoPointValue"in a?"geo("+(s=a.geoPointValue).latitude+","+s.longitude+")":"arrayValue"in a?function(h){for(var m="[",y=!0,b=0,C=h.values||[];b<C.length;b++)y?y=!1:m+=",",m+=pc(C[b]);return m+"]"}(a.arrayValue):"mapValue"in a?function(h){for(var m="{",y=!0,b=0,C=Object.keys(h.fields||{}).sort();b<C.length;b++){var T=C[b];y?y=!1:m+=",",m+=T+":"+pc(h.fields[T])}return m+"}"}(a.mapValue):tt();var m,s}function Sl(a,s){return{referenceValue:"projects/"+a.projectId+"/databases/"+a.database+"/documents/"+s.path.canonicalString()}}function bf(a){return!!a&&"integerValue"in a}function Il(a){return!!a&&"arrayValue"in a}function fu(a){return!!a&&"nullValue"in a}function bg(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Ia(a){return!!a&&"mapValue"in a}function pu(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&"object"==typeof a.timestampValue)return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){var s={mapValue:{fields:{}}};return ea(a.mapValue.fields,function(m,y){return s.mapValue.fields[m]=pu(y)}),s}if(a.arrayValue){for(var l={arrayValue:{values:[]}},h=0;h<(a.arrayValue.values||[]).length;++h)l.arrayValue.values[h]=pu(a.arrayValue.values[h]);return l}return Object.assign({},a)}var Pi=function(){function a(s){this.value=s}return a.empty=function(){return new a({mapValue:{}})},a.prototype.field=function(s){if(s.isEmpty())return this.value;for(var l=this.value,h=0;h<s.length-1;++h)if(!Ia(l=(l.mapValue.fields||{})[s.get(h)]))return null;return(l=(l.mapValue.fields||{})[s.lastSegment()])||null},a.prototype.set=function(s,l){this.getFieldsMap(s.popLast())[s.lastSegment()]=pu(l)},a.prototype.setAll=function(s){var l=this,h=As.emptyPath(),m={},y=[];s.forEach(function(C,T){if(!h.isImmediateParentOf(T)){var O=l.getFieldsMap(h);l.applyChanges(O,m,y),m={},y=[],h=T.popLast()}C?m[T.lastSegment()]=pu(C):y.push(T.lastSegment())});var b=this.getFieldsMap(h);this.applyChanges(b,m,y)},a.prototype.delete=function(s){var l=this.field(s.popLast());Ia(l)&&l.mapValue.fields&&delete l.mapValue.fields[s.lastSegment()]},a.prototype.isEqual=function(s){return Yn(this.value,s.value)},a.prototype.getFieldsMap=function(s){var l=this.value;l.mapValue.fields||(l.mapValue={fields:{}});for(var h=0;h<s.length;++h){var m=l.mapValue.fields[s.get(h)];Ia(m)&&m.mapValue.fields||(m={mapValue:{fields:{}}},l.mapValue.fields[s.get(h)]=m),l=m}return l.mapValue.fields},a.prototype.applyChanges=function(s,l,h){ea(l,function(C,T){return s[C]=T});for(var m=0,y=h;m<y.length;m++)delete s[y[m]]},a.prototype.clone=function(){return new a(pu(this.value))},a}();function Qv(a){var s=[];return ea(a.fields,function(l,h){var m=new As([l]);if(Ia(h)){var y=Qv(h.mapValue).fields;if(0===y.length)s.push(m);else for(var b=0,C=y;b<C.length;b++)s.push(m.child(C[b]))}else s.push(m)}),new Wo(s)}var Fi=function(){function a(s,l,h,m,y){this.key=s,this.documentType=l,this.version=h,this.data=m,this.documentState=y}return a.newInvalidDocument=function(s){return new a(s,0,xt.min(),Pi.empty(),0)},a.newFoundDocument=function(s,l,h){return new a(s,1,l,h,0)},a.newNoDocument=function(s,l){return new a(s,2,l,Pi.empty(),0)},a.newUnknownDocument=function(s,l){return new a(s,3,l,Pi.empty(),2)},a.prototype.convertToFoundDocument=function(s,l){return this.version=s,this.documentType=1,this.data=l,this.documentState=0,this},a.prototype.convertToNoDocument=function(s){return this.version=s,this.documentType=2,this.data=Pi.empty(),this.documentState=0,this},a.prototype.convertToUnknownDocument=function(s){return this.version=s,this.documentType=3,this.data=Pi.empty(),this.documentState=2,this},a.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},a.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(a.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),a.prototype.isValidDocument=function(){return 0!==this.documentType},a.prototype.isFoundDocument=function(){return 1===this.documentType},a.prototype.isNoDocument=function(){return 2===this.documentType},a.prototype.isUnknownDocument=function(){return 3===this.documentType},a.prototype.isEqual=function(s){return s instanceof a&&this.key.isEqual(s.key)&&this.version.isEqual(s.version)&&this.documentType===s.documentType&&this.documentState===s.documentState&&this.data.isEqual(s.data)},a.prototype.clone=function(){return new a(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},a.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},a}(),wg=function(a,s,l,h,m,y,b){void 0===s&&(s=null),void 0===l&&(l=[]),void 0===h&&(h=[]),void 0===m&&(m=null),void 0===y&&(y=null),void 0===b&&(b=null),this.path=a,this.collectionGroup=s,this.orderBy=l,this.filters=h,this.limit=m,this.startAt=y,this.endAt=b,this.h=null};function Eg(a,s,l,h,m,y,b){return void 0===s&&(s=null),void 0===l&&(l=[]),void 0===h&&(h=[]),void 0===m&&(m=null),void 0===y&&(y=null),void 0===b&&(b=null),new wg(a,s,l,h,m,y,b)}function Tl(a){var s=Be(a);if(null===s.h){var l=s.path.canonicalString();null!==s.collectionGroup&&(l+="|cg:"+s.collectionGroup),l+="|f:",l+=s.filters.map(function(h){return(m=h).field.canonicalString()+m.op.toString()+fc(m.value);var m}).join(","),l+="|ob:",l+=s.orderBy.map(function(h){return(m=h).field.canonicalString()+m.dir;var m}).join(","),Sa(s.limit)||(l+="|l:",l+=s.limit),s.startAt&&(l+="|lb:",l+=Un(s.startAt)),s.endAt&&(l+="|ub:",l+=Un(s.endAt)),s.h=l}return s.h}function Li(a,s){if(a.limit!==s.limit||a.orderBy.length!==s.orderBy.length)return!1;for(var l=0;l<a.orderBy.length;l++)if(!gc(a.orderBy[l],s.orderBy[l]))return!1;if(a.filters.length!==s.filters.length)return!1;for(var h=0;h<a.filters.length;h++)if((m=a.filters[h]).op!==(y=s.filters[h]).op||!m.field.isEqual(y.field)||!Yn(m.value,y.value))return!1;var m,y;return a.collectionGroup===s.collectionGroup&&!!a.path.isEqual(s.path)&&!!Yp(a.startAt,s.startAt)&&Yp(a.endAt,s.endAt)}function qd(a){return Le.isDocumentKey(a.path)&&null===a.collectionGroup&&0===a.filters.length}var _o=function(a){function s(l,h,m){var y=this;return(y=a.call(this)||this).field=l,y.op=h,y.value=m,y}return(0,I.ZT)(s,a),s.create=function(l,h,m){return l.isKeyField()?"in"===h||"not-in"===h?this.l(l,h,m):new Jv(l,h,m):"array-contains"===h?new Ef(l,m):"in"===h?new ey(l,m):"not-in"===h?new ta(l,m):"array-contains-any"===h?new Kp(l,m):new s(l,h,m)},s.l=function(l,h,m){return"in"===h?new Cg(l,m):new wf(l,m)},s.prototype.matches=function(l){var h=l.data.field(this.field);return"!="===this.op?null!==h&&this.m(hc(h,this.value)):null!==h&&Yr(this.value)===Yr(h)&&this.m(hc(h,this.value))},s.prototype.m=function(l){switch(this.op){case"<":return l<0;case"<=":return l<=0;case"==":return 0===l;case"!=":return 0!==l;case">":return l>0;case">=":return l>=0;default:return tt()}},s.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},s}(function(){}),Jv=function(a){function s(l,h,m){var y=this;return(y=a.call(this,l,h,m)||this).key=Le.fromName(m.referenceValue),y}return(0,I.ZT)(s,a),s.prototype.matches=function(l){var h=Le.comparator(l.key,this.key);return this.m(h)},s}(_o),Cg=function(a){function s(l,h){var m=this;return(m=a.call(this,l,"in",h)||this).keys=Wp(0,h),m}return(0,I.ZT)(s,a),s.prototype.matches=function(l){return this.keys.some(function(h){return h.isEqual(l.key)})},s}(_o),wf=function(a){function s(l,h){var m=this;return(m=a.call(this,l,"not-in",h)||this).keys=Wp(0,h),m}return(0,I.ZT)(s,a),s.prototype.matches=function(l){return!this.keys.some(function(h){return h.isEqual(l.key)})},s}(_o);function Wp(a,s){var l;return((null===(l=s.arrayValue)||void 0===l?void 0:l.values)||[]).map(function(h){return Le.fromName(h.referenceValue)})}var Ef=function(a){function s(l,h){return a.call(this,l,"array-contains",h)||this}return(0,I.ZT)(s,a),s.prototype.matches=function(l){var h=l.data.field(this.field);return Il(h)&&Cl(h.arrayValue,this.value)},s}(_o),ey=function(a){function s(l,h){return a.call(this,l,"in",h)||this}return(0,I.ZT)(s,a),s.prototype.matches=function(l){var h=l.data.field(this.field);return null!==h&&Cl(this.value.arrayValue,h)},s}(_o),ta=function(a){function s(l,h){return a.call(this,l,"not-in",h)||this}return(0,I.ZT)(s,a),s.prototype.matches=function(l){if(Cl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var h=l.data.field(this.field);return null!==h&&!Cl(this.value.arrayValue,h)},s}(_o),Kp=function(a){function s(l,h){return a.call(this,l,"array-contains-any",h)||this}return(0,I.ZT)(s,a),s.prototype.matches=function(l){var h=this,m=l.data.field(this.field);return!(!Il(m)||!m.arrayValue.values)&&m.arrayValue.values.some(function(y){return Cl(h.value.arrayValue,y)})},s}(_o),Al=function(a,s){this.position=a,this.before=s};function Un(a){return(a.before?"b":"a")+":"+a.position.map(function(s){return fc(s)}).join(",")}var mc=function(a,s){void 0===s&&(s="asc"),this.field=a,this.dir=s};function gc(a,s){return a.dir===s.dir&&a.field.isEqual(s.field)}function Vi(a,s,l){for(var h=0,m=0;m<a.position.length;m++){var y=s[m],b=a.position[m];if(h=y.field.isKeyField()?Le.comparator(Le.fromName(b.referenceValue),l.key):hc(b,l.data.field(y.field)),"desc"===y.dir&&(h*=-1),0!==h)break}return a.before?h<=0:h<0}function Yp(a,s){if(null===a)return null===s;if(null===s||a.before!==s.before||a.position.length!==s.position.length)return!1;for(var l=0;l<a.position.length;l++)if(!Yn(a.position[l],s.position[l]))return!1;return!0}var Ko=function(a,s,l,h,m,y,b,C){void 0===s&&(s=null),void 0===l&&(l=[]),void 0===h&&(h=[]),void 0===m&&(m=null),void 0===y&&(y="F"),void 0===b&&(b=null),void 0===C&&(C=null),this.path=a,this.collectionGroup=s,this.explicitOrderBy=l,this.filters=h,this.limit=m,this.limitType=y,this.startAt=b,this.endAt=C,this.p=null,this.T=null};function mu(a,s,l,h,m,y,b,C){return new Ko(a,s,l,h,m,y,b,C)}function Zr(a){return new Ko(a)}function Gd(a){return!Sa(a.limit)&&"F"===a.limitType}function gu(a){return!Sa(a.limit)&&"L"===a.limitType}function Cf(a){return a.explicitOrderBy.length>0?a.explicitOrderBy[0].field:null}function Ms(a){for(var s=0,l=a.filters;s<l.length;s++){var h=l[s];if(h.g())return h.field}return null}function vc(a){return null!==a.collectionGroup}function Ml(a){var s=Be(a);if(null===s.p){s.p=[];var l=Ms(s),h=Cf(s);if(null!==l&&null===h)l.isKeyField()||s.p.push(new mc(l)),s.p.push(new mc(As.keyField(),"asc"));else{for(var m=!1,y=0,b=s.explicitOrderBy;y<b.length;y++){var C=b[y];s.p.push(C),C.field.isKeyField()&&(m=!0)}if(!m){var T=s.explicitOrderBy.length>0?s.explicitOrderBy[s.explicitOrderBy.length-1].dir:"asc";s.p.push(new mc(As.keyField(),T))}}}return s.p}function bi(a){var s=Be(a);if(!s.T)if("F"===s.limitType)s.T=Eg(s.path,s.collectionGroup,Ml(s),s.filters,s.limit,s.startAt,s.endAt);else{for(var l=[],h=0,m=Ml(s);h<m.length;h++){var y=m[h];l.push(new mc(y.field,"desc"===y.dir?"asc":"desc"))}var C=s.endAt?new Al(s.endAt.position,!s.endAt.before):null,T=s.startAt?new Al(s.startAt.position,!s.startAt.before):null;s.T=Eg(s.path,s.collectionGroup,l,s.filters,s.limit,C,T)}return s.T}function Zp(a,s,l){return new Ko(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),s,l,a.startAt,a.endAt)}function xl(a,s){return Li(bi(a),bi(s))&&a.limitType===s.limitType}function Dg(a){return Tl(bi(a))+"|lt:"+a.limitType}function lt(a){return"Query(target="+(l=(s=bi(a)).path.canonicalString(),null!==s.collectionGroup&&(l+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(l+=", filters: ["+s.filters.map(function(h){return(m=h).field.canonicalString()+" "+m.op+" "+fc(m.value);var m}).join(", ")+"]"),Sa(s.limit)||(l+=", limit: "+s.limit),s.orderBy.length>0&&(l+=", orderBy: ["+s.orderBy.map(function(h){return(m=h).field.canonicalString()+" ("+m.dir+")";var m}).join(", ")+"]"),s.startAt&&(l+=", startAt: "+Un(s.startAt)),s.endAt&&(l+=", endAt: "+Un(s.endAt)),"Target("+l+"); limitType=")+a.limitType+")";var s,l}function Ta(a,s){return s.isFoundDocument()&&(m=(h=s).key.path,null!==(l=a).collectionGroup?h.key.hasCollectionId(l.collectionGroup)&&l.path.isPrefixOf(m):Le.isDocumentKey(l.path)?l.path.isEqual(m):l.path.isImmediateParentOf(m))&&function(l,h){for(var m=0,y=l.explicitOrderBy;m<y.length;m++){var b=y[m];if(!b.field.isKeyField()&&null===h.data.field(b.field))return!1}return!0}(a,s)&&function(l,h){for(var m=0,y=l.filters;m<y.length;m++)if(!y[m].matches(h))return!1;return!0}(a,s)&&function(l,h){return!(l.startAt&&!Vi(l.startAt,Ml(l),h)||l.endAt&&Vi(l.endAt,Ml(l),h))}(a,s);var l,h,m}function Sg(a){return function(s,l){for(var h=!1,m=0,y=Ml(a);m<y.length;m++){var b=y[m],C=Ig(b,s,l);if(0!==C)return C;h=h||b.field.isKeyField()}return 0}}function Ig(a,s,l){var m,b,C,T,h=a.field.isKeyField()?Le.comparator(s.key,l.key):(b=l,C=s.data.field(m=a.field),T=b.data.field(m),null!==C&&null!==T?hc(C,T):tt());switch(a.dir){case"asc":return h;case"desc":return-1*h;default:return tt()}}function Wd(a,s){if(a.I){if(isNaN(s))return{doubleValue:"NaN"};if(s===1/0)return{doubleValue:"Infinity"};if(s===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$d(s)?"-0":s}}function Df(a){return{integerValue:""+a}}function Kd(a,s){return Ye(s)?Df(s):Wd(a,s)}var Aa=function(){this._=void 0};function Xp(a,s,l){return a instanceof eo?(y={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(h=l).seconds,nanos:h.nanoseconds}}}},(m=s)&&(y.fields.__previous_value__=m),{mapValue:y}):a instanceof vu?we(a,s):a instanceof jt?Xr(a,s):function(h,m){var y=Sf(h,m),b=Rr(y)+Rr(h.A);return bf(y)&&bf(h.A)?Df(b):Wd(h.R,b)}(a,s);var h,m,y}function Tg(a,s,l){return a instanceof vu?we(a,s):a instanceof jt?Xr(a,s):l}function Sf(a,s){return a instanceof gr?bf(l=s)||(h=l)&&"doubleValue"in h?s:{integerValue:0}:null;var h,l}var eo=function(a){function s(){return null!==a&&a.apply(this,arguments)||this}return(0,I.ZT)(s,a),s}(Aa),vu=function(a){function s(l){var h=this;return(h=a.call(this)||this).elements=l,h}return(0,I.ZT)(s,a),s}(Aa);function we(a,s){for(var l=yc(s),h=function(b){l.some(function(C){return Yn(C,b)})||l.push(b)},m=0,y=a.elements;m<y.length;m++)h(y[m]);return{arrayValue:{values:l}}}var jt=function(a){function s(l){var h=this;return(h=a.call(this)||this).elements=l,h}return(0,I.ZT)(s,a),s}(Aa);function Xr(a,s){for(var l=yc(s),h=function(b){l=l.filter(function(C){return!Yn(C,b)})},m=0,y=a.elements;m<y.length;m++)h(y[m]);return{arrayValue:{values:l}}}var gr=function(a){function s(l,h){var m=this;return(m=a.call(this)||this).R=l,m.A=h,m}return(0,I.ZT)(s,a),s}(Aa);function Rr(a){return Vr(a.integerValue||a.doubleValue)}function yc(a){return Il(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}var Yo=function(a,s){this.field=a,this.transform=s},to=function(a,s){this.version=a,this.transformResults=s},vr=function(){function a(s,l){this.updateTime=s,this.exists=l}return a.none=function(){return new a},a.exists=function(s){return new a(void 0,s)},a.updateTime=function(s){return new a(s)},Object.defineProperty(a.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),a.prototype.isEqual=function(s){return this.exists===s.exists&&(this.updateTime?!!s.updateTime&&this.updateTime.isEqual(s.updateTime):!s.updateTime)},a}();function Zo(a,s){return void 0!==a.updateTime?s.isFoundDocument()&&s.version.isEqual(a.updateTime):void 0===a.exists||a.exists===s.isFoundDocument()}var Rl=function(){};function $_(a,s,l){var h,m,y,b,C;a instanceof xs?(m=s,y=l,b=(h=a).value.clone(),C=If(h.fieldTransforms,m,y.transformResults),b.setAll(C),m.convertToFoundDocument(y.version,b).setHasCommittedMutations()):a instanceof Hn?function(h,m,y){if(Zo(h.precondition,m)){var b=If(h.fieldTransforms,m,y.transformResults),C=m.data;C.setAll(yu(h)),C.setAll(b),m.convertToFoundDocument(y.version,C).setHasCommittedMutations()}else m.convertToUnknownDocument(y.version)}(a,s,l):function(h,m,y){m.convertToNoDocument(y.version).setHasCommittedMutations()}(0,s,l)}function Xo(a,s,l){var m;a instanceof xs?function(h,m,y){if(Zo(h.precondition,m)){var b=h.value.clone(),C=_u(h.fieldTransforms,y,m);b.setAll(C),m.convertToFoundDocument(Ma(m),b).setHasLocalMutations()}}(a,s,l):a instanceof Hn?function(h,m,y){if(Zo(h.precondition,m)){var b=_u(h.fieldTransforms,y,m),C=m.data;C.setAll(yu(h)),C.setAll(b),m.convertToFoundDocument(Ma(m),C).setHasLocalMutations()}}(a,s,l):Zo(a.precondition,m=s)&&m.convertToNoDocument(xt.min())}function wi(a,s){for(var l=null,h=0,m=a.fieldTransforms;h<m.length;h++){var y=m[h],b=s.data.field(y.field),C=Sf(y.transform,b||null);null!=C&&(null==l&&(l=Pi.empty()),l.set(y.field,C))}return l||null}function na(a,s){return a.type===s.type&&!!a.key.isEqual(s.key)&&!!a.precondition.isEqual(s.precondition)&&(h=s.fieldTransforms,!!(void 0===(l=a.fieldTransforms)&&void 0===h||l&&h&&uc(l,h,function(m,y){return(b=m).field.isEqual((C=y).field)&&(O=C.transform,(T=b.transform)instanceof vu&&O instanceof vu||T instanceof jt&&O instanceof jt?uc(T.elements,O.elements,Yn):T instanceof gr&&O instanceof gr?Yn(T.A,O.A):T instanceof eo&&O instanceof eo);var b,C,T,O})))&&(0===a.type?a.value.isEqual(s.value):1!==a.type||a.data.isEqual(s.data)&&a.fieldMask.isEqual(s.fieldMask));var l,h}function Ma(a){return a.isFoundDocument()?a.version:xt.min()}var xs=function(a){function s(l,h,m,y){void 0===y&&(y=[]);var b=this;return(b=a.call(this)||this).key=l,b.value=h,b.precondition=m,b.fieldTransforms=y,b.type=0,b}return(0,I.ZT)(s,a),s}(Rl),Hn=function(a){function s(l,h,m,y,b){void 0===b&&(b=[]);var C=this;return(C=a.call(this)||this).key=l,C.data=h,C.fieldMask=m,C.precondition=y,C.fieldTransforms=b,C.type=1,C}return(0,I.ZT)(s,a),s}(Rl);function yu(a){var s=new Map;return a.fieldMask.fields.forEach(function(l){if(!l.isEmpty()){var h=a.data.field(l);s.set(l,h)}}),s}function If(a,s,l){var h=new Map;ct(a.length===l.length);for(var m=0;m<l.length;m++){var y=a[m],b=y.transform,C=s.data.field(y.field);h.set(y.field,Tg(b,C,l[m]))}return h}function _u(a,s,l){for(var h=new Map,m=0,y=a;m<y.length;m++){var b=y[m],C=b.transform,T=l.data.field(b.field);h.set(b.field,Xp(C,T,s))}return h}var kr,Ot,bu=function(a){function s(l,h){var m=this;return(m=a.call(this)||this).key=l,m.precondition=h,m.type=2,m.fieldTransforms=[],m}return(0,I.ZT)(s,a),s}(Rl),xa=function(a){function s(l,h){var m=this;return(m=a.call(this)||this).key=l,m.precondition=h,m.type=3,m.fieldTransforms=[],m}return(0,I.ZT)(s,a),s}(Rl),Tf=function(a){this.count=a};function Ra(a){switch(a){case oe.OK:return tt();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return tt()}}function Qp(a){if(void 0===a)return mr("GRPC error has no .code"),oe.UNKNOWN;switch(a){case kr.OK:return oe.OK;case kr.CANCELLED:return oe.CANCELLED;case kr.UNKNOWN:return oe.UNKNOWN;case kr.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case kr.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case kr.INTERNAL:return oe.INTERNAL;case kr.UNAVAILABLE:return oe.UNAVAILABLE;case kr.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case kr.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case kr.NOT_FOUND:return oe.NOT_FOUND;case kr.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case kr.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case kr.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case kr.ABORTED:return oe.ABORTED;case kr.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case kr.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case kr.DATA_LOSS:return oe.DATA_LOSS;default:return tt()}}(Ot=kr||(kr={}))[Ot.OK=0]="OK",Ot[Ot.CANCELLED=1]="CANCELLED",Ot[Ot.UNKNOWN=2]="UNKNOWN",Ot[Ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ot[Ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ot[Ot.NOT_FOUND=5]="NOT_FOUND",Ot[Ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ot[Ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ot[Ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ot[Ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ot[Ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ot[Ot.ABORTED=10]="ABORTED",Ot[Ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ot[Ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ot[Ot.INTERNAL=13]="INTERNAL",Ot[Ot.UNAVAILABLE=14]="UNAVAILABLE",Ot[Ot.DATA_LOSS=15]="DATA_LOSS";var kn=function(){function a(s,l){this.comparator=s,this.root=l||Rs.EMPTY}return a.prototype.insert=function(s,l){return new a(this.comparator,this.root.insert(s,l,this.comparator).copy(null,null,Rs.BLACK,null,null))},a.prototype.remove=function(s){return new a(this.comparator,this.root.remove(s,this.comparator).copy(null,null,Rs.BLACK,null,null))},a.prototype.get=function(s){for(var l=this.root;!l.isEmpty();){var h=this.comparator(s,l.key);if(0===h)return l.value;h<0?l=l.left:h>0&&(l=l.right)}return null},a.prototype.indexOf=function(s){for(var l=0,h=this.root;!h.isEmpty();){var m=this.comparator(s,h.key);if(0===m)return l+h.left.size;m<0?h=h.left:(l+=h.left.size+1,h=h.right)}return-1},a.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(a.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),a.prototype.minKey=function(){return this.root.minKey()},a.prototype.maxKey=function(){return this.root.maxKey()},a.prototype.inorderTraversal=function(s){return this.root.inorderTraversal(s)},a.prototype.forEach=function(s){this.inorderTraversal(function(l,h){return s(l,h),!1})},a.prototype.toString=function(){var s=[];return this.inorderTraversal(function(l,h){return s.push(l+":"+h),!1}),"{"+s.join(", ")+"}"},a.prototype.reverseTraversal=function(s){return this.root.reverseTraversal(s)},a.prototype.getIterator=function(){return new kl(this.root,null,this.comparator,!1)},a.prototype.getIteratorFrom=function(s){return new kl(this.root,s,this.comparator,!1)},a.prototype.getReverseIterator=function(){return new kl(this.root,null,this.comparator,!0)},a.prototype.getReverseIteratorFrom=function(s){return new kl(this.root,s,this.comparator,!0)},a}(),kl=function(){function a(s,l,h,m){this.isReverse=m,this.nodeStack=[];for(var y=1;!s.isEmpty();)if(y=l?h(s.key,l):1,m&&(y*=-1),y<0)s=this.isReverse?s.left:s.right;else{if(0===y){this.nodeStack.push(s);break}this.nodeStack.push(s),s=this.isReverse?s.right:s.left}}return a.prototype.getNext=function(){var s=this.nodeStack.pop(),l={key:s.key,value:s.value};if(this.isReverse)for(s=s.left;!s.isEmpty();)this.nodeStack.push(s),s=s.right;else for(s=s.right;!s.isEmpty();)this.nodeStack.push(s),s=s.left;return l},a.prototype.hasNext=function(){return this.nodeStack.length>0},a.prototype.peek=function(){if(0===this.nodeStack.length)return null;var s=this.nodeStack[this.nodeStack.length-1];return{key:s.key,value:s.value}},a}(),Rs=function(){function a(s,l,h,m,y){this.key=s,this.value=l,this.color=h??a.RED,this.left=m??a.EMPTY,this.right=y??a.EMPTY,this.size=this.left.size+1+this.right.size}return a.prototype.copy=function(s,l,h,m,y){return new a(s??this.key,l??this.value,h??this.color,m??this.left,y??this.right)},a.prototype.isEmpty=function(){return!1},a.prototype.inorderTraversal=function(s){return this.left.inorderTraversal(s)||s(this.key,this.value)||this.right.inorderTraversal(s)},a.prototype.reverseTraversal=function(s){return this.right.reverseTraversal(s)||s(this.key,this.value)||this.left.reverseTraversal(s)},a.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},a.prototype.minKey=function(){return this.min().key},a.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},a.prototype.insert=function(s,l,h){var m=this,y=h(s,m.key);return(m=y<0?m.copy(null,null,null,m.left.insert(s,l,h),null):0===y?m.copy(null,l,null,null,null):m.copy(null,null,null,null,m.right.insert(s,l,h))).fixUp()},a.prototype.removeMin=function(){if(this.left.isEmpty())return a.EMPTY;var s=this;return s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),(s=s.copy(null,null,null,s.left.removeMin(),null)).fixUp()},a.prototype.remove=function(s,l){var h,m=this;if(l(s,m.key)<0)m.left.isEmpty()||m.left.isRed()||m.left.left.isRed()||(m=m.moveRedLeft()),m=m.copy(null,null,null,m.left.remove(s,l),null);else{if(m.left.isRed()&&(m=m.rotateRight()),m.right.isEmpty()||m.right.isRed()||m.right.left.isRed()||(m=m.moveRedRight()),0===l(s,m.key)){if(m.right.isEmpty())return a.EMPTY;h=m.right.min(),m=m.copy(h.key,h.value,null,null,m.right.removeMin())}m=m.copy(null,null,null,null,m.right.remove(s,l))}return m.fixUp()},a.prototype.isRed=function(){return this.color},a.prototype.fixUp=function(){var s=this;return s.right.isRed()&&!s.left.isRed()&&(s=s.rotateLeft()),s.left.isRed()&&s.left.left.isRed()&&(s=s.rotateRight()),s.left.isRed()&&s.right.isRed()&&(s=s.colorFlip()),s},a.prototype.moveRedLeft=function(){var s=this.colorFlip();return s.right.left.isRed()&&(s=(s=(s=s.copy(null,null,null,null,s.right.rotateRight())).rotateLeft()).colorFlip()),s},a.prototype.moveRedRight=function(){var s=this.colorFlip();return s.left.left.isRed()&&(s=(s=s.rotateRight()).colorFlip()),s},a.prototype.rotateLeft=function(){var s=this.copy(null,null,a.RED,null,this.right.left);return this.right.copy(null,null,this.color,s,null)},a.prototype.rotateRight=function(){var s=this.copy(null,null,a.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,s)},a.prototype.colorFlip=function(){var s=this.left.copy(null,null,!this.left.color,null,null),l=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,s,l)},a.prototype.checkMaxDepth=function(){var s=this.check();return Math.pow(2,s)<=this.size+1},a.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw tt();var s=this.left.check();if(s!==this.right.check())throw tt();return s+(this.isRed()?0:1)},a}();Rs.EMPTY=null,Rs.RED=!0,Rs.BLACK=!1,Rs.EMPTY=new(function(){function a(){this.size=0}return Object.defineProperty(a.prototype,"key",{get:function(){throw tt()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"value",{get:function(){throw tt()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"color",{get:function(){throw tt()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"left",{get:function(){throw tt()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"right",{get:function(){throw tt()},enumerable:!1,configurable:!0}),a.prototype.copy=function(s,l,h,m,y){return this},a.prototype.insert=function(s,l,h){return new Rs(s,l)},a.prototype.remove=function(s,l){return this},a.prototype.isEmpty=function(){return!0},a.prototype.inorderTraversal=function(s){return!1},a.prototype.reverseTraversal=function(s){return!1},a.prototype.minKey=function(){return null},a.prototype.maxKey=function(){return null},a.prototype.isRed=function(){return!1},a.prototype.checkMaxDepth=function(){return!0},a.prototype.check=function(){return 0},a}());var Zn=function(){function a(s){this.comparator=s,this.data=new kn(this.comparator)}return a.prototype.has=function(s){return null!==this.data.get(s)},a.prototype.first=function(){return this.data.minKey()},a.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(a.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),a.prototype.indexOf=function(s){return this.data.indexOf(s)},a.prototype.forEach=function(s){this.data.inorderTraversal(function(l,h){return s(l),!1})},a.prototype.forEachInRange=function(s,l){for(var h=this.data.getIteratorFrom(s[0]);h.hasNext();){var m=h.getNext();if(this.comparator(m.key,s[1])>=0)return;l(m.key)}},a.prototype.forEachWhile=function(s,l){var h;for(h=void 0!==l?this.data.getIteratorFrom(l):this.data.getIterator();h.hasNext();)if(!s(h.getNext().key))return},a.prototype.firstAfterOrEqual=function(s){var l=this.data.getIteratorFrom(s);return l.hasNext()?l.getNext().key:null},a.prototype.getIterator=function(){return new Jp(this.data.getIterator())},a.prototype.getIteratorFrom=function(s){return new Jp(this.data.getIteratorFrom(s))},a.prototype.add=function(s){return this.copy(this.data.remove(s).insert(s,!0))},a.prototype.delete=function(s){return this.has(s)?this.copy(this.data.remove(s)):this},a.prototype.isEmpty=function(){return this.data.isEmpty()},a.prototype.unionWith=function(s){var l=this;return l.size<s.size&&(l=s,s=this),s.forEach(function(h){l=l.add(h)}),l},a.prototype.isEqual=function(s){if(!(s instanceof a)||this.size!==s.size)return!1;for(var l=this.data.getIterator(),h=s.data.getIterator();l.hasNext();){var m=l.getNext().key,y=h.getNext().key;if(0!==this.comparator(m,y))return!1}return!0},a.prototype.toArray=function(){var s=[];return this.forEach(function(l){s.push(l)}),s},a.prototype.toString=function(){var s=[];return this.forEach(function(l){return s.push(l)}),"SortedSet("+s.toString()+")"},a.prototype.copy=function(s){var l=new a(this.comparator);return l.data=s,l},a}(),Jp=function(){function a(s){this.iter=s}return a.prototype.getNext=function(){return this.iter.getNext().key},a.prototype.hasNext=function(){return this.iter.hasNext()},a}(),_c=new kn(Le.comparator);function Br(){return _c}var Ag=new kn(Le.comparator);function Qr(){return Ag}var ka=new kn(Le.comparator);function gn(){return ka}var Mg=new Zn(Le.comparator);function On(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];for(var l=Mg,h=0,m=a;h<m.length;h++)l=l.add(m[h]);return l}var em=new Zn(nt);function Af(){return em}var Ol=function(){function a(s,l,h,m,y){this.snapshotVersion=s,this.targetChanges=l,this.targetMismatches=h,this.documentUpdates=m,this.resolvedLimboDocuments=y}return a.createSynthesizedRemoteEventForCurrentChange=function(s,l){var h=new Map;return h.set(s,wu.createSynthesizedTargetChangeForCurrentChange(s,l)),new a(xt.min(),h,Af(),Br(),On())},a}(),wu=function(){function a(s,l,h,m,y){this.resumeToken=s,this.current=l,this.addedDocuments=h,this.modifiedDocuments=m,this.removedDocuments=y}return a.createSynthesizedTargetChangeForCurrentChange=function(s,l){return new a(Ni.EMPTY_BYTE_STRING,l,On(),On(),On())},a}(),ra=function(a,s,l,h){this.v=a,this.removedTargetIds=s,this.key=l,this.P=h},Lo=function(a,s){this.targetId=a,this.V=s},tm=function(a,s,l,h){void 0===l&&(l=Ni.EMPTY_BYTE_STRING),void 0===h&&(h=null),this.state=a,this.targetIds=s,this.resumeToken=l,this.cause=h},bc=function(){function a(){this.S=0,this.D=Ec(),this.C=Ni.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(a.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),a.prototype.O=function(s){s.approximateByteSize()>0&&(this.k=!0,this.C=s)},a.prototype.M=function(){var s=On(),l=On(),h=On();return this.D.forEach(function(m,y){switch(y){case 0:s=s.add(m);break;case 2:l=l.add(m);break;case 1:h=h.add(m);break;default:tt()}}),new wu(this.C,this.N,s,l,h)},a.prototype.L=function(){this.k=!1,this.D=Ec()},a.prototype.B=function(s,l){this.k=!0,this.D=this.D.insert(s,l)},a.prototype.q=function(s){this.k=!0,this.D=this.D.remove(s)},a.prototype.U=function(){this.S+=1},a.prototype.K=function(){this.S-=1},a.prototype.j=function(){this.k=!0,this.N=!0},a}(),wc=function(){function a(s){this.W=s,this.G=new Map,this.H=Br(),this.J=Nl(),this.Y=new Zn(nt)}return a.prototype.X=function(s){for(var l=0,h=s.v;l<h.length;l++){var m=h[l];s.P&&s.P.isFoundDocument()?this.Z(m,s.P):this.tt(m,s.key,s.P)}for(var y=0,b=s.removedTargetIds;y<b.length;y++)this.tt(m=b[y],s.key,s.P)},a.prototype.et=function(s){var l=this;this.forEachTarget(s,function(h){var m=l.nt(h);switch(s.state){case 0:l.st(h)&&m.O(s.resumeToken);break;case 1:m.K(),m.F||m.L(),m.O(s.resumeToken);break;case 2:m.K(),m.F||l.removeTarget(h);break;case 3:l.st(h)&&(m.j(),m.O(s.resumeToken));break;case 4:l.st(h)&&(l.it(h),m.O(s.resumeToken));break;default:tt()}})},a.prototype.forEachTarget=function(s,l){var h=this;s.targetIds.length>0?s.targetIds.forEach(l):this.G.forEach(function(m,y){h.st(y)&&l(y)})},a.prototype.rt=function(s){var l=s.targetId,h=s.V.count,m=this.ot(l);if(m){var y=m.target;if(qd(y))if(0===h){var b=new Le(y.path);this.tt(l,b,Fi.newNoDocument(b,xt.min()))}else ct(1===h);else this.ct(l)!==h&&(this.it(l),this.Y=this.Y.add(l))}},a.prototype.ut=function(s){var l=this,h=new Map;this.G.forEach(function(b,C){var T=l.ot(C);if(T){if(b.current&&qd(T.target)){var O=new Le(T.target.path);null!==l.H.get(O)||l.at(C,O)||l.tt(C,O,Fi.newNoDocument(O,s))}b.$&&(h.set(C,b.M()),b.L())}});var m=On();this.J.forEach(function(b,C){var T=!0;C.forEachWhile(function(O){var P=l.ot(O);return!P||2===P.purpose||(T=!1,!1)}),T&&(m=m.add(b))});var y=new Ol(s,h,this.Y,this.H,m);return this.H=Br(),this.J=Nl(),this.Y=new Zn(nt),y},a.prototype.Z=function(s,l){if(this.st(s)){var h=this.at(s,l.key)?2:0;this.nt(s).B(l.key,h),this.H=this.H.insert(l.key,l),this.J=this.J.insert(l.key,this.ht(l.key).add(s))}},a.prototype.tt=function(s,l,h){if(this.st(s)){var m=this.nt(s);this.at(s,l)?m.B(l,1):m.q(l),this.J=this.J.insert(l,this.ht(l).delete(s)),h&&(this.H=this.H.insert(l,h))}},a.prototype.removeTarget=function(s){this.G.delete(s)},a.prototype.ct=function(s){var l=this.nt(s).M();return this.W.getRemoteKeysForTarget(s).size+l.addedDocuments.size-l.removedDocuments.size},a.prototype.U=function(s){this.nt(s).U()},a.prototype.nt=function(s){var l=this.G.get(s);return l||(l=new bc,this.G.set(s,l)),l},a.prototype.ht=function(s){var l=this.J.get(s);return l||(l=new Zn(nt),this.J=this.J.insert(s,l)),l},a.prototype.st=function(s){var l=null!==this.ot(s);return l||Ce("WatchChangeAggregator","Detected inactive target",s),l},a.prototype.ot=function(s){var l=this.G.get(s);return l&&l.F?null:this.W.lt(s)},a.prototype.it=function(s){var l=this;this.G.set(s,new bc),this.W.getRemoteKeysForTarget(s).forEach(function(h){l.tt(s,h,null)})},a.prototype.at=function(s,l){return this.W.getRemoteKeysForTarget(s).has(l)},a}();function Nl(){return new kn(Le.comparator)}function Ec(){return new kn(Le.comparator)}var nm={asc:"ASCENDING",desc:"DESCENDING"},Mf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rm=function(a,s){this.databaseId=a,this.I=s};function ia(a,s){return a.I?new Date(1e3*s.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+s.nanoseconds).slice(-9)+"Z":{seconds:""+s.seconds,nanos:s.nanoseconds}}function Eu(a,s){return a.I?s.toBase64():s.toUint8Array()}function Yd(a,s){return ia(a,s.toTimestamp())}function ai(a){return ct(!!a),xt.fromTimestamp((l=Fo(a),new Oi(l.seconds,l.nanos)));var l}function Cc(a,s){return(l=a,new Kt(["projects",l.projectId,"databases",l.database])).child("documents").child(s).canonicalString();var l}function ty(a){var s=Kt.fromString(a);return ct(Nf(s)),s}function Zd(a,s){return Cc(a.databaseId,s.path)}function ks(a,s){var l=ty(s);if(l.get(1)!==a.databaseId.projectId)throw new Ee(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+l.get(1)+" vs "+a.databaseId.projectId);if(l.get(3)!==a.databaseId.database)throw new Ee(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+l.get(3)+" vs "+a.databaseId.database);return new Le(Bi(l))}function xf(a,s){return Cc(a.databaseId,s)}function Rf(a){var s=ty(a);return 4===s.length?Kt.emptyPath():Bi(s)}function Cu(a){return new Kt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Bi(a){return ct(a.length>4&&"documents"===a.get(4)),a.popFirst(5)}function Xd(a,s,l){return{name:Zd(a,s),fields:l.value.mapValue.fields}}function Du(a,s,l){var h=ks(a,s.name),m=ai(s.updateTime),y=new Pi({mapValue:{fields:s.fields}}),b=Fi.newFoundDocument(h,m,y);return l&&b.setHasCommittedMutations(),l?b.setHasCommittedMutations():b}function Su(a,s){var l,m;if(s instanceof xs)l={update:Xd(a,s.key,s.value)};else if(s instanceof bu)l={delete:Zd(a,s.key)};else if(s instanceof Hn)l={update:Xd(a,s.key,s.data),updateMask:Jd(s.fieldMask)};else{if(!(s instanceof xa))return tt();l={verify:Zd(a,s.key)}}return s.fieldTransforms.length>0&&(l.updateTransforms=s.fieldTransforms.map(function(h){return function(m,y){var b=y.transform;if(b instanceof eo)return{fieldPath:y.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof vu)return{fieldPath:y.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof jt)return{fieldPath:y.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof gr)return{fieldPath:y.field.canonicalString(),increment:b.A};throw tt()}(0,h)})),s.precondition.isNone||(l.currentDocument=void 0!==(m=s.precondition).updateTime?{updateTime:Yd(a,m.updateTime)}:void 0!==m.exists?{exists:m.exists}:tt()),l}function Pl(a,s){var O,l=s.currentDocument?void 0!==(O=s.currentDocument).updateTime?vr.updateTime(ai(O.updateTime)):void 0!==O.exists?vr.exists(O.exists):vr.none():vr.none(),h=s.updateTransforms?s.updateTransforms.map(function(O){return function(P,B){var z=null;"setToServerValue"in B?(ct("REQUEST_TIME"===B.setToServerValue),z=new eo):"appendMissingElements"in B?z=new vu(B.appendMissingElements.values||[]):"removeAllFromArray"in B?z=new jt(B.removeAllFromArray.values||[]):"increment"in B?z=new gr(P,B.increment):tt();var he=As.fromServerFormat(B.fieldPath);return new Yo(he,z)}(a,O)}):[];if(s.update){var m=ks(a,s.update.name),y=new Pi({mapValue:{fields:s.update.fields}});if(s.updateMask){var b=function(O){return new Wo((O.fieldPaths||[]).map(function(B){return As.fromServerFormat(B)}))}(s.updateMask);return new Hn(m,y,b,l,h)}return new xs(m,y,l,h)}if(s.delete){var C=ks(a,s.delete);return new bu(C,l)}if(s.verify){var T=ks(a,s.verify);return new xa(T,l)}return tt()}function Qd(a,s){return{documents:[xf(a,s.path)]}}function Dc(a,s){var l={structuredQuery:{}},h=s.path;null!==s.collectionGroup?(l.parent=xf(a,h),l.structuredQuery.from=[{collectionId:s.collectionGroup,allDescendants:!0}]):(l.parent=xf(a,h.popLast()),l.structuredQuery.from=[{collectionId:h.lastSegment()}]);var m=function(C){if(0!==C.length){var T=C.map(function(O){return function(P){if("=="===P.op){if(bg(P.value))return{unaryFilter:{field:Ic(P.field),op:"IS_NAN"}};if(fu(P.value))return{unaryFilter:{field:Ic(P.field),op:"IS_NULL"}}}else if("!="===P.op){if(bg(P.value))return{unaryFilter:{field:Ic(P.field),op:"IS_NOT_NAN"}};if(fu(P.value))return{unaryFilter:{field:Ic(P.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ic(P.field),op:om(P.op),value:P.value}}}(O)});return 1===T.length?T[0]:{compositeFilter:{op:"AND",filters:T}}}}(s.filters);m&&(l.structuredQuery.where=m);var y=function(C){if(0!==C.length)return C.map(function(T){return{field:Ic((O=T).field),direction:kf(O.dir)};var O})}(s.orderBy);y&&(l.structuredQuery.orderBy=y);var T,b=(T=s.limit,a.I||Sa(T)?T:{value:T});return null!==b&&(l.structuredQuery.limit=b),s.startAt&&(l.structuredQuery.startAt=Os(s.startAt)),s.endAt&&(l.structuredQuery.endAt=Os(s.endAt)),l}function Sc(a){var s=Rf(a.parent),l=a.structuredQuery,h=l.from?l.from.length:0,m=null;if(h>0){ct(1===h);var y=l.from[0];y.allDescendants?m=y.collectionId:s=s.child(y.collectionId)}var b=[];l.where&&(b=im(l.where));var C=[];l.orderBy&&(C=l.orderBy.map(function(B){return new mc(Oa((z=B).field),function(re){switch(re){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(z.direction));var z}));var B,z,T=null;l.limit&&(T=Sa(z="object"==typeof(B=l.limit)?B.value:B)?null:z);var O=null;l.startAt&&(O=xg(l.startAt));var P=null;return l.endAt&&(P=xg(l.endAt)),mu(s,m,C,b,T,"F",O,P)}function im(a){return a?void 0!==a.unaryFilter?[Rg(a)]:void 0!==a.fieldFilter?[Of(a)]:void 0!==a.compositeFilter?a.compositeFilter.filters.map(function(s){return im(s)}).reduce(function(s,l){return s.concat(l)}):tt():[]}function Os(a){return{before:a.before,values:a.position}}function xg(a){return new Al(a.values||[],!!a.before)}function kf(a){return nm[a]}function om(a){return Mf[a]}function Ic(a){return{fieldPath:a.canonicalString()}}function Oa(a){return As.fromServerFormat(a.fieldPath)}function Of(a){return _o.create(Oa(a.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return tt()}}(a.fieldFilter.op),a.fieldFilter.value)}function Rg(a){switch(a.unaryFilter.op){case"IS_NAN":var s=Oa(a.unaryFilter.field);return _o.create(s,"==",{doubleValue:NaN});case"IS_NULL":var l=Oa(a.unaryFilter.field);return _o.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var h=Oa(a.unaryFilter.field);return _o.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var m=Oa(a.unaryFilter.field);return _o.create(m,"!=",{nullValue:"NULL_VALUE"});default:return tt()}}function Jd(a){var s=[];return a.fields.forEach(function(l){return s.push(l.canonicalString())}),{fieldPaths:s}}function Nf(a){return a.length>=4&&"projects"===a.get(0)&&"databases"===a.get(2)}function ji(a){for(var s="",l=0;l<a.length;l++)s.length>0&&(s=kg(s)),s=eh(a.get(l),s);return kg(s)}function eh(a,s){for(var l=s,h=a.length,m=0;m<h;m++){var y=a.charAt(m);switch(y){case"\0":l+="\x01\x10";break;case"\x01":l+="\x01\x11";break;default:l+=y}}return l}function kg(a){return a+"\x01\x01"}function jr(a){var s=a.length;if(ct(s>=2),2===s)return ct("\x01"===a.charAt(0)&&"\x01"===a.charAt(1)),Kt.emptyPath();for(var l=s-2,h=[],m="",y=0;y<s;){var b=a.indexOf("\x01",y);switch((b<0||b>l)&&tt(),a.charAt(b+1)){case"\x01":var C=a.substring(y,b),T=void 0;0===m.length?T=C:(T=m+=C,m=""),h.push(T);break;case"\x10":m+=a.substring(y,b),m+="\0";break;case"\x11":m+=a.substring(y,b+1);break;default:tt()}y=b+2}return new Kt(h)}var Vo=function(a,s){this.seconds=a,this.nanoseconds=s},Ei=function(a,s,l){this.ownerId=a,this.allowTabSynchronization=s,this.leaseTimestampMs=l};Ei.store="owner",Ei.key="owner";var Qo=function(a,s,l){this.userId=a,this.lastAcknowledgedBatchId=s,this.lastStreamToken=l};Qo.store="mutationQueues",Qo.keyPath="userId";var nr=function(a,s,l,h,m){this.userId=a,this.batchId=s,this.localWriteTimeMs=l,this.baseMutations=h,this.mutations=m};nr.store="mutations",nr.keyPath="batchId",nr.userMutationsIndex="userMutationsIndex",nr.userMutationsKeyPath=["userId","batchId"];var yr=function(){function a(){}return a.prefixForUser=function(s){return[s]},a.prefixForPath=function(s,l){return[s,ji(l)]},a.key=function(s,l,h){return[s,ji(l),h]},a}();yr.store="documentMutations",yr.PLACEHOLDER=new yr;var Og=function(a,s){this.path=a,this.readTime=s},ui=function(a,s){this.path=a,this.version=s},Xn=function(a,s,l,h,m,y){this.unknownDocument=a,this.noDocument=s,this.document=l,this.hasCommittedMutations=h,this.readTime=m,this.parentPath=y};Xn.store="remoteDocuments",Xn.readTimeIndex="readTimeIndex",Xn.readTimeIndexPath="readTime",Xn.collectionReadTimeIndex="collectionReadTimeIndex",Xn.collectionReadTimeIndexPath=["parentPath","readTime"];var bo=function(a){this.byteSize=a};bo.store="remoteDocumentGlobal",bo.key="remoteDocumentGlobalKey";var Ui=function(a,s,l,h,m,y,b){this.targetId=a,this.canonicalId=s,this.readTime=l,this.resumeToken=h,this.lastListenSequenceNumber=m,this.lastLimboFreeSnapshotVersion=y,this.query=b};Ui.store="targets",Ui.keyPath="targetId",Ui.queryTargetsIndexName="queryTargetsIndex",Ui.queryTargetsKeyPath=["canonicalId","targetId"];var dr=function(a,s,l){this.targetId=a,this.path=s,this.sequenceNumber=l};dr.store="targetDocuments",dr.keyPath=["targetId","path"],dr.documentTargetsIndex="documentTargetsIndex",dr.documentTargetsKeyPath=["path","targetId"];var Ur=function(a,s,l,h){this.highestTargetId=a,this.highestListenSequenceNumber=s,this.lastRemoteSnapshotVersion=l,this.targetCount=h};Ur.key="targetGlobalKey",Ur.store="targetGlobal";var Jo=function(a,s){this.collectionId=a,this.parent=s};Jo.store="collectionParents",Jo.keyPath=["collectionId","parent"];var wo=function(a,s,l,h){this.clientId=a,this.updateTimeMs=s,this.networkEnabled=l,this.inForeground=h};wo.store="clientMetadata",wo.keyPath="clientId";var oa=function(a,s,l){this.bundleId=a,this.createTime=s,this.version=l};oa.store="bundles",oa.keyPath="bundleId";var Iu=function(a,s,l){this.name=a,this.readTime=s,this.bundledQuery=l};Iu.store="namedQueries",Iu.keyPath="name";var Fl=(0,I.ev)((0,I.ev)([],(0,I.ev)((0,I.ev)([],(0,I.ev)((0,I.ev)([],(0,I.ev)((0,I.ev)([],[Qo.store,nr.store,yr.store,Xn.store,Ui.store,Ei.store,Ur.store,dr.store]),[wo.store])),[bo.store])),[Jo.store])),[oa.store,Iu.store]),sm="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",th=function(){function a(){this.onCommittedListeners=[]}return a.prototype.addOnCommittedListener=function(s){this.onCommittedListeners.push(s)},a.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(s){return s()})},a}(),sr=function(){var a=this;this.promise=new Promise(function(s,l){a.resolve=s,a.reject=l})},Te=function(){function a(s){var l=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,s(function(h){l.isDone=!0,l.result=h,l.nextCallback&&l.nextCallback(h)},function(h){l.isDone=!0,l.error=h,l.catchCallback&&l.catchCallback(h)})}return a.prototype.catch=function(s){return this.next(void 0,s)},a.prototype.next=function(s,l){var h=this;return this.callbackAttached&&tt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(l,this.error):this.wrapSuccess(s,this.result):new a(function(m,y){h.nextCallback=function(b){h.wrapSuccess(s,b).next(m,y)},h.catchCallback=function(b){h.wrapFailure(l,b).next(m,y)}})},a.prototype.toPromise=function(){var s=this;return new Promise(function(l,h){s.next(l,h)})},a.prototype.wrapUserFunction=function(s){try{var l=s();return l instanceof a?l:a.resolve(l)}catch(h){return a.reject(h)}},a.prototype.wrapSuccess=function(s,l){return s?this.wrapUserFunction(function(){return s(l)}):a.resolve(l)},a.prototype.wrapFailure=function(s,l){return s?this.wrapUserFunction(function(){return s(l)}):a.reject(l)},a.resolve=function(s){return new a(function(l,h){l(s)})},a.reject=function(s){return new a(function(l,h){h(s)})},a.waitFor=function(s){return new a(function(l,h){var m=0,y=0,b=!1;s.forEach(function(C){++m,C.next(function(){++y,b&&y===m&&l()},function(T){return h(T)})}),b=!0,y===m&&l()})},a.or=function(s){for(var l=a.resolve(!1),h=function(b){l=l.next(function(C){return C?a.resolve(C):b()})},m=0,y=s;m<y.length;m++)h(y[m]);return l},a.forEach=function(s,l){var h=this,m=[];return s.forEach(function(y,b){m.push(l.call(h,y,b))}),this.waitFor(m)},a}(),Ns=function(){function a(s,l){var h=this;this.action=s,this.transaction=l,this.aborted=!1,this.ft=new sr,this.transaction.oncomplete=function(){h.ft.resolve()},this.transaction.onabort=function(){l.error?h.ft.reject(new Pf(s,l.error)):h.ft.resolve()},this.transaction.onerror=function(m){var y=Ff(m.target.error);h.ft.reject(new Pf(s,y))}}return a.open=function(s,l,h,m){try{return new a(l,s.transaction(m,h))}catch(y){throw new Pf(l,y)}},Object.defineProperty(a.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),a.prototype.abort=function(s){s&&this.ft.reject(s),this.aborted||(Ce("SimpleDb","Aborting transaction:",s?s.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},a.prototype.store=function(s){var l=this.transaction.objectStore(s);return new ny(l)},a}(),nh=function(){function a(s,l,h){this.name=s,this.version=l,this.wt=h,12.2===a._t((0,Ke.z$)())&&mr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return a.delete=function(s){return Ce("SimpleDb","Removing database:",s),Na(window.indexedDB.deleteDatabase(s)).toPromise()},a.yt=function(){if(typeof indexedDB>"u")return!1;if(a.gt())return!0;var s=(0,Ke.z$)(),l=a._t(s),h=0<l&&l<10,m=a.Et(s),y=0<m&&m<4.5;return!(s.indexOf("MSIE ")>0||s.indexOf("Trident/")>0||s.indexOf("Edge/")>0||h||y)},a.gt=function(){var s;return typeof process<"u"&&"YES"===(null===(s=process.env)||void 0===s?void 0:s.Tt)},a.It=function(s,l){return s.store(l)},a._t=function(s){var l=s.match(/i(?:phone|pad|pod) os ([\d_]+)/i),h=l?l[1].split("_").slice(0,2).join("."):"-1";return Number(h)},a.Et=function(s){var l=s.match(/Android ([\d.]+)/i),h=l?l[1].split(".").slice(0,2).join("."):"-1";return Number(h)},a.prototype.At=function(s){return(0,I.mG)(this,void 0,void 0,function(){var l,h=this;return(0,I.Jh)(this,function(m){switch(m.label){case 0:return this.db?[3,2]:(Ce("SimpleDb","Opening database:",this.name),l=this,[4,new Promise(function(y,b){var C=indexedDB.open(h.name,h.version);C.onsuccess=function(T){y(T.target.result)},C.onblocked=function(){b(new Pf(s,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},C.onerror=function(T){var O=T.target.error;b("VersionError"===O.name?new Ee(oe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Pf(s,O))},C.onupgradeneeded=function(T){Ce("SimpleDb",'Database "'+h.name+'" requires upgrade from version:',T.oldVersion),h.wt.Rt(T.target.result,C.transaction,T.oldVersion,h.version).next(function(){Ce("SimpleDb","Database upgrade to version "+h.version+" complete")})}})]);case 1:l.db=m.sent(),m.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(y){return h.bt(y)}),this.db)]}})})},a.prototype.vt=function(s){this.bt=s,this.db&&(this.db.onversionchange=function(l){return s(l)})},a.prototype.runTransaction=function(s,l,h,m){return(0,I.mG)(this,void 0,void 0,function(){var y,b,C,T,O;return(0,I.Jh)(this,function(P){switch(P.label){case 0:y="readonly"===l,b=0,C=function(){var B,z,re,ne,he;return(0,I.Jh)(this,function(Re){switch(Re.label){case 0:++b,Re.label=1;case 1:return Re.trys.push([1,4,,5]),[4,T.At(s)];case 2:return T.db=Re.sent(),B=Ns.open(T.db,s,y?"readonly":"readwrite",h),z=m(B).catch(function(Fe){return B.abort(Fe),Te.reject(Fe)}).toPromise(),re={},z.catch(function(){}),[4,B.dt];case 3:return[2,(re.value=(Re.sent(),z),re)];case 4:return Ce("SimpleDb","Transaction failed with error:",(ne=Re.sent()).message,"Retrying:",he="FirebaseError"!==ne.name&&b<3),T.close(),he?[3,5]:[2,{value:Promise.reject(ne)}];case 5:return[2]}})},T=this,P.label=1;case 1:return[5,C()];case 2:if("object"==typeof(O=P.sent()))return[2,O.value];P.label=3;case 3:return[3,1];case 4:return[2]}})})},a.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},a}(),q_=function(){function a(s){this.Pt=s,this.Vt=!1,this.St=null}return Object.defineProperty(a.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"cursor",{set:function(s){this.Pt=s},enumerable:!1,configurable:!0}),a.prototype.done=function(){this.Vt=!0},a.prototype.Ct=function(s){this.St=s},a.prototype.delete=function(){return Na(this.Pt.delete())},a}(),Pf=function(a){function s(l,h){var m=this;return(m=a.call(this,oe.UNAVAILABLE,"IndexedDB transaction '"+l+"' failed: "+h)||this).name="IndexedDbTransactionError",m}return(0,I.ZT)(s,a),s}(Ee);function Ps(a){return"IndexedDbTransactionError"===a.name}var ny=function(){function a(s){this.store=s}return a.prototype.put=function(s,l){var h;return void 0!==l?(Ce("SimpleDb","PUT",this.store.name,s,l),h=this.store.put(l,s)):(Ce("SimpleDb","PUT",this.store.name,"<auto-key>",s),h=this.store.put(s)),Na(h)},a.prototype.add=function(s){return Ce("SimpleDb","ADD",this.store.name,s,s),Na(this.store.add(s))},a.prototype.get=function(s){var l=this;return Na(this.store.get(s)).next(function(h){return void 0===h&&(h=null),Ce("SimpleDb","GET",l.store.name,s,h),h})},a.prototype.delete=function(s){return Ce("SimpleDb","DELETE",this.store.name,s),Na(this.store.delete(s))},a.prototype.count=function(){return Ce("SimpleDb","COUNT",this.store.name),Na(this.store.count())},a.prototype.Nt=function(s,l){var h=this.cursor(this.options(s,l)),m=[];return this.xt(h,function(y,b){m.push(b)}).next(function(){return m})},a.prototype.kt=function(s,l){Ce("SimpleDb","DELETE ALL",this.store.name);var h=this.options(s,l);h.Ft=!1;var m=this.cursor(h);return this.xt(m,function(y,b,C){return C.delete()})},a.prototype.$t=function(s,l){var h;l?h=s:(h={},l=s);var m=this.cursor(h);return this.xt(m,l)},a.prototype.Ot=function(s){var l=this.cursor({});return new Te(function(h,m){l.onerror=function(y){var b=Ff(y.target.error);m(b)},l.onsuccess=function(y){var b=y.target.result;b?s(b.primaryKey,b.value).next(function(C){C?b.continue():h()}):h()}})},a.prototype.xt=function(s,l){var h=[];return new Te(function(m,y){s.onerror=function(b){y(b.target.error)},s.onsuccess=function(b){var C=b.target.result;if(C){var T=new q_(C),O=l(C.primaryKey,C.value,T);if(O instanceof Te){var P=O.catch(function(B){return T.done(),Te.reject(B)});h.push(P)}T.isDone?m():null===T.Dt?C.continue():C.continue(T.Dt)}else m()}}).next(function(){return Te.waitFor(h)})},a.prototype.options=function(s,l){var h;return void 0!==s&&("string"==typeof s?h=s:l=s),{index:h,range:l}},a.prototype.cursor=function(s){var l="next";if(s.reverse&&(l="prev"),s.index){var h=this.store.index(s.index);return s.Ft?h.openKeyCursor(s.range,l):h.openCursor(s.range,l)}return this.store.openCursor(s.range,l)},a}();function Na(a){return new Te(function(s,l){a.onsuccess=function(h){s(h.target.result)},a.onerror=function(h){var m=Ff(h.target.error);l(m)}})}var Ir=!1;function Ff(a){var s=nh._t((0,Ke.z$)());if(s>=12.2&&s<13){var l="An internal error was encountered in the Indexed Database server";if(a.message.indexOf(l)>=0){var h=new Ee("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+l+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Ir||(Ir=!0,setTimeout(function(){throw h},0)),h}}return a}var Tc=function(a){function s(l,h){var m=this;return(m=a.call(this)||this).Mt=l,m.currentSequenceNumber=h,m}return(0,I.ZT)(s,a),s}(th);function Eo(a,s){var l=Be(a);return nh.It(l.Mt,s)}var no=function(){function a(s,l,h,m){this.batchId=s,this.localWriteTime=l,this.baseMutations=h,this.mutations=m}return a.prototype.applyToRemoteDocument=function(s,l){for(var h=l.mutationResults,m=0;m<this.mutations.length;m++){var y=this.mutations[m];y.key.isEqual(s.key)&&$_(y,s,h[m])}},a.prototype.applyToLocalView=function(s){for(var l=0,h=this.baseMutations;l<h.length;l++)(b=h[l]).key.isEqual(s.key)&&Xo(b,s,this.localWriteTime);for(var m=0,y=this.mutations;m<y.length;m++){var b;(b=y[m]).key.isEqual(s.key)&&Xo(b,s,this.localWriteTime)}},a.prototype.applyToLocalDocumentSet=function(s){var l=this;this.mutations.forEach(function(h){var m=s.get(h.key),y=m;l.applyToLocalView(y),m.isValidDocument()||y.convertToNoDocument(xt.min())})},a.prototype.keys=function(){return this.mutations.reduce(function(s,l){return s.add(l.key)},On())},a.prototype.isEqual=function(s){return this.batchId===s.batchId&&uc(this.mutations,s.mutations,function(l,h){return na(l,h)})&&uc(this.baseMutations,s.baseMutations,function(l,h){return na(l,h)})},a}(),rh=function(){function a(s,l,h,m){this.batch=s,this.commitVersion=l,this.mutationResults=h,this.docVersions=m}return a.from=function(s,l,h){ct(s.mutations.length===h.length);for(var m=gn(),y=s.mutations,b=0;b<y.length;b++)m=m.insert(y[b].key,h[b].version);return new a(s,l,h,m)},a}(),ih=function(){function a(s,l,h,m,y,b,C){void 0===y&&(y=xt.min()),void 0===b&&(b=xt.min()),void 0===C&&(C=Ni.EMPTY_BYTE_STRING),this.target=s,this.targetId=l,this.purpose=h,this.sequenceNumber=m,this.snapshotVersion=y,this.lastLimboFreeSnapshotVersion=b,this.resumeToken=C}return a.prototype.withSequenceNumber=function(s){return new a(this.target,this.targetId,this.purpose,s,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},a.prototype.withResumeToken=function(s,l){return new a(this.target,this.targetId,this.purpose,this.sequenceNumber,l,this.lastLimboFreeSnapshotVersion,s)},a.prototype.withLastLimboFreeSnapshotVersion=function(s){return new a(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,s,this.resumeToken)},a}(),Ll=function(a){this.Lt=a};function Bo(a,s){if(s.document)return Du(a.Lt,s.document,!!s.hasCommittedMutations);if(s.noDocument){var l=Le.fromSegments(s.noDocument.path),h=Hr(s.noDocument.readTime),m=Fi.newNoDocument(l,h);return s.hasCommittedMutations?m.setHasCommittedMutations():m}if(s.unknownDocument){var y=Le.fromSegments(s.unknownDocument.path);return h=Hr(s.unknownDocument.version),Fi.newUnknownDocument(y,h)}return tt()}function am(a,s,l){var B,z,h=Ng(l),m=s.key.path.popLast().toArray();if(s.isFoundDocument()){var y={name:Zd(B=a.Lt,(z=s).key),fields:z.data.value.mapValue.fields,updateTime:ia(B,z.version.toTimestamp())},b=s.hasCommittedMutations;return new Xn(null,null,y,b,h,m)}if(s.isNoDocument()){var C=s.key.path.toArray(),T=ci(s.version);return b=s.hasCommittedMutations,new Xn(null,new Og(C,T),null,b,h,m)}if(s.isUnknownDocument()){var O=s.key.path.toArray(),P=ci(s.version);return new Xn(new ui(O,P),null,null,!0,h,m)}return tt()}function Ng(a){var s=a.toTimestamp();return[s.seconds,s.nanoseconds]}function Pg(a){var s=new Oi(a[0],a[1]);return xt.fromTimestamp(s)}function ci(a){var s=a.toTimestamp();return new Vo(s.seconds,s.nanoseconds)}function Hr(a){var s=new Oi(a.seconds,a.nanoseconds);return xt.fromTimestamp(s)}function Tu(a,s){for(var l=(s.baseMutations||[]).map(function(T){return Pl(a.Lt,T)}),h=0;h<s.mutations.length-1;++h)h+1<s.mutations.length&&void 0!==s.mutations[h+1].transform&&(s.mutations[h].updateTransforms=s.mutations[h+1].transform.fieldTransforms,s.mutations.splice(h+1,1),++h);var b=s.mutations.map(function(T){return Pl(a.Lt,T)}),C=Oi.fromMillis(s.localWriteTimeMs);return new no(s.batchId,C,l,b)}function sa(a){var s,l,h=Hr(a.readTime),m=void 0!==a.lastLimboFreeSnapshotVersion?Hr(a.lastLimboFreeSnapshotVersion):xt.min();return void 0!==a.query.documents?(ct(1===(l=a.query).documents.length),s=bi(Zr(Rf(l.documents[0])))):s=bi(Sc(a.query)),new ih(s,a.targetId,0,a.lastListenSequenceNumber,h,m,Ni.fromBase64String(a.resumeToken))}function ry(a,s){var l,h=ci(s.snapshotVersion),m=ci(s.lastLimboFreeSnapshotVersion);l=qd(s.target)?Qd(a.Lt,s.target):Dc(a.Lt,s.target);var y=s.resumeToken.toBase64();return new Ui(s.targetId,Tl(s.target),h,y,s.sequenceNumber,m,l)}function oh(a){var s=Sc({parent:a.parent,structuredQuery:a.structuredQuery});return"LAST"===a.limitType?Zp(s,s.limit,"L"):s}var iy=function(){function a(){}return a.prototype.getBundleMetadata=function(s,l){return Fg(s).get(l).next(function(h){if(h)return{id:(m=h).bundleId,createTime:Hr(m.createTime),version:m.version};var m})},a.prototype.saveBundleMetadata=function(s,l){return Fg(s).put({bundleId:(h=l).id,createTime:ci(ai(h.createTime)),version:h.version});var h},a.prototype.getNamedQuery=function(s,l){return Lf(s).get(l).next(function(h){if(h)return{name:(m=h).name,query:oh(m.bundledQuery),readTime:Hr(m.readTime)};var m})},a.prototype.saveNamedQuery=function(s,l){return Lf(s).put({name:(h=l).name,readTime:ci(ai(h.readTime)),bundledQuery:h.bundledQuery});var h},a}();function Fg(a){return Eo(a,oa.store)}function Lf(a){return Eo(a,Iu.store)}var um=function(){function a(){this.Bt=new Vf}return a.prototype.addToCollectionParentIndex=function(s,l){return this.Bt.add(l),Te.resolve()},a.prototype.getCollectionParents=function(s,l){return Te.resolve(this.Bt.getEntries(l))},a}(),Vf=function(){function a(){this.index={}}return a.prototype.add=function(s){var l=s.lastSegment(),h=s.popLast(),m=this.index[l]||new Zn(Kt.comparator),y=!m.has(h);return this.index[l]=m.add(h),y},a.prototype.has=function(s){var l=s.lastSegment(),h=s.popLast(),m=this.index[l];return m&&m.has(h)},a.prototype.getEntries=function(s){return(this.index[s]||new Zn(Kt.comparator)).toArray()},a}(),cm=function(){function a(){this.qt=new Vf}return a.prototype.addToCollectionParentIndex=function(s,l){var h=this;if(!this.qt.has(l)){var m=l.lastSegment(),y=l.popLast();s.addOnCommittedListener(function(){h.qt.add(l)});var b={collectionId:m,parent:ji(y)};return Vl(s).put(b)}return Te.resolve()},a.prototype.getCollectionParents=function(s,l){var h=[],m=IDBKeyRange.bound([l,""],[cc(l),""],!1,!0);return Vl(s).Nt(m).next(function(y){for(var b=0,C=y;b<C.length;b++){var T=C[b];if(T.collectionId!==l)break;h.push(jr(T.parent))}return h})},a}();function Vl(a){return Eo(a,Jo.store)}var Ac={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},es=function(){function a(s,l,h){this.cacheSizeCollectionThreshold=s,this.percentileToCollect=l,this.maximumSequenceNumbersToCollect=h}return a.withCacheSize=function(s){return new a(s,a.DEFAULT_COLLECTION_PERCENTILE,a.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},a}();function Au(a,s,l){var h=a.store(nr.store),m=a.store(yr.store),y=[],b=IDBKeyRange.only(l.batchId),C=0,T=h.$t({range:b},function(ne,he,Re){return C++,Re.delete()});y.push(T.next(function(){ct(1===C)}));for(var O=[],P=0,B=l.mutations;P<B.length;P++){var z=B[P],re=yr.key(s,z.key.path,l.batchId);y.push(m.delete(re)),O.push(z.key)}return Te.waitFor(y).next(function(){return O})}function Bf(a){if(!a)return 0;var s;if(a.document)s=a.document;else if(a.unknownDocument)s=a.unknownDocument;else{if(!a.noDocument)throw tt();s=a.noDocument}return JSON.stringify(s).length}es.DEFAULT_COLLECTION_PERCENTILE=10,es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,es.DEFAULT=new es(41943040,es.DEFAULT_COLLECTION_PERCENTILE,es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),es.DISABLED=new es(-1,0,0);var sh=function(){function a(s,l,h,m){this.userId=s,this.R=l,this.Ut=h,this.referenceDelegate=m,this.Kt={}}return a.Qt=function(s,l,h,m){return ct(""!==s.uid),new a(s.isAuthenticated()?s.uid:"",l,h,m)},a.prototype.checkEmpty=function(s){var l=!0,h=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Pa(s).$t({index:nr.userMutationsIndex,range:h},function(m,y,b){l=!1,b.done()}).next(function(){return l})},a.prototype.addMutationBatch=function(s,l,h,m){var y=this,b=Mu(s),C=Pa(s);return C.add({}).next(function(T){ct("number"==typeof T);for(var O=new no(T,l,h,m),P=function(Fe,dt,mt){var dn=mt.baseMutations.map(function($n){return Su(Fe.Lt,$n)}),bn=mt.mutations.map(function($n){return Su(Fe.Lt,$n)});return new nr(dt,mt.batchId,mt.localWriteTime.toMillis(),dn,bn)}(y.R,y.userId,O),B=[],z=new Zn(function(Fe,dt){return nt(Fe.canonicalString(),dt.canonicalString())}),re=0,ne=m;re<ne.length;re++){var he=ne[re],Re=yr.key(y.userId,he.key.path,T);z=z.add(he.key.path.popLast()),B.push(C.put(P)),B.push(b.put(Re,yr.PLACEHOLDER))}return z.forEach(function(Fe){B.push(y.Ut.addToCollectionParentIndex(s,Fe))}),s.addOnCommittedListener(function(){y.Kt[T]=O.keys()}),Te.waitFor(B).next(function(){return O})})},a.prototype.lookupMutationBatch=function(s,l){var h=this;return Pa(s).get(l).next(function(m){return m?(ct(m.userId===h.userId),Tu(h.R,m)):null})},a.prototype.jt=function(s,l){var h=this;return this.Kt[l]?Te.resolve(this.Kt[l]):this.lookupMutationBatch(s,l).next(function(m){if(m){var y=m.keys();return h.Kt[l]=y,y}return null})},a.prototype.getNextMutationBatchAfterBatchId=function(s,l){var h=this,m=l+1,y=IDBKeyRange.lowerBound([this.userId,m]),b=null;return Pa(s).$t({index:nr.userMutationsIndex,range:y},function(C,T,O){T.userId===h.userId&&(ct(T.batchId>=m),b=Tu(h.R,T)),O.done()}).next(function(){return b})},a.prototype.getHighestUnacknowledgedBatchId=function(s){var l=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),h=-1;return Pa(s).$t({index:nr.userMutationsIndex,range:l,reverse:!0},function(m,y,b){h=y.batchId,b.done()}).next(function(){return h})},a.prototype.getAllMutationBatches=function(s){var l=this,h=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Pa(s).Nt(nr.userMutationsIndex,h).next(function(m){return m.map(function(y){return Tu(l.R,y)})})},a.prototype.getAllMutationBatchesAffectingDocumentKey=function(s,l){var h=this,m=yr.prefixForPath(this.userId,l.path),y=IDBKeyRange.lowerBound(m),b=[];return Mu(s).$t({range:y},function(C,T,O){var P=C[0],z=C[2],re=jr(C[1]);if(P===h.userId&&l.path.isEqual(re))return Pa(s).get(z).next(function(ne){if(!ne)throw tt();ct(ne.userId===h.userId),b.push(Tu(h.R,ne))});O.done()}).next(function(){return b})},a.prototype.getAllMutationBatchesAffectingDocumentKeys=function(s,l){var h=this,m=new Zn(nt),y=[];return l.forEach(function(b){var C=yr.prefixForPath(h.userId,b.path),T=IDBKeyRange.lowerBound(C),O=Mu(s).$t({range:T},function(P,B,z){var re=P[0],he=P[2],Re=jr(P[1]);re===h.userId&&b.path.isEqual(Re)?m=m.add(he):z.done()});y.push(O)}),Te.waitFor(y).next(function(){return h.Wt(s,m)})},a.prototype.getAllMutationBatchesAffectingQuery=function(s,l){var h=this,m=l.path,y=m.length+1,b=yr.prefixForPath(this.userId,m),C=IDBKeyRange.lowerBound(b),T=new Zn(nt);return Mu(s).$t({range:C},function(O,P,B){var z=O[0],ne=O[2],he=jr(O[1]);z===h.userId&&m.isPrefixOf(he)?he.length===y&&(T=T.add(ne)):B.done()}).next(function(){return h.Wt(s,T)})},a.prototype.Wt=function(s,l){var h=this,m=[],y=[];return l.forEach(function(b){y.push(Pa(s).get(b).next(function(C){if(null===C)throw tt();ct(C.userId===h.userId),m.push(Tu(h.R,C))}))}),Te.waitFor(y).next(function(){return m})},a.prototype.removeMutationBatch=function(s,l){var h=this;return Au(s.Mt,this.userId,l).next(function(m){return s.addOnCommittedListener(function(){h.Gt(l.batchId)}),Te.forEach(m,function(y){return h.referenceDelegate.markPotentiallyOrphaned(s,y)})})},a.prototype.Gt=function(s){delete this.Kt[s]},a.prototype.performConsistencyCheck=function(s){var l=this;return this.checkEmpty(s).next(function(h){if(!h)return Te.resolve();var m=IDBKeyRange.lowerBound(yr.prefixForUser(l.userId)),y=[];return Mu(s).$t({range:m},function(b,C,T){if(b[0]===l.userId){var O=jr(b[1]);y.push(O)}else T.done()}).next(function(){ct(0===y.length)})})},a.prototype.containsKey=function(s,l){return Lg(s,this.userId,l)},a.prototype.zt=function(s){var l=this;return ah(s).get(this.userId).next(function(h){return h||new Qo(l.userId,-1,"")})},a}();function Lg(a,s,l){var h=yr.prefixForPath(s,l.path),m=h[1],y=IDBKeyRange.lowerBound(h),b=!1;return Mu(a).$t({range:y,Ft:!0},function(C,T,O){C[0]===s&&C[1]===m&&(b=!0),O.done()}).next(function(){return b})}function Pa(a){return Eo(a,nr.store)}function Mu(a){return Eo(a,yr.store)}function ah(a){return Eo(a,Qo.store)}var uh=function(){function a(s){this.Ht=s}return a.prototype.next=function(){return this.Ht+=2,this.Ht},a.Jt=function(){return new a(0)},a.Yt=function(){return new a(-1)},a}(),oy=function(){function a(s,l){this.referenceDelegate=s,this.R=l}return a.prototype.allocateTargetId=function(s){var l=this;return this.Xt(s).next(function(h){var m=new uh(h.highestTargetId);return h.highestTargetId=m.next(),l.Zt(s,h).next(function(){return h.highestTargetId})})},a.prototype.getLastRemoteSnapshotVersion=function(s){return this.Xt(s).next(function(l){return xt.fromTimestamp(new Oi(l.lastRemoteSnapshotVersion.seconds,l.lastRemoteSnapshotVersion.nanoseconds))})},a.prototype.getHighestSequenceNumber=function(s){return this.Xt(s).next(function(l){return l.highestListenSequenceNumber})},a.prototype.setTargetsMetadata=function(s,l,h){var m=this;return this.Xt(s).next(function(y){return y.highestListenSequenceNumber=l,h&&(y.lastRemoteSnapshotVersion=h.toTimestamp()),l>y.highestListenSequenceNumber&&(y.highestListenSequenceNumber=l),m.Zt(s,y)})},a.prototype.addTargetData=function(s,l){var h=this;return this.te(s,l).next(function(){return h.Xt(s).next(function(m){return m.targetCount+=1,h.ee(l,m),h.Zt(s,m)})})},a.prototype.updateTargetData=function(s,l){return this.te(s,l)},a.prototype.removeTargetData=function(s,l){var h=this;return this.removeMatchingKeysForTargetId(s,l.targetId).next(function(){return Bl(s).delete(l.targetId)}).next(function(){return h.Xt(s)}).next(function(m){return ct(m.targetCount>0),m.targetCount-=1,h.Zt(s,m)})},a.prototype.removeTargets=function(s,l,h){var m=this,y=0,b=[];return Bl(s).$t(function(C,T){var O=sa(T);O.sequenceNumber<=l&&null===h.get(O.targetId)&&(y++,b.push(m.removeTargetData(s,O)))}).next(function(){return Te.waitFor(b)}).next(function(){return y})},a.prototype.forEachTarget=function(s,l){return Bl(s).$t(function(h,m){var y=sa(m);l(y)})},a.prototype.Xt=function(s){return Mc(s).get(Ur.key).next(function(l){return ct(null!==l),l})},a.prototype.Zt=function(s,l){return Mc(s).put(Ur.key,l)},a.prototype.te=function(s,l){return Bl(s).put(ry(this.R,l))},a.prototype.ee=function(s,l){var h=!1;return s.targetId>l.highestTargetId&&(l.highestTargetId=s.targetId,h=!0),s.sequenceNumber>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=s.sequenceNumber,h=!0),h},a.prototype.getTargetCount=function(s){return this.Xt(s).next(function(l){return l.targetCount})},a.prototype.getTargetData=function(s,l){var h=Tl(l),m=IDBKeyRange.bound([h,Number.NEGATIVE_INFINITY],[h,Number.POSITIVE_INFINITY]),y=null;return Bl(s).$t({range:m,index:Ui.queryTargetsIndexName},function(b,C,T){var O=sa(C);Li(l,O.target)&&(y=O,T.done())}).next(function(){return y})},a.prototype.addMatchingKeys=function(s,l,h){var m=this,y=[],b=ts(s);return l.forEach(function(C){var T=ji(C.path);y.push(b.put(new dr(h,T))),y.push(m.referenceDelegate.addReference(s,h,C))}),Te.waitFor(y)},a.prototype.removeMatchingKeys=function(s,l,h){var m=this,y=ts(s);return Te.forEach(l,function(b){var C=ji(b.path);return Te.waitFor([y.delete([h,C]),m.referenceDelegate.removeReference(s,h,b)])})},a.prototype.removeMatchingKeysForTargetId=function(s,l){var h=ts(s),m=IDBKeyRange.bound([l],[l+1],!1,!0);return h.delete(m)},a.prototype.getMatchingKeysForTargetId=function(s,l){var h=IDBKeyRange.bound([l],[l+1],!1,!0),m=ts(s),y=On();return m.$t({range:h,Ft:!0},function(b,C,T){var O=jr(b[1]),P=new Le(O);y=y.add(P)}).next(function(){return y})},a.prototype.containsKey=function(s,l){var h=ji(l.path),m=IDBKeyRange.bound([h],[cc(h)],!1,!0),y=0;return ts(s).$t({index:dr.documentTargetsIndex,Ft:!0,range:m},function(b,C,T){0!==b[0]&&(y++,T.done())}).next(function(){return y>0})},a.prototype.lt=function(s,l){return Bl(s).get(l).next(function(h){return h?sa(h):null})},a}();function Bl(a){return Eo(a,Ui.store)}function Mc(a){return Eo(a,Ur.store)}function ts(a){return Eo(a,dr.store)}function xc(a){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(s){if(a.code!==oe.FAILED_PRECONDITION||a.message!==sm)throw a;return Ce("LocalStore","Unexpectedly lost primary lease"),[2]})})}function sy(a,s){var h=a[1],y=s[1],b=nt(a[0],s[0]);return 0===b?nt(h,y):b}var Vg=function(){function a(s){this.ne=s,this.buffer=new Zn(sy),this.se=0}return a.prototype.ie=function(){return++this.se},a.prototype.re=function(s){var l=[s,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(l);else{var h=this.buffer.last();sy(l,h)<0&&(this.buffer=this.buffer.delete(h).add(l))}},Object.defineProperty(a.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),a}(),ay=function(){function a(s,l){this.garbageCollector=s,this.asyncQueue=l,this.oe=!1,this.ce=null}return a.prototype.start=function(s){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(s)},a.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(a.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),a.prototype.ue=function(s){var l=this,h=this.oe?3e5:6e4;Ce("LruGarbageCollector","Garbage collection scheduled in "+h+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",h,function(){return(0,I.mG)(l,void 0,void 0,function(){var m;return(0,I.Jh)(this,function(y){switch(y.label){case 0:this.ce=null,this.oe=!0,y.label=1;case 1:return y.trys.push([1,3,,7]),[4,s.collectGarbage(this.garbageCollector)];case 2:return y.sent(),[3,7];case 3:return Ps(m=y.sent())?(Ce("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",m),[3,6]):[3,4];case 4:return[4,xc(m)];case 5:y.sent(),y.label=6;case 6:return[3,7];case 7:return[4,this.ue(s)];case 8:return y.sent(),[2]}})})})},a}(),G_=function(){function a(s,l){this.ae=s,this.params=l}return a.prototype.calculateTargetCount=function(s,l){return this.ae.he(s).next(function(h){return Math.floor(l/100*h)})},a.prototype.nthSequenceNumber=function(s,l){var h=this;if(0===l)return Te.resolve(jn.o);var m=new Vg(l);return this.ae.forEachTarget(s,function(y){return m.re(y.sequenceNumber)}).next(function(){return h.ae.le(s,function(y){return m.re(y)})}).next(function(){return m.maxValue})},a.prototype.removeTargets=function(s,l,h){return this.ae.removeTargets(s,l,h)},a.prototype.removeOrphanedDocuments=function(s,l){return this.ae.removeOrphanedDocuments(s,l)},a.prototype.collect=function(s,l){var h=this;return-1===this.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector","Garbage collection skipped; disabled"),Te.resolve(Ac)):this.getCacheSize(s).next(function(m){return m<h.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector","Garbage collection skipped; Cache size "+m+" is lower than threshold "+h.params.cacheSizeCollectionThreshold),Ac):h.fe(s,l)})},a.prototype.getCacheSize=function(s){return this.ae.getCacheSize(s)},a.prototype.fe=function(s,l){var h,m,y,b,C,T,O,P=this,B=Date.now();return this.calculateTargetCount(s,this.params.percentileToCollect).next(function(z){return z>P.params.maximumSequenceNumbersToCollect?(Ce("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+P.params.maximumSequenceNumbersToCollect+" from "+z),m=P.params.maximumSequenceNumbersToCollect):m=z,b=Date.now(),P.nthSequenceNumber(s,m)}).next(function(z){return h=z,C=Date.now(),P.removeTargets(s,h,l)}).next(function(z){return y=z,T=Date.now(),P.removeOrphanedDocuments(s,h)}).next(function(z){return O=Date.now(),ki()<=qe.in.DEBUG&&Ce("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(b-B)+"ms\n\tDetermined least recently used "+m+" in "+(C-b)+"ms\n\tRemoved "+y+" targets in "+(T-C)+"ms\n\tRemoved "+z+" documents in "+(O-T)+"ms\nTotal Duration: "+(O-B)+"ms"),Te.resolve({didRun:!0,sequenceNumbersCollected:m,targetsRemoved:y,documentsRemoved:z})})},a}(),uy=function(){function a(s,l){this.db=s,this.garbageCollector=new G_(this,l)}return a.prototype.he=function(s){var l=this.de(s);return this.db.getTargetCache().getTargetCount(s).next(function(h){return l.next(function(m){return h+m})})},a.prototype.de=function(s){var l=0;return this.le(s,function(h){l++}).next(function(){return l})},a.prototype.forEachTarget=function(s,l){return this.db.getTargetCache().forEachTarget(s,l)},a.prototype.le=function(s,l){return this.we(s,function(h,m){return l(m)})},a.prototype.addReference=function(s,l,h){return jf(s,h)},a.prototype.removeReference=function(s,l,h){return jf(s,h)},a.prototype.removeTargets=function(s,l,h){return this.db.getTargetCache().removeTargets(s,l,h)},a.prototype.markPotentiallyOrphaned=function(s,l){return jf(s,l)},a.prototype._e=function(s,l){return m=l,y=!1,ah(h=s).Ot(function(b){return Lg(h,b,m).next(function(C){return C&&(y=!0),Te.resolve(!C)})}).next(function(){return y});var h,m,y},a.prototype.removeOrphanedDocuments=function(s,l){var h=this,m=this.db.getRemoteDocumentCache().newChangeBuffer(),y=[],b=0;return this.we(s,function(C,T){if(T<=l){var O=h._e(s,C).next(function(P){if(!P)return b++,m.getEntry(s,C).next(function(){return m.removeEntry(C),ts(s).delete([0,ji(C.path)])})});y.push(O)}}).next(function(){return Te.waitFor(y)}).next(function(){return m.apply(s)}).next(function(){return b})},a.prototype.removeTarget=function(s,l){var h=l.withSequenceNumber(s.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(s,h)},a.prototype.updateLimboDocument=function(s,l){return jf(s,l)},a.prototype.we=function(s,l){var h,m=ts(s),y=jn.o;return m.$t({index:dr.documentTargetsIndex},function(b,C){var O=C.path,P=C.sequenceNumber;0===b[0]?(y!==jn.o&&l(new Le(jr(h)),y),y=P,h=O):y=jn.o}).next(function(){y!==jn.o&&l(new Le(jr(h)),y)})},a.prototype.getCacheSize=function(s){return this.db.getRemoteDocumentCache().getSize(s)},a}();function jf(a,s){return ts(a).put((h=a.currentSequenceNumber,new dr(0,ji(s.path),h)));var h}var Rc=function(){function a(s,l){this.mapKeyFn=s,this.equalsFn=l,this.inner={}}return a.prototype.get=function(s){var l=this.mapKeyFn(s),h=this.inner[l];if(void 0!==h)for(var m=0,y=h;m<y.length;m++){var b=y[m],T=b[1];if(this.equalsFn(b[0],s))return T}},a.prototype.has=function(s){return void 0!==this.get(s)},a.prototype.set=function(s,l){var h=this.mapKeyFn(s),m=this.inner[h];if(void 0!==m){for(var y=0;y<m.length;y++)if(this.equalsFn(m[y][0],s))return void(m[y]=[s,l]);m.push([s,l])}else this.inner[h]=[[s,l]]},a.prototype.delete=function(s){var l=this.mapKeyFn(s),h=this.inner[l];if(void 0===h)return!1;for(var m=0;m<h.length;m++)if(this.equalsFn(h[m][0],s))return 1===h.length?delete this.inner[l]:h.splice(m,1),!0;return!1},a.prototype.forEach=function(s){ea(this.inner,function(l,h){for(var m=0,y=h;m<y.length;m++){var b=y[m];s(b[0],b[1])}})},a.prototype.isEmpty=function(){return _g(this.inner)},a}(),jl=function(){function a(){this.changes=new Rc(function(s){return s.toString()},function(s,l){return s.isEqual(l)}),this.changesApplied=!1}return a.prototype.getReadTime=function(s){var l=this.changes.get(s);return l?l.readTime:xt.min()},a.prototype.addEntry=function(s,l){this.assertNotApplied(),this.changes.set(s.key,{document:s,readTime:l})},a.prototype.removeEntry=function(s,l){void 0===l&&(l=null),this.assertNotApplied(),this.changes.set(s,{document:Fi.newInvalidDocument(s),readTime:l})},a.prototype.getEntry=function(s,l){this.assertNotApplied();var h=this.changes.get(l);return void 0!==h?Te.resolve(h.document):this.getFromCache(s,l)},a.prototype.getEntries=function(s,l){return this.getAllFromCache(s,l)},a.prototype.apply=function(s){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(s)},a.prototype.assertNotApplied=function(){},a}(),Bg=function(){function a(s,l){this.R=s,this.Ut=l}return a.prototype.addEntry=function(s,l,h){return kc(s).put(ch(l),h)},a.prototype.removeEntry=function(s,l){var h=kc(s),m=ch(l);return h.delete(m)},a.prototype.updateMetadata=function(s,l){var h=this;return this.getMetadata(s).next(function(m){return m.byteSize+=l,h.me(s,m)})},a.prototype.getEntry=function(s,l){var h=this;return kc(s).get(ch(l)).next(function(m){return h.ye(l,m)})},a.prototype.ge=function(s,l){var h=this;return kc(s).get(ch(l)).next(function(m){return{document:h.ye(l,m),size:Bf(m)}})},a.prototype.getEntries=function(s,l){var h=this,m=Br();return this.pe(s,l,function(y,b){var C=h.ye(y,b);m=m.insert(y,C)}).next(function(){return m})},a.prototype.Ee=function(s,l){var h=this,m=Br(),y=new kn(Le.comparator);return this.pe(s,l,function(b,C){var T=h.ye(b,C);m=m.insert(b,T),y=y.insert(b,Bf(C))}).next(function(){return{documents:m,Te:y}})},a.prototype.pe=function(s,l,h){if(l.isEmpty())return Te.resolve();var m=IDBKeyRange.bound(l.first().path.toArray(),l.last().path.toArray()),y=l.getIterator(),b=y.getNext();return kc(s).$t({range:m},function(C,T,O){for(var P=Le.fromSegments(C);b&&Le.comparator(b,P)<0;)h(b,null),b=y.getNext();b&&b.isEqual(P)&&(h(b,T),b=y.hasNext()?y.getNext():null),b?O.Ct(b.path.toArray()):O.done()}).next(function(){for(;b;)h(b,null),b=y.hasNext()?y.getNext():null})},a.prototype.getDocumentsMatchingQuery=function(s,l,h){var m=this,y=Br(),b=l.path.length+1,C={};if(h.isEqual(xt.min())){var T=l.path.toArray();C.range=IDBKeyRange.lowerBound(T)}else{var O=l.path.toArray(),P=Ng(h);C.range=IDBKeyRange.lowerBound([O,P],!0),C.index=Xn.collectionReadTimeIndex}return kc(s).$t(C,function(B,z,re){if(B.length===b){var ne=Bo(m.R,z);l.path.isPrefixOf(ne.key.path)?Ta(l,ne)&&(y=y.insert(ne.key,ne)):re.done()}}).next(function(){return y})},a.prototype.newChangeBuffer=function(s){return new cy(this,!!s&&s.trackRemovals)},a.prototype.getSize=function(s){return this.getMetadata(s).next(function(l){return l.byteSize})},a.prototype.getMetadata=function(s){return lm(s).get(bo.key).next(function(l){return ct(!!l),l})},a.prototype.me=function(s,l){return lm(s).put(bo.key,l)},a.prototype.ye=function(s,l){if(l){var h=Bo(this.R,l);if(!h.isNoDocument()||!h.version.isEqual(xt.min()))return h}return Fi.newInvalidDocument(s)},a}(),cy=function(a){function s(l,h){var m=this;return(m=a.call(this)||this).Ie=l,m.trackRemovals=h,m.Ae=new Rc(function(y){return y.toString()},function(y,b){return y.isEqual(b)}),m}return(0,I.ZT)(s,a),s.prototype.applyChanges=function(l){var h=this,m=[],y=0,b=new Zn(function(C,T){return nt(C.canonicalString(),T.canonicalString())});return this.changes.forEach(function(C,T){var O=h.Ae.get(C);if(T.document.isValidDocument()){var P=am(h.Ie.R,T.document,h.getReadTime(C));b=b.add(C.path.popLast());var B=Bf(P);y+=B-O,m.push(h.Ie.addEntry(l,C,P))}else if(y-=O,h.trackRemovals){var z=am(h.Ie.R,Fi.newNoDocument(C,xt.min()),h.getReadTime(C));m.push(h.Ie.addEntry(l,C,z))}else m.push(h.Ie.removeEntry(l,C))}),b.forEach(function(C){m.push(h.Ie.Ut.addToCollectionParentIndex(l,C))}),m.push(this.Ie.updateMetadata(l,y)),Te.waitFor(m)},s.prototype.getFromCache=function(l,h){var m=this;return this.Ie.ge(l,h).next(function(y){return m.Ae.set(h,y.size),y.document})},s.prototype.getAllFromCache=function(l,h){var m=this;return this.Ie.Ee(l,h).next(function(y){var b=y.documents;return y.Te.forEach(function(C,T){m.Ae.set(C,T)}),b})},s}(jl);function lm(a){return Eo(a,bo.store)}function kc(a){return Eo(a,Xn.store)}function ch(a){return a.path.toArray()}var W_=function(){function a(s){this.R=s}return a.prototype.Rt=function(s,l,h,m){var y=this;ct(h<m&&h>=0&&m<=11);var T,b=new Ns("createOrUpgrade",l);h<1&&m>=1&&(s.createObjectStore(Ei.store),(T=s).createObjectStore(Qo.store,{keyPath:Qo.keyPath}),T.createObjectStore(nr.store,{keyPath:nr.keyPath,autoIncrement:!0}).createIndex(nr.userMutationsIndex,nr.userMutationsKeyPath,{unique:!0}),T.createObjectStore(yr.store),jg(s),function(T){T.createObjectStore(Xn.store)}(s));var C=Te.resolve();return h<3&&m>=3&&(0!==h&&(function(T){T.deleteObjectStore(dr.store),T.deleteObjectStore(Ui.store),T.deleteObjectStore(Ur.store)}(s),jg(s)),C=C.next(function(){return function(T){var O=T.store(Ur.store),P=new Ur(0,0,xt.min().toTimestamp(),0);return O.put(Ur.key,P)}(b)})),h<4&&m>=4&&(0!==h&&(C=C.next(function(){return function(T,O){return O.store(nr.store).Nt().next(function(P){T.deleteObjectStore(nr.store),T.createObjectStore(nr.store,{keyPath:nr.keyPath,autoIncrement:!0}).createIndex(nr.userMutationsIndex,nr.userMutationsKeyPath,{unique:!0});var B=O.store(nr.store),z=P.map(function(re){return B.put(re)});return Te.waitFor(z)})}(s,b)})),C=C.next(function(){!function(T){T.createObjectStore(wo.store,{keyPath:wo.keyPath})}(s)})),h<5&&m>=5&&(C=C.next(function(){return y.Re(b)})),h<6&&m>=6&&(C=C.next(function(){return function(T){T.createObjectStore(bo.store)}(s),y.be(b)})),h<7&&m>=7&&(C=C.next(function(){return y.ve(b)})),h<8&&m>=8&&(C=C.next(function(){return y.Pe(s,b)})),h<9&&m>=9&&(C=C.next(function(){(function(T){T.objectStoreNames.contains("remoteDocumentChanges")&&T.deleteObjectStore("remoteDocumentChanges")})(s),function(T){var O=T.objectStore(Xn.store);O.createIndex(Xn.readTimeIndex,Xn.readTimeIndexPath,{unique:!1}),O.createIndex(Xn.collectionReadTimeIndex,Xn.collectionReadTimeIndexPath,{unique:!1})}(l)})),h<10&&m>=10&&(C=C.next(function(){return y.Ve(b)})),h<11&&m>=11&&(C=C.next(function(){(function(T){T.createObjectStore(oa.store,{keyPath:oa.keyPath})})(s),function(T){T.createObjectStore(Iu.store,{keyPath:Iu.keyPath})}(s)})),C},a.prototype.be=function(s){var l=0;return s.store(Xn.store).$t(function(h,m){l+=Bf(m)}).next(function(){var h=new bo(l);return s.store(bo.store).put(bo.key,h)})},a.prototype.Re=function(s){var l=this,h=s.store(Qo.store),m=s.store(nr.store);return h.Nt().next(function(y){return Te.forEach(y,function(b){var C=IDBKeyRange.bound([b.userId,-1],[b.userId,b.lastAcknowledgedBatchId]);return m.Nt(nr.userMutationsIndex,C).next(function(T){return Te.forEach(T,function(O){ct(O.userId===b.userId);var P=Tu(l.R,O);return Au(s,b.userId,P).next(function(){})})})})})},a.prototype.ve=function(s){var l=s.store(dr.store),h=s.store(Xn.store);return s.store(Ur.store).get(Ur.key).next(function(m){var y=[];return h.$t(function(b,C){var T=new Kt(b),O=[0,ji(T)];y.push(l.get(O).next(function(P){return P?Te.resolve():l.put(new dr(0,ji(T),m.highestListenSequenceNumber))}))}).next(function(){return Te.waitFor(y)})})},a.prototype.Pe=function(s,l){s.createObjectStore(Jo.store,{keyPath:Jo.keyPath});var h=l.store(Jo.store),m=new Vf,y=function(b){if(m.add(b)){var C=b.lastSegment(),T=b.popLast();return h.put({collectionId:C,parent:ji(T)})}};return l.store(Xn.store).$t({Ft:!0},function(b,C){var T=new Kt(b);return y(T.popLast())}).next(function(){return l.store(yr.store).$t({Ft:!0},function(b,C){var O=jr(b[1]);return y(O.popLast())})})},a.prototype.Ve=function(s){var l=this,h=s.store(Ui.store);return h.$t(function(m,y){var b=sa(y),C=ry(l.R,b);return h.put(C)})},a}();function jg(a){a.createObjectStore(dr.store,{keyPath:dr.keyPath}).createIndex(dr.documentTargetsIndex,dr.documentTargetsKeyPath,{unique:!0}),a.createObjectStore(Ui.store,{keyPath:Ui.keyPath}).createIndex(Ui.queryTargetsIndexName,Ui.queryTargetsKeyPath,{unique:!0}),a.createObjectStore(Ur.store)}var Uf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",dm=function(){function a(s,l,h,m,y,b,C,T,O,P){if(this.allowTabSynchronization=s,this.persistenceKey=l,this.clientId=h,this.Se=y,this.window=b,this.document=C,this.De=O,this.Ce=P,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(B){return Promise.resolve()},!a.yt())throw new Ee(oe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new uy(this,m),this.Le=l+"main",this.R=new Ll(T),this.Be=new nh(this.Le,11,new W_(this.R)),this.qe=new oy(this.referenceDelegate,this.R),this.Ut=new cm,this.Ue=new Bg(this.R,this.Ut),this.Ke=new iy,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===P&&mr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return a.prototype.start=function(){var s=this;return this.je().then(function(){if(!s.isPrimary&&!s.allowTabSynchronization)throw new Ee(oe.FAILED_PRECONDITION,Uf);return s.We(),s.Ge(),s.ze(),s.runTransaction("getHighestListenSequenceNumber","readonly",function(l){return s.qe.getHighestSequenceNumber(l)})}).then(function(l){s.Ne=new jn(l,s.De)}).then(function(){s.xe=!0}).catch(function(l){return s.Be&&s.Be.close(),Promise.reject(l)})},a.prototype.He=function(s){var l=this;return this.Me=function(h){return(0,I.mG)(l,void 0,void 0,function(){return(0,I.Jh)(this,function(m){return this.started?[2,s(h)]:[2]})})},s(this.isPrimary)},a.prototype.setDatabaseDeletedListener=function(s){var l=this;this.Be.vt(function(h){return(0,I.mG)(l,void 0,void 0,function(){return(0,I.Jh)(this,function(m){switch(m.label){case 0:return null===h.newVersion?[4,s()]:[3,2];case 1:m.sent(),m.label=2;case 2:return[2]}})})})},a.prototype.setNetworkEnabled=function(s){var l=this;this.networkEnabled!==s&&(this.networkEnabled=s,this.Se.enqueueAndForget(function(){return(0,I.mG)(l,void 0,void 0,function(){return(0,I.Jh)(this,function(h){switch(h.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:h.sent(),h.label=2;case 2:return[2]}})})}))},a.prototype.je=function(){var s=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(l){return hm(l).put(new wo(s.clientId,Date.now(),s.networkEnabled,s.inForeground)).next(function(){if(s.isPrimary)return s.Je(l).next(function(h){h||(s.isPrimary=!1,s.Se.enqueueRetryable(function(){return s.Me(!1)}))})}).next(function(){return s.Ye(l)}).next(function(h){return s.isPrimary&&!h?s.Xe(l).next(function(){return!1}):!!h&&s.Ze(l).next(function(){return!0})})}).catch(function(l){if(Ps(l))return Ce("IndexedDbPersistence","Failed to extend owner lease: ",l),s.isPrimary;if(!s.allowTabSynchronization)throw l;return Ce("IndexedDbPersistence","Releasing owner lease after error during lease refresh",l),!1}).then(function(l){s.isPrimary!==l&&s.Se.enqueueRetryable(function(){return s.Me(l)}),s.isPrimary=l})},a.prototype.Je=function(s){var l=this;return Hf(s).get(Ei.key).next(function(h){return Te.resolve(l.tn(h))})},a.prototype.en=function(s){return hm(s).delete(this.clientId)},a.prototype.nn=function(){return(0,I.mG)(this,void 0,void 0,function(){var s,l,h,y=this;return(0,I.Jh)(this,function(b){switch(b.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(C){var T=Eo(C,wo.store);return T.Nt().next(function(O){var P=y.rn(O,18e5),B=O.filter(function(z){return-1===P.indexOf(z)});return Te.forEach(B,function(z){return T.delete(z.clientId)}).next(function(){return B})})}).catch(function(){return[]})]);case 1:if(s=b.sent(),this.Qe)for(l=0,h=s;l<h.length;l++)this.Qe.removeItem(this.on(h[l].clientId));b.label=2;case 2:return[2]}})})},a.prototype.ze=function(){var s=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return s.je().then(function(){return s.nn()}).then(function(){return s.ze()})})},a.prototype.tn=function(s){return!!s&&s.ownerId===this.clientId},a.prototype.Ye=function(s){var l=this;return this.Ce?Te.resolve(!0):Hf(s).get(Ei.key).next(function(h){if(null!==h&&l.sn(h.leaseTimestampMs,5e3)&&!l.cn(h.ownerId)){if(l.tn(h)&&l.networkEnabled)return!0;if(!l.tn(h)){if(!h.allowTabSynchronization)throw new Ee(oe.FAILED_PRECONDITION,Uf);return!1}}return!(!l.networkEnabled||!l.inForeground)||hm(s).Nt().next(function(m){return void 0===l.rn(m,5e3).find(function(y){return!(l.clientId===y.clientId||!(!l.networkEnabled&&y.networkEnabled||!l.inForeground&&y.inForeground&&l.networkEnabled===y.networkEnabled))})})}).next(function(h){return l.isPrimary!==h&&Ce("IndexedDbPersistence","Client "+(h?"is":"is not")+" eligible for a primary lease."),h})},a.prototype.shutdown=function(){return(0,I.mG)(this,void 0,void 0,function(){var s=this;return(0,I.Jh)(this,function(l){switch(l.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Ei.store,wo.store],function(h){var m=new Tc(h,jn.o);return s.Xe(m).next(function(){return s.en(m)})})];case 1:return l.sent(),this.Be.close(),this.ln(),[2]}})})},a.prototype.rn=function(s,l){var h=this;return s.filter(function(m){return h.sn(m.updateTimeMs,l)&&!h.cn(m.clientId)})},a.prototype.fn=function(){var s=this;return this.runTransaction("getActiveClients","readonly",function(l){return hm(l).Nt().next(function(h){return s.rn(h,18e5).map(function(m){return m.clientId})})})},Object.defineProperty(a.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),a.prototype.getMutationQueue=function(s){return sh.Qt(s,this.R,this.Ut,this.referenceDelegate)},a.prototype.getTargetCache=function(){return this.qe},a.prototype.getRemoteDocumentCache=function(){return this.Ue},a.prototype.getIndexManager=function(){return this.Ut},a.prototype.getBundleCache=function(){return this.Ke},a.prototype.runTransaction=function(s,l,h){var y,m=this;return Ce("IndexedDbPersistence","Starting transaction:",s),this.Be.runTransaction(s,"readonly"===l?"readonly":"readwrite",Fl,function(C){return y=new Tc(C,m.Ne?m.Ne.next():jn.o),"readwrite-primary"===l?m.Je(y).next(function(T){return!!T||m.Ye(y)}).next(function(T){if(!T)throw mr("Failed to obtain primary lease for action '"+s+"'."),m.isPrimary=!1,m.Se.enqueueRetryable(function(){return m.Me(!1)}),new Ee(oe.FAILED_PRECONDITION,sm);return h(y)}).next(function(T){return m.Ze(y).next(function(){return T})}):m.dn(y).next(function(){return h(y)})}).then(function(C){return y.raiseOnCommittedEvent(),C})},a.prototype.dn=function(s){var l=this;return Hf(s).get(Ei.key).next(function(h){if(null!==h&&l.sn(h.leaseTimestampMs,5e3)&&!l.cn(h.ownerId)&&!l.tn(h)&&!(l.Ce||l.allowTabSynchronization&&h.allowTabSynchronization))throw new Ee(oe.FAILED_PRECONDITION,Uf)})},a.prototype.Ze=function(s){var l=new Ei(this.clientId,this.allowTabSynchronization,Date.now());return Hf(s).put(Ei.key,l)},a.yt=function(){return nh.yt()},a.prototype.Xe=function(s){var l=this,h=Hf(s);return h.get(Ei.key).next(function(m){return l.tn(m)?(Ce("IndexedDbPersistence","Releasing primary lease."),h.delete(Ei.key)):Te.resolve()})},a.prototype.sn=function(s,l){var h=Date.now();return!(s<h-l||s>h&&(mr("Detected an update time that is in the future: "+s+" > "+h),1))},a.prototype.We=function(){var s=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){s.Se.enqueueAndForget(function(){return s.inForeground="visible"===s.document.visibilityState,s.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},a.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},a.prototype.Ge=function(){var s,l=this;"function"==typeof(null===(s=this.window)||void 0===s?void 0:s.addEventListener)&&(this.ke=function(){l.un(),(0,Ke.G6)()&&navigator.appVersion.match("Version/14")&&l.Se.enterRestrictedMode(!0),l.Se.enqueueAndForget(function(){return l.shutdown()})},this.window.addEventListener("pagehide",this.ke))},a.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},a.prototype.cn=function(s){var l;try{var h=null!==(null===(l=this.Qe)||void 0===l?void 0:l.getItem(this.on(s)));return Ce("IndexedDbPersistence","Client '"+s+"' "+(h?"is":"is not")+" zombied in LocalStorage"),h}catch(m){return mr("IndexedDbPersistence","Failed to get zombied client id.",m),!1}},a.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(s){mr("Failed to set zombie client id.",s)}},a.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},a.prototype.on=function(s){return"firestore_zombie_"+this.persistenceKey+"_"+s},a}();function Hf(a){return Eo(a,Ei.store)}function hm(a){return Eo(a,wo.store)}function lh(a,s){var l=a.projectId;return a.isDefaultDatabase||(l+="."+a.database),"firestore/"+s+"/"+l+"/"}var un=function(a,s){this.progress=a,this.wn=s},Ug=function(){function a(s,l,h){this.Ue=s,this._n=l,this.Ut=h}return a.prototype.mn=function(s,l){var h=this;return this._n.getAllMutationBatchesAffectingDocumentKey(s,l).next(function(m){return h.yn(s,l,m)})},a.prototype.yn=function(s,l,h){return this.Ue.getEntry(s,l).next(function(m){for(var y=0,b=h;y<b.length;y++)b[y].applyToLocalView(m);return m})},a.prototype.gn=function(s,l){s.forEach(function(h,m){for(var y=0,b=l;y<b.length;y++)b[y].applyToLocalView(m)})},a.prototype.pn=function(s,l){var h=this;return this.Ue.getEntries(s,l).next(function(m){return h.En(s,m).next(function(){return m})})},a.prototype.En=function(s,l){var h=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(s,l).next(function(m){return h.gn(l,m)})},a.prototype.getDocumentsMatchingQuery=function(s,l,h){return Le.isDocumentKey((m=l).path)&&null===m.collectionGroup&&0===m.filters.length?this.Tn(s,l.path):vc(l)?this.In(s,l,h):this.An(s,l,h);var m},a.prototype.Tn=function(s,l){return this.mn(s,new Le(l)).next(function(h){var m=Qr();return h.isFoundDocument()&&(m=m.insert(h.key,h)),m})},a.prototype.In=function(s,l,h){var m=this,y=l.collectionGroup,b=Qr();return this.Ut.getCollectionParents(s,y).next(function(C){return Te.forEach(C,function(T){var P,B,O=(P=l,B=T.child(y),new Ko(B,null,P.explicitOrderBy.slice(),P.filters.slice(),P.limit,P.limitType,P.startAt,P.endAt));return m.An(s,O,h).next(function(P){P.forEach(function(B,z){b=b.insert(B,z)})})}).next(function(){return b})})},a.prototype.An=function(s,l,h){var m,y,b=this;return this.Ue.getDocumentsMatchingQuery(s,l,h).next(function(C){return m=C,b._n.getAllMutationBatchesAffectingQuery(s,l)}).next(function(C){return b.Rn(s,y=C,m).next(function(T){m=T;for(var O=0,P=y;O<P.length;O++)for(var B=P[O],z=0,re=B.mutations;z<re.length;z++){var ne=re[z],he=ne.key,Re=m.get(he);null==Re&&(Re=Fi.newInvalidDocument(he),m=m.insert(he,Re)),Xo(ne,Re,B.localWriteTime),Re.isFoundDocument()||(m=m.remove(he))}})}).next(function(){return m.forEach(function(C,T){Ta(l,T)||(m=m.remove(C))}),m})},a.prototype.Rn=function(s,l,h){for(var m=On(),y=0,b=l;y<b.length;y++)for(var C=0,T=b[y].mutations;C<T.length;C++){var O=T[C];O instanceof Hn&&null===h.get(O.key)&&(m=m.add(O.key))}var P=h;return this.Ue.getEntries(s,m).next(function(B){return B.forEach(function(z,re){re.isFoundDocument()&&(P=P.insert(z,re))}),P})},a}(),Hg=function(){function a(s,l,h,m){this.targetId=s,this.fromCache=l,this.bn=h,this.vn=m}return a.Pn=function(s,l){for(var h=On(),m=On(),y=0,b=l.docChanges;y<b.length;y++){var C=b[y];switch(C.type){case 0:h=h.add(C.doc.key);break;case 1:m=m.add(C.doc.key)}}return new a(s,l.fromCache,h,m)},a}(),ly=function(){function a(){}return a.prototype.Vn=function(s){this.Sn=s},a.prototype.getDocumentsMatchingQuery=function(s,l,h,m){var b,y=this;return 0===(b=l).filters.length&&null===b.limit&&null==b.startAt&&null==b.endAt&&(0===b.explicitOrderBy.length||1===b.explicitOrderBy.length&&b.explicitOrderBy[0].field.isKeyField())||h.isEqual(xt.min())?this.Dn(s,l):this.Sn.pn(s,m).next(function(b){var C=y.Cn(l,b);return(Gd(l)||gu(l))&&y.Nn(l.limitType,C,m,h)?y.Dn(s,l):(ki()<=qe.in.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),lt(l)),y.Sn.getDocumentsMatchingQuery(s,l,h).next(function(T){return C.forEach(function(O){T=T.insert(O.key,O)}),T}))})},a.prototype.Cn=function(s,l){var h=new Zn(Sg(s));return l.forEach(function(m,y){Ta(s,y)&&(h=h.add(y))}),h},a.prototype.Nn=function(s,l,h,m){if(h.size!==l.size)return!0;var y="F"===s?l.last():l.first();return!!y&&(y.hasPendingWrites||y.version.compareTo(m)>0)},a.prototype.Dn=function(s,l){return ki()<=qe.in.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",lt(l)),this.Sn.getDocumentsMatchingQuery(s,l,xt.min())},a}(),K_=function(){function a(s,l,h,m){this.persistence=s,this.xn=l,this.R=m,this.kn=new kn(nt),this.Fn=new Rc(function(y){return Tl(y)},Li),this.$n=xt.min(),this._n=s.getMutationQueue(h),this.On=s.getRemoteDocumentCache(),this.qe=s.getTargetCache(),this.Mn=new Ug(this.On,this._n,this.persistence.getIndexManager()),this.Ke=s.getBundleCache(),this.xn.Vn(this.Mn)}return a.prototype.collectGarbage=function(s){var l=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(h){return s.collect(h,l.kn)})},a}();function zg(a,s,l,h){return new K_(a,s,l,h)}function zf(a,s){return(0,I.mG)(this,void 0,void 0,function(){var l,h,m,y;return(0,I.Jh)(this,function(b){switch(b.label){case 0:return l=Be(a),h=l._n,m=l.Mn,[4,l.persistence.runTransaction("Handle user change","readonly",function(C){var T;return l._n.getAllMutationBatches(C).next(function(O){return T=O,h=l.persistence.getMutationQueue(s),m=new Ug(l.On,h,l.persistence.getIndexManager()),h.getAllMutationBatches(C)}).next(function(O){for(var P=[],B=[],z=On(),re=0,ne=T;re<ne.length;re++){var he=ne[re];P.push(he.batchId);for(var Re=0,Fe=he.mutations;Re<Fe.length;Re++)z=z.add(Fe[Re].key)}for(var mt=0,dn=O;mt<dn.length;mt++){var bn=dn[mt];B.push(bn.batchId);for(var $n=0,Dn=bn.mutations;$n<Dn.length;$n++)z=z.add(Dn[$n].key)}return m.pn(C,z).next(function(gd){return{Ln:gd,removedBatchIds:P,addedBatchIds:B}})})})];case 1:return y=b.sent(),[2,(l._n=h,l.Mn=m,l.xn.Vn(l.Mn),y)]}})})}function fm(a,s){var l=Be(a);return l.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(h){var b,C,T,O,P,B,z,m=s.batch.keys(),y=l.On.newChangeBuffer({trackRemovals:!0});return(b=l,C=h,T=s,O=y,P=T.batch,B=P.keys(),z=Te.resolve(),B.forEach(function(re){z=z.next(function(){return O.getEntry(C,re)}).next(function(ne){var he=T.docVersions.get(re);ct(null!==he),ne.version.compareTo(he)<0&&(P.applyToRemoteDocument(ne,T),ne.isValidDocument()&&O.addEntry(ne,T.commitVersion))})}),z.next(function(){return b._n.removeMutationBatch(C,P)})).next(function(){return y.apply(h)}).next(function(){return l._n.performConsistencyCheck(h)}).next(function(){return l.Mn.pn(h,m)})})}function pm(a){var s=Be(a);return s.persistence.runTransaction("Get last remote snapshot version","readonly",function(l){return s.qe.getLastRemoteSnapshotVersion(l)})}function $g(a,s){var l=Be(a),h=s.snapshotVersion,m=l.kn;return l.persistence.runTransaction("Apply remote event","readwrite-primary",function(y){var b=l.On.newChangeBuffer({trackRemovals:!0});m=l.kn;var C=[];s.targetChanges.forEach(function(P,B){var he,Re,Fe,z=m.get(B);if(z){C.push(l.qe.removeMatchingKeys(y,P.removedDocuments,B).next(function(){return l.qe.addMatchingKeys(y,P.addedDocuments,B)}));var re=P.resumeToken;if(re.approximateByteSize()>0){var ne=z.withResumeToken(re,h).withSequenceNumber(y.currentSequenceNumber);m=m.insert(B,ne),he=z,Fe=P,ct((Re=ne).resumeToken.approximateByteSize()>0),(0===he.resumeToken.approximateByteSize()||Re.snapshotVersion.toMicroseconds()-he.snapshotVersion.toMicroseconds()>=3e8||Fe.addedDocuments.size+Fe.modifiedDocuments.size+Fe.removedDocuments.size>0)&&C.push(l.qe.updateTargetData(y,ne))}}});var T=Br();if(s.documentUpdates.forEach(function(P,B){s.resolvedLimboDocuments.has(P)&&C.push(l.persistence.referenceDelegate.updateLimboDocument(y,P))}),C.push(Ul(y,b,s.documentUpdates,h,void 0).next(function(P){T=P})),!h.isEqual(xt.min())){var O=l.qe.getLastRemoteSnapshotVersion(y).next(function(P){return l.qe.setTargetsMetadata(y,y.currentSequenceNumber,h)});C.push(O)}return Te.waitFor(C).next(function(){return b.apply(y)}).next(function(){return l.Mn.En(y,T)}).next(function(){return T})}).then(function(y){return l.kn=m,y})}function Ul(a,s,l,h,m){var y=On();return l.forEach(function(b){return y=y.add(b)}),s.getEntries(a,y).next(function(b){var C=Br();return l.forEach(function(T,O){var P=b.get(T),B=m?.get(T)||h;O.isNoDocument()&&O.version.isEqual(xt.min())?(s.removeEntry(T,B),C=C.insert(T,O)):!P.isValidDocument()||O.version.compareTo(P.version)>0||0===O.version.compareTo(P.version)&&P.hasPendingWrites?(s.addEntry(O,B),C=C.insert(T,O)):Ce("LocalStore","Ignoring outdated watch update for ",T,". Current version:",P.version," Watch version:",O.version)}),C})}function Co(a,s){var l=Be(a);return l.persistence.runTransaction("Get next mutation batch","readonly",function(h){return void 0===s&&(s=-1),l._n.getNextMutationBatchAfterBatchId(h,s)})}function Oc(a,s){var l=Be(a);return l.persistence.runTransaction("Allocate target","readwrite",function(h){var m;return l.qe.getTargetData(h,s).next(function(y){return y?Te.resolve(m=y):l.qe.allocateTargetId(h).next(function(b){return m=new ih(s,b,0,h.currentSequenceNumber),l.qe.addTargetData(h,m).next(function(){return m})})})}).then(function(h){var m=l.kn.get(h.targetId);return(null===m||h.snapshotVersion.compareTo(m.snapshotVersion)>0)&&(l.kn=l.kn.insert(h.targetId,h),l.Fn.set(s,h.targetId)),h})}function xu(a,s,l){return(0,I.mG)(this,void 0,void 0,function(){var h,m,y,b;return(0,I.Jh)(this,function(C){switch(C.label){case 0:h=Be(a),m=h.kn.get(s),y=l?"readwrite":"readwrite-primary",C.label=1;case 1:return C.trys.push([1,4,,5]),l?[3,3]:[4,h.persistence.runTransaction("Release target",y,function(T){return h.persistence.referenceDelegate.removeTarget(T,m)})];case 2:C.sent(),C.label=3;case 3:return[3,5];case 4:if(!Ps(b=C.sent()))throw b;return Ce("LocalStore","Failed to update sequence numbers for target "+s+": "+b),[3,5];case 5:return h.kn=h.kn.remove(s),h.Fn.delete(m.target),[2]}})})}function Hl(a,s,l){var h=Be(a),m=xt.min(),y=On();return h.persistence.runTransaction("Execute query","readonly",function(b){return(C=h,T=b,O=bi(s),P=Be(C),B=P.Fn.get(O),void 0!==B?Te.resolve(P.kn.get(B)):P.qe.getTargetData(T,O)).next(function(C){if(C)return m=C.lastLimboFreeSnapshotVersion,h.qe.getMatchingKeysForTargetId(b,C.targetId).next(function(T){y=T})}).next(function(){return h.xn.getDocumentsMatchingQuery(b,s,l?m:xt.min(),l?y:On())}).next(function(C){return{documents:C,Bn:y}});var C,T,O,P,B})}function $f(a,s){var l=Be(a),h=Be(l.qe),m=l.kn.get(s);return m?Promise.resolve(m.target):l.persistence.runTransaction("Get target data","readonly",function(y){return h.lt(y,s).next(function(b){return b?b.target:null})})}function dh(a){var s=Be(a);return s.persistence.runTransaction("Get new document changes","readonly",function(l){return m=l,y=s.$n,b=Be(s.On),C=Br(),T=Ng(y),O=kc(m),P=IDBKeyRange.lowerBound(T,!0),O.$t({index:Xn.readTimeIndex,range:P},function(B,z){var re=Bo(b.R,z);C=C.insert(re.key,re),T=z.readTime}).next(function(){return{wn:C,readTime:Pg(T)}});var m,y,b,C,T,O,P}).then(function(l){var h=l.wn;return s.$n=l.readTime,h})}function qg(a){return(0,I.mG)(this,void 0,void 0,function(){var s;return(0,I.Jh)(this,function(l){return[2,(s=Be(a)).persistence.runTransaction("Synchronize last document change read time","readonly",function(h){return y=kc(h),b=xt.min(),y.$t({index:Xn.readTimeIndex,reverse:!0},function(C,T,O){T.readTime&&(b=Pg(T.readTime)),O.done()}).next(function(){return b});var y,b}).then(function(h){s.$n=h})]})})}function Gg(a,s,l,h){return(0,I.mG)(this,void 0,void 0,function(){var m,y,b,C,T,O,P,B,z,re;return(0,I.Jh)(this,function(ne){switch(ne.label){case 0:for(m=Be(a),y=On(),b=Br(),C=gn(),T=0,O=l;T<O.length;T++)B=s.qn((P=O[T]).metadata.name),P.document&&(y=y.add(B)),b=b.insert(B,s.Un(P)),C=C.insert(B,s.Kn(P.metadata.readTime));return z=m.On.newChangeBuffer({trackRemovals:!0}),[4,Oc(m,(he=h,bi(Zr(Kt.fromString("__bundle__/docs/"+he)))))];case 1:return re=ne.sent(),[2,m.persistence.runTransaction("Apply bundle documents","readwrite",function(he){return Ul(he,z,b,xt.min(),C).next(function(Re){return z.apply(he),Re}).next(function(Re){return m.qe.removeMatchingKeysForTargetId(he,re.targetId).next(function(){return m.qe.addMatchingKeys(he,y,re.targetId)}).next(function(){return m.Mn.En(he,Re)}).next(function(){return Re})})})]}var he})})}function hh(a,s,l){return void 0===l&&(l=On()),(0,I.mG)(this,void 0,void 0,function(){var h,m;return(0,I.Jh)(this,function(y){switch(y.label){case 0:return[4,Oc(a,bi(oh(s.bundledQuery)))];case 1:return h=y.sent(),[2,(m=Be(a)).persistence.runTransaction("Save named query","readwrite",function(b){var C=ai(s.readTime);if(h.snapshotVersion.compareTo(C)>=0)return m.Ke.saveNamedQuery(b,s);var T=h.withResumeToken(Ni.EMPTY_BYTE_STRING,C);return m.kn=m.kn.insert(T.targetId,T),m.qe.updateTargetData(b,T).next(function(){return m.qe.removeMatchingKeysForTargetId(b,h.targetId)}).next(function(){return m.qe.addMatchingKeys(b,l,h.targetId)}).next(function(){return m.Ke.saveNamedQuery(b,s)})})]}})})}var Wg=function(){function a(s){this.R=s,this.Qn=new Map,this.jn=new Map}return a.prototype.getBundleMetadata=function(s,l){return Te.resolve(this.Qn.get(l))},a.prototype.saveBundleMetadata=function(s,l){var h;return this.Qn.set(l.id,{id:(h=l).id,version:h.version,createTime:ai(h.createTime)}),Te.resolve()},a.prototype.getNamedQuery=function(s,l){return Te.resolve(this.jn.get(l))},a.prototype.saveNamedQuery=function(s,l){return this.jn.set(l.name,{name:(h=l).name,query:oh(h.bundledQuery),readTime:ai(h.readTime)}),Te.resolve();var h},a}(),mm=function(){function a(){this.Wn=new Zn(Jr.Gn),this.zn=new Zn(Jr.Hn)}return a.prototype.isEmpty=function(){return this.Wn.isEmpty()},a.prototype.addReference=function(s,l){var h=new Jr(s,l);this.Wn=this.Wn.add(h),this.zn=this.zn.add(h)},a.prototype.Jn=function(s,l){var h=this;s.forEach(function(m){return h.addReference(m,l)})},a.prototype.removeReference=function(s,l){this.Yn(new Jr(s,l))},a.prototype.Xn=function(s,l){var h=this;s.forEach(function(m){return h.removeReference(m,l)})},a.prototype.Zn=function(s){var l=this,h=new Le(new Kt([])),m=new Jr(h,s),y=new Jr(h,s+1),b=[];return this.zn.forEachInRange([m,y],function(C){l.Yn(C),b.push(C.key)}),b},a.prototype.ts=function(){var s=this;this.Wn.forEach(function(l){return s.Yn(l)})},a.prototype.Yn=function(s){this.Wn=this.Wn.delete(s),this.zn=this.zn.delete(s)},a.prototype.es=function(s){var l=new Le(new Kt([])),h=new Jr(l,s),m=new Jr(l,s+1),y=On();return this.zn.forEachInRange([h,m],function(b){y=y.add(b.key)}),y},a.prototype.containsKey=function(s){var l=new Jr(s,0),h=this.Wn.firstAfterOrEqual(l);return null!==h&&s.isEqual(h.key)},a}(),Jr=function(){function a(s,l){this.key=s,this.ns=l}return a.Gn=function(s,l){return Le.comparator(s.key,l.key)||nt(s.ns,l.ns)},a.Hn=function(s,l){return nt(s.ns,l.ns)||Le.comparator(s.key,l.key)},a}(),ro=function(){function a(s,l){this.Ut=s,this.referenceDelegate=l,this._n=[],this.ss=1,this.rs=new Zn(Jr.Gn)}return a.prototype.checkEmpty=function(s){return Te.resolve(0===this._n.length)},a.prototype.addMutationBatch=function(s,l,h,m){var y=this.ss;this.ss++;var b=new no(y,l,h,m);this._n.push(b);for(var C=0,T=m;C<T.length;C++){var O=T[C];this.rs=this.rs.add(new Jr(O.key,y)),this.Ut.addToCollectionParentIndex(s,O.key.path.popLast())}return Te.resolve(b)},a.prototype.lookupMutationBatch=function(s,l){return Te.resolve(this.os(l))},a.prototype.getNextMutationBatchAfterBatchId=function(s,l){var m=this.cs(l+1),y=m<0?0:m;return Te.resolve(this._n.length>y?this._n[y]:null)},a.prototype.getHighestUnacknowledgedBatchId=function(){return Te.resolve(0===this._n.length?-1:this.ss-1)},a.prototype.getAllMutationBatches=function(s){return Te.resolve(this._n.slice())},a.prototype.getAllMutationBatchesAffectingDocumentKey=function(s,l){var h=this,m=new Jr(l,0),y=new Jr(l,Number.POSITIVE_INFINITY),b=[];return this.rs.forEachInRange([m,y],function(C){var T=h.os(C.ns);b.push(T)}),Te.resolve(b)},a.prototype.getAllMutationBatchesAffectingDocumentKeys=function(s,l){var h=this,m=new Zn(nt);return l.forEach(function(y){var b=new Jr(y,0),C=new Jr(y,Number.POSITIVE_INFINITY);h.rs.forEachInRange([b,C],function(T){m=m.add(T.ns)})}),Te.resolve(this.us(m))},a.prototype.getAllMutationBatchesAffectingQuery=function(s,l){var h=l.path,m=h.length+1,y=h;Le.isDocumentKey(y)||(y=y.child(""));var b=new Jr(new Le(y),0),C=new Zn(nt);return this.rs.forEachWhile(function(T){var O=T.key.path;return!!h.isPrefixOf(O)&&(O.length===m&&(C=C.add(T.ns)),!0)},b),Te.resolve(this.us(C))},a.prototype.us=function(s){var l=this,h=[];return s.forEach(function(m){var y=l.os(m);null!==y&&h.push(y)}),h},a.prototype.removeMutationBatch=function(s,l){var h=this;ct(0===this.hs(l.batchId,"removed")),this._n.shift();var m=this.rs;return Te.forEach(l.mutations,function(y){var b=new Jr(y.key,l.batchId);return m=m.delete(b),h.referenceDelegate.markPotentiallyOrphaned(s,y.key)}).next(function(){h.rs=m})},a.prototype.Gt=function(s){},a.prototype.containsKey=function(s,l){var h=new Jr(l,0),m=this.rs.firstAfterOrEqual(h);return Te.resolve(l.isEqual(m&&m.key))},a.prototype.performConsistencyCheck=function(s){return Te.resolve()},a.prototype.hs=function(s,l){return this.cs(s)},a.prototype.cs=function(s){return 0===this._n.length?0:s-this._n[0].batchId},a.prototype.os=function(s){var l=this.cs(s);return l<0||l>=this._n.length?null:this._n[l]},a}(),qf=function(){function a(s,l){this.Ut=s,this.ls=l,this.docs=new kn(Le.comparator),this.size=0}return a.prototype.addEntry=function(s,l,h){var m=l.key,y=this.docs.get(m),b=y?y.size:0,C=this.ls(l);return this.docs=this.docs.insert(m,{document:l.clone(),size:C,readTime:h}),this.size+=C-b,this.Ut.addToCollectionParentIndex(s,m.path.popLast())},a.prototype.removeEntry=function(s){var l=this.docs.get(s);l&&(this.docs=this.docs.remove(s),this.size-=l.size)},a.prototype.getEntry=function(s,l){var h=this.docs.get(l);return Te.resolve(h?h.document.clone():Fi.newInvalidDocument(l))},a.prototype.getEntries=function(s,l){var h=this,m=Br();return l.forEach(function(y){var b=h.docs.get(y);m=m.insert(y,b?b.document.clone():Fi.newInvalidDocument(y))}),Te.resolve(m)},a.prototype.getDocumentsMatchingQuery=function(s,l,h){for(var m=Br(),y=new Le(l.path.child("")),b=this.docs.getIteratorFrom(y);b.hasNext();){var C=b.getNext(),O=C.value,P=O.document,B=O.readTime;if(!l.path.isPrefixOf(C.key.path))break;B.compareTo(h)<=0||Ta(l,P)&&(m=m.insert(P.key,P.clone()))}return Te.resolve(m)},a.prototype.fs=function(s,l){return Te.forEach(this.docs,function(h){return l(h)})},a.prototype.newChangeBuffer=function(s){return new Kg(this)},a.prototype.getSize=function(s){return Te.resolve(this.size)},a}(),Kg=function(a){function s(l){var h=this;return(h=a.call(this)||this).Ie=l,h}return(0,I.ZT)(s,a),s.prototype.applyChanges=function(l){var h=this,m=[];return this.changes.forEach(function(y,b){b.document.isValidDocument()?m.push(h.Ie.addEntry(l,b.document,h.getReadTime(y))):h.Ie.removeEntry(y)}),Te.waitFor(m)},s.prototype.getFromCache=function(l,h){return this.Ie.getEntry(l,h)},s.prototype.getAllFromCache=function(l,h){return this.Ie.getEntries(l,h)},s}(jl),Gf=function(){function a(s){this.persistence=s,this.ds=new Rc(function(l){return Tl(l)},Li),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this.ws=0,this._s=new mm,this.targetCount=0,this.ys=uh.Jt()}return a.prototype.forEachTarget=function(s,l){return this.ds.forEach(function(h,m){return l(m)}),Te.resolve()},a.prototype.getLastRemoteSnapshotVersion=function(s){return Te.resolve(this.lastRemoteSnapshotVersion)},a.prototype.getHighestSequenceNumber=function(s){return Te.resolve(this.ws)},a.prototype.allocateTargetId=function(s){return this.highestTargetId=this.ys.next(),Te.resolve(this.highestTargetId)},a.prototype.setTargetsMetadata=function(s,l,h){return h&&(this.lastRemoteSnapshotVersion=h),l>this.ws&&(this.ws=l),Te.resolve()},a.prototype.te=function(s){this.ds.set(s.target,s);var l=s.targetId;l>this.highestTargetId&&(this.ys=new uh(l),this.highestTargetId=l),s.sequenceNumber>this.ws&&(this.ws=s.sequenceNumber)},a.prototype.addTargetData=function(s,l){return this.te(l),this.targetCount+=1,Te.resolve()},a.prototype.updateTargetData=function(s,l){return this.te(l),Te.resolve()},a.prototype.removeTargetData=function(s,l){return this.ds.delete(l.target),this._s.Zn(l.targetId),this.targetCount-=1,Te.resolve()},a.prototype.removeTargets=function(s,l,h){var m=this,y=0,b=[];return this.ds.forEach(function(C,T){T.sequenceNumber<=l&&null===h.get(T.targetId)&&(m.ds.delete(C),b.push(m.removeMatchingKeysForTargetId(s,T.targetId)),y++)}),Te.waitFor(b).next(function(){return y})},a.prototype.getTargetCount=function(s){return Te.resolve(this.targetCount)},a.prototype.getTargetData=function(s,l){var h=this.ds.get(l)||null;return Te.resolve(h)},a.prototype.addMatchingKeys=function(s,l,h){return this._s.Jn(l,h),Te.resolve()},a.prototype.removeMatchingKeys=function(s,l,h){this._s.Xn(l,h);var m=this.persistence.referenceDelegate,y=[];return m&&l.forEach(function(b){y.push(m.markPotentiallyOrphaned(s,b))}),Te.waitFor(y)},a.prototype.removeMatchingKeysForTargetId=function(s,l){return this._s.Zn(l),Te.resolve()},a.prototype.getMatchingKeysForTargetId=function(s,l){var h=this._s.es(l);return Te.resolve(h)},a.prototype.containsKey=function(s,l){return Te.resolve(this._s.containsKey(l))},a}(),Ci=function(){function a(s,l){var h=this;this.gs={},this.Ne=new jn(0),this.xe=!1,this.xe=!0,this.referenceDelegate=s(this),this.qe=new Gf(this),this.Ut=new um,this.Ue=new qf(this.Ut,function(b){return h.referenceDelegate.ps(b)}),this.R=new Ll(l),this.Ke=new Wg(this.R)}return a.prototype.start=function(){return Promise.resolve()},a.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(a.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),a.prototype.setDatabaseDeletedListener=function(){},a.prototype.setNetworkEnabled=function(){},a.prototype.getIndexManager=function(){return this.Ut},a.prototype.getMutationQueue=function(s){var l=this.gs[s.toKey()];return l||(l=new ro(this.Ut,this.referenceDelegate),this.gs[s.toKey()]=l),l},a.prototype.getTargetCache=function(){return this.qe},a.prototype.getRemoteDocumentCache=function(){return this.Ue},a.prototype.getBundleCache=function(){return this.Ke},a.prototype.runTransaction=function(s,l,h){var m=this;Ce("MemoryPersistence","Starting transaction:",s);var y=new zl(this.Ne.next());return this.referenceDelegate.Es(),h(y).next(function(b){return m.referenceDelegate.Ts(y).next(function(){return b})}).toPromise().then(function(b){return y.raiseOnCommittedEvent(),b})},a.prototype.Is=function(s,l){return Te.or(Object.values(this.gs).map(function(h){return function(){return h.containsKey(s,l)}}))},a}(),zl=function(a){function s(l){var h=this;return(h=a.call(this)||this).currentSequenceNumber=l,h}return(0,I.ZT)(s,a),s}(th),gm=function(){function a(s){this.persistence=s,this.As=new mm,this.Rs=null}return a.bs=function(s){return new a(s)},Object.defineProperty(a.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw tt()},enumerable:!1,configurable:!0}),a.prototype.addReference=function(s,l,h){return this.As.addReference(h,l),this.vs.delete(h.toString()),Te.resolve()},a.prototype.removeReference=function(s,l,h){return this.As.removeReference(h,l),this.vs.add(h.toString()),Te.resolve()},a.prototype.markPotentiallyOrphaned=function(s,l){return this.vs.add(l.toString()),Te.resolve()},a.prototype.removeTarget=function(s,l){var h=this;this.As.Zn(l.targetId).forEach(function(y){return h.vs.add(y.toString())});var m=this.persistence.getTargetCache();return m.getMatchingKeysForTargetId(s,l.targetId).next(function(y){y.forEach(function(b){return h.vs.add(b.toString())})}).next(function(){return m.removeTargetData(s,l)})},a.prototype.Es=function(){this.Rs=new Set},a.prototype.Ts=function(s){var l=this,h=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Te.forEach(this.vs,function(m){var y=Le.fromPath(m);return l.Ps(s,y).next(function(b){b||h.removeEntry(y)})}).next(function(){return l.Rs=null,h.apply(s)})},a.prototype.updateLimboDocument=function(s,l){var h=this;return this.Ps(s,l).next(function(m){m?h.vs.delete(l.toString()):h.vs.add(l.toString())})},a.prototype.ps=function(s){return 0},a.prototype.Ps=function(s,l){var h=this;return Te.or([function(){return Te.resolve(h.As.containsKey(l))},function(){return h.persistence.getTargetCache().containsKey(s,l)},function(){return h.persistence.Is(s,l)}])},a}(),zr=function(){function a(s){this.uid=s}return a.prototype.isAuthenticated=function(){return null!=this.uid},a.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},a.prototype.isEqual=function(s){return s.uid===this.uid},a}();function vm(a,s){return"firestore_clients_"+a+"_"+s}function fh(a,s,l){var h="firestore_mutations_"+a+"_"+l;return s.isAuthenticated()&&(h+="_"+s.uid),h}function ym(a,s){return"firestore_targets_"+a+"_"+s}zr.UNAUTHENTICATED=new zr(null),zr.GOOGLE_CREDENTIALS=new zr("google-credentials-uid"),zr.FIRST_PARTY=new zr("first-party-uid"),zr.MOCK_USER=new zr("mock-user");var Wf=function(){function a(s,l,h,m){this.user=s,this.batchId=l,this.state=h,this.error=m}return a.Vs=function(s,l,h){var m,y=JSON.parse(h),b="object"==typeof y&&-1!==["pending","acknowledged","rejected"].indexOf(y.state)&&(void 0===y.error||"object"==typeof y.error);return b&&y.error&&(b="string"==typeof y.error.message&&"string"==typeof y.error.code)&&(m=new Ee(y.error.code,y.error.message)),b?new a(s,l,y.state,m):(mr("SharedClientState","Failed to parse mutation state for ID '"+l+"': "+h),null)},a.prototype.Ss=function(){var s={state:this.state,updateTimeMs:Date.now()};return this.error&&(s.error={code:this.error.code,message:this.error.message}),JSON.stringify(s)},a}(),ph=function(){function a(s,l,h){this.targetId=s,this.state=l,this.error=h}return a.Vs=function(s,l){var h,m=JSON.parse(l),y="object"==typeof m&&-1!==["not-current","current","rejected"].indexOf(m.state)&&(void 0===m.error||"object"==typeof m.error);return y&&m.error&&(y="string"==typeof m.error.message&&"string"==typeof m.error.code)&&(h=new Ee(m.error.code,m.error.message)),y?new a(s,m.state,h):(mr("SharedClientState","Failed to parse target state for ID '"+s+"': "+l),null)},a.prototype.Ss=function(){var s={state:this.state,updateTimeMs:Date.now()};return this.error&&(s.error={code:this.error.code,message:this.error.message}),JSON.stringify(s)},a}(),$l=function(){function a(s,l){this.clientId=s,this.activeTargetIds=l}return a.Vs=function(s,l){for(var h=JSON.parse(l),m="object"==typeof h&&h.activeTargetIds instanceof Array,y=Af(),b=0;m&&b<h.activeTargetIds.length;++b)m=Ye(h.activeTargetIds[b]),y=y.add(h.activeTargetIds[b]);return m?new a(s,y):(mr("SharedClientState","Failed to parse client data for instance '"+s+"': "+l),null)},a}(),_m=function(){function a(s,l){this.clientId=s,this.onlineState=l}return a.Vs=function(s){var l=JSON.parse(s);return"object"==typeof l&&-1!==["Unknown","Online","Offline"].indexOf(l.onlineState)&&"string"==typeof l.clientId?new a(l.clientId,l.onlineState):(mr("SharedClientState","Failed to parse online state: "+s),null)},a}(),Nc=function(){function a(){this.activeTargetIds=Af()}return a.prototype.Ds=function(s){this.activeTargetIds=this.activeTargetIds.add(s)},a.prototype.Cs=function(s){this.activeTargetIds=this.activeTargetIds.delete(s)},a.prototype.Ss=function(){var s={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(s)},a}(),Fa=function(){function a(s,l,h,m,y){this.window=s,this.Se=l,this.persistenceKey=h,this.Ns=m,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new kn(nt),this.started=!1,this.$s=[];var b=h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=y,this.Os=vm(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.Fs=this.Fs.insert(this.Ns,new Nc),this.Ls=new RegExp("^firestore_clients_"+b+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+b+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+b+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Ks=function(C){return"firestore_bundle_loaded_"+C}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return a.yt=function(s){return!(!s||!s.localStorage)},a.prototype.start=function(){return(0,I.mG)(this,void 0,void 0,function(){var s,l,h,m,y,b,C,T,O,P,z=this;return(0,I.Jh)(this,function(re){switch(re.label){case 0:return[4,this.syncEngine.fn()];case 1:for(s=re.sent(),l=0,h=s;l<h.length;l++)(m=h[l])!==this.Ns&&(y=this.getItem(vm(this.persistenceKey,m)))&&(b=$l.Vs(m,y))&&(this.Fs=this.Fs.insert(b.clientId,b));for(this.Qs(),(C=this.storage.getItem(this.Us))&&(T=this.js(C))&&this.Ws(T),O=0,P=this.$s;O<P.length;O++)this.ks(P[O]);return this.$s=[],this.window.addEventListener("pagehide",function(){return z.shutdown()}),this.started=!0,[2]}})})},a.prototype.writeSequenceNumber=function(s){this.setItem(this.Ms,JSON.stringify(s))},a.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},a.prototype.isActiveQueryTarget=function(s){var l=!1;return this.Fs.forEach(function(h,m){m.activeTargetIds.has(s)&&(l=!0)}),l},a.prototype.addPendingMutation=function(s){this.zs(s,"pending")},a.prototype.updateMutationState=function(s,l,h){this.zs(s,l,h),this.Hs(s)},a.prototype.addLocalQueryTarget=function(s){var l="not-current";if(this.isActiveQueryTarget(s)){var h=this.storage.getItem(ym(this.persistenceKey,s));if(h){var m=ph.Vs(s,h);m&&(l=m.state)}}return this.Js.Ds(s),this.Qs(),l},a.prototype.removeLocalQueryTarget=function(s){this.Js.Cs(s),this.Qs()},a.prototype.isLocalQueryTarget=function(s){return this.Js.activeTargetIds.has(s)},a.prototype.clearQueryState=function(s){this.removeItem(ym(this.persistenceKey,s))},a.prototype.updateQueryState=function(s,l,h){this.Ys(s,l,h)},a.prototype.handleUserChange=function(s,l,h){var m=this;l.forEach(function(y){m.Hs(y)}),this.currentUser=s,h.forEach(function(y){m.addPendingMutation(y)})},a.prototype.setOnlineState=function(s){this.Xs(s)},a.prototype.notifyBundleLoaded=function(){this.Zs()},a.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},a.prototype.getItem=function(s){var l=this.storage.getItem(s);return Ce("SharedClientState","READ",s,l),l},a.prototype.setItem=function(s,l){Ce("SharedClientState","SET",s,l),this.storage.setItem(s,l)},a.prototype.removeItem=function(s){Ce("SharedClientState","REMOVE",s),this.storage.removeItem(s)},a.prototype.ks=function(s){var l=this,h=s;if(h.storageArea===this.storage){if(Ce("SharedClientState","EVENT",h.key,h.newValue),h.key===this.Os)return void mr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,I.mG)(l,void 0,void 0,function(){var m,y,b,C,T,O;return(0,I.Jh)(this,function(P){if(this.started){if(null!==h.key)if(this.Ls.test(h.key)){if(null==h.newValue)return m=this.ti(h.key),[2,this.ei(m,null)];if(y=this.ni(h.key,h.newValue))return[2,this.ei(y.clientId,y)]}else if(this.Bs.test(h.key)){if(null!==h.newValue&&(b=this.si(h.key,h.newValue)))return[2,this.ii(b)]}else if(this.qs.test(h.key)){if(null!==h.newValue&&(C=this.ri(h.key,h.newValue)))return[2,this.oi(C)]}else if(h.key===this.Us){if(null!==h.newValue&&(T=this.js(h.newValue)))return[2,this.Ws(T)]}else if(h.key===this.Ms)(O=function(B){var z=jn.o;if(null!=B)try{var re=JSON.parse(B);ct("number"==typeof re),z=re}catch(ne){mr("SharedClientState","Failed to read sequence number from WebStorage",ne)}return z}(h.newValue))!==jn.o&&this.sequenceNumberHandler(O);else if(h.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(h);return[2]})})})}},Object.defineProperty(a.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),a.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},a.prototype.zs=function(s,l,h){var m=new Wf(this.currentUser,s,l,h),y=fh(this.persistenceKey,this.currentUser,s);this.setItem(y,m.Ss())},a.prototype.Hs=function(s){var l=fh(this.persistenceKey,this.currentUser,s);this.removeItem(l)},a.prototype.Xs=function(s){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:s}))},a.prototype.Ys=function(s,l,h){var m=ym(this.persistenceKey,s),y=new ph(s,l,h);this.setItem(m,y.Ss())},a.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},a.prototype.ti=function(s){var l=this.Ls.exec(s);return l?l[1]:null},a.prototype.ni=function(s,l){var h=this.ti(s);return $l.Vs(h,l)},a.prototype.si=function(s,l){var h=this.Bs.exec(s),m=Number(h[1]);return Wf.Vs(new zr(void 0!==h[2]?h[2]:null),m,l)},a.prototype.ri=function(s,l){var h=this.qs.exec(s),m=Number(h[1]);return ph.Vs(m,l)},a.prototype.js=function(s){return _m.Vs(s)},a.prototype.ii=function(s){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(l){return s.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(s.batchId,s.state,s.error)]:(Ce("SharedClientState","Ignoring mutation for non-active user "+s.user.uid),[2])})})},a.prototype.oi=function(s){return this.syncEngine.ai(s.targetId,s.state,s.error)},a.prototype.ei=function(s,l){var h=this,m=l?this.Fs.insert(s,l):this.Fs.remove(s),y=this.Gs(this.Fs),b=this.Gs(m),C=[],T=[];return b.forEach(function(O){y.has(O)||C.push(O)}),y.forEach(function(O){b.has(O)||T.push(O)}),this.syncEngine.hi(C,T).then(function(){h.Fs=m})},a.prototype.Ws=function(s){this.Fs.get(s.clientId)&&this.onlineStateHandler(s.onlineState)},a.prototype.Gs=function(s){var l=Af();return s.forEach(function(h,m){l=l.unionWith(m.activeTargetIds)}),l},a}(),La=function(){function a(){this.li=new Nc,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return a.prototype.addPendingMutation=function(s){},a.prototype.updateMutationState=function(s,l,h){},a.prototype.addLocalQueryTarget=function(s){return this.li.Ds(s),this.fi[s]||"not-current"},a.prototype.updateQueryState=function(s,l,h){this.fi[s]=l},a.prototype.removeLocalQueryTarget=function(s){this.li.Cs(s)},a.prototype.isLocalQueryTarget=function(s){return this.li.activeTargetIds.has(s)},a.prototype.clearQueryState=function(s){delete this.fi[s]},a.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},a.prototype.isActiveQueryTarget=function(s){return this.li.activeTargetIds.has(s)},a.prototype.start=function(){return this.li=new Nc,Promise.resolve()},a.prototype.handleUserChange=function(s,l,h){},a.prototype.setOnlineState=function(s){},a.prototype.shutdown=function(){},a.prototype.writeSequenceNumber=function(s){},a.prototype.notifyBundleLoaded=function(){},a}(),Yg=function(){function a(){}return a.prototype.di=function(s){},a.prototype.shutdown=function(){},a}(),Pc=function(){function a(){var s=this;this.wi=function(){return s._i()},this.mi=function(){return s.yi()},this.gi=[],this.pi()}return a.prototype.di=function(s){this.gi.push(s)},a.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},a.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},a.prototype._i=function(){Ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var s=0,l=this.gi;s<l.length;s++)(0,l[s])(0)},a.prototype.yi=function(){Ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var s=0,l=this.gi;s<l.length;s++)(0,l[s])(1)},a.yt=function(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},a}(),dy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Zg=function(){function a(s){this.Ei=s.Ei,this.Ti=s.Ti}return a.prototype.Ii=function(s){this.Ai=s},a.prototype.Ri=function(s){this.bi=s},a.prototype.onMessage=function(s){this.vi=s},a.prototype.close=function(){this.Ti()},a.prototype.send=function(s){this.Ei(s)},a.prototype.Pi=function(){this.Ai()},a.prototype.Vi=function(s){this.bi(s)},a.prototype.Si=function(s){this.vi(s)},a}(),Kf=function(a){function s(l){var h=this;return(h=a.call(this,l)||this).forceLongPolling=l.forceLongPolling,h.autoDetectLongPolling=l.autoDetectLongPolling,h.useFetchStreams=l.useFetchStreams,h}return(0,I.ZT)(s,a),s.prototype.Fi=function(l,h,m,y){return new Promise(function(b,C){var T=new wl;T.listenOnce(jd.COMPLETE,function(){try{switch(T.getLastErrorCode()){case vf.NO_ERROR:var P=T.getResponseJson();Ce("Connection","XHR received:",JSON.stringify(P)),b(P);break;case vf.TIMEOUT:Ce("Connection",'RPC "'+l+'" timed out'),C(new Ee(oe.DEADLINE_EXCEEDED,"Request time out"));break;case vf.HTTP_ERROR:var B=T.getStatus();if(Ce("Connection",'RPC "'+l+'" failed with status:',B,"response text:",T.getResponseText()),B>0){var z=T.getResponseJson().error;if(z&&z.status&&z.message){var re=(he=z.status.toLowerCase().replace(/_/g,"-"),Object.values(oe).indexOf(he)>=0?he:oe.UNKNOWN);C(new Ee(re,z.message))}else C(new Ee(oe.UNKNOWN,"Server responded with status "+T.getStatus()))}else C(new Ee(oe.UNAVAILABLE,"Connection failed."));break;default:tt()}}finally{Ce("Connection",'RPC "'+l+'" completed.')}var he});var O=JSON.stringify(y);T.send(h,"POST",O,m,15)})},s.prototype.Oi=function(l,h){var m=[this.Di,"/","google.firestore.v1.Firestore","/",l,"/channel"],y=new du,b=iu(),C={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(C.xmlHttpFactory=new Is({})),this.ki(C.initMessageHeaders,h),(0,Ke.uI)()||(0,Ke.b$)()||(0,Ke.d)()||(0,Ke.w1)()||(0,Ke.Mn)()||(0,Ke.ru)()||(C.httpHeadersOverwriteParam="$httpHeaders");var T=m.join("");Ce("Connection","Creating WebChannel: "+T,C);var O=y.createWebChannel(T,C),P=!1,B=!1,z=new Zg({Ei:function(ne){B?Ce("Connection","Not sending because WebChannel is closed:",ne):(P||(Ce("Connection","Opening WebChannel transport."),O.open(),P=!0),Ce("Connection","WebChannel sending:",ne),O.send(ne))},Ti:function(){return O.close()}}),re=function(ne,he,Re){ne.listen(he,function(Fe){try{Re(Fe)}catch(dt){setTimeout(function(){throw dt},0)}})};return re(O,Ts.EventType.OPEN,function(){B||Ce("Connection","WebChannel transport opened.")}),re(O,Ts.EventType.CLOSE,function(){B||(B=!0,Ce("Connection","WebChannel transport closed"),z.Vi())}),re(O,Ts.EventType.ERROR,function(ne){B||(B=!0,Ud("Connection","WebChannel transport errored:",ne),z.Vi(new Ee(oe.UNAVAILABLE,"The operation could not be completed")))}),re(O,Ts.EventType.MESSAGE,function(ne){var he;if(!B){var Re=ne.data[0];ct(!!Re);var dt=Re.error||(null===(he=Re[0])||void 0===he?void 0:he.error);if(dt){Ce("Connection","WebChannel received error:",dt);var mt=dt.status,dn=function($n){var Dn=kr[$n];if(void 0!==Dn)return Qp(Dn)}(mt),bn=dt.message;void 0===dn&&(dn=oe.INTERNAL,bn="Unknown error status: "+mt+" with message "+dt.message),B=!0,z.Vi(new Ee(dn,bn)),O.close()}else Ce("Connection","WebChannel received:",Re),z.Si(Re)}}),re(b,$p.STAT_EVENT,function(ne){ne.stat===Po_PROXY?Ce("Connection","Detected buffering proxy"):ne.stat===Po_NOPROXY&&Ce("Connection","Detected no buffering proxy")}),setTimeout(function(){z.Pi()},0),z},s}(function(){function a(s){this.databaseInfo=s,this.databaseId=s.databaseId,this.Di=(s.ssl?"https":"http")+"://"+s.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return a.prototype.Ni=function(s,l,h,m){var y=this.xi(s,l);Ce("RestConnection","Sending: ",y,h);var b={};return this.ki(b,m),this.Fi(s,y,b,h).then(function(C){return Ce("RestConnection","Received: ",C),C},function(C){throw Ud("RestConnection",s+" failed with error: ",C,"url: ",y,"request:",h),C})},a.prototype.$i=function(s,l,h,m){return this.Ni(s,l,h,m)},a.prototype.ki=function(s,l){if(s["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",s["Content-Type"]="text/plain",this.databaseInfo.appId&&(s["X-Firebase-GMPID"]=this.databaseInfo.appId),l)for(var h in l.authHeaders)l.authHeaders.hasOwnProperty(h)&&(s[h]=l.authHeaders[h])},a.prototype.xi=function(s,l){return this.Di+"/v1/"+l+":"+dy[s]},a}());function Ru(){return typeof window<"u"?window:null}function ku(){return typeof document<"u"?document:null}function Fs(a){return new rm(a,!0)}var ql=function(){function a(s,l,h,m,y){void 0===h&&(h=1e3),void 0===m&&(m=1.5),void 0===y&&(y=6e4),this.Se=s,this.timerId=l,this.Mi=h,this.Li=m,this.Bi=y,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return a.prototype.reset=function(){this.qi=0},a.prototype.Qi=function(){this.qi=this.Bi},a.prototype.ji=function(s){var l=this;this.cancel();var h=Math.floor(this.qi+this.Wi()),m=Math.max(0,Date.now()-this.Ki),y=Math.max(0,h-m);y>0&&Ce("ExponentialBackoff","Backing off for "+y+" ms (base delay: "+this.qi+" ms, delay with jitter: "+h+" ms, last attempt: "+m+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,y,function(){return l.Ki=Date.now(),s()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},a.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},a.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},a.prototype.Wi=function(){return(Math.random()-.5)*this.qi},a}(),mh=function(){function a(s,l,h,m,y,b){this.Se=s,this.zi=h,this.Hi=m,this.Ji=y,this.listener=b,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new ql(s,l)}return a.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},a.prototype.er=function(){return 2===this.state},a.prototype.start=function(){3!==this.state?this.auth():this.nr()},a.prototype.stop=function(){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(s){switch(s.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},a.prototype.sr=function(){this.state=0,this.Zi.reset()},a.prototype.ir=function(){var s=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return s.rr()}))},a.prototype.cr=function(s){this.ur(),this.stream.send(s)},a.prototype.rr=function(){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(s){return this.er()?[2,this.close(0)]:[2]})})},a.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},a.prototype.close=function(s,l){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(h){switch(h.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==s?this.Zi.reset():l&&l.code===oe.RESOURCE_EXHAUSTED?(mr(l.toString()),mr("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):l&&l.code===oe.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=s,[4,this.listener.Ri(l)];case 1:return h.sent(),[2]}})})},a.prototype.ar=function(){},a.prototype.auth=function(){var s=this;this.state=1;var l=this.hr(this.Yi),h=this.Yi;this.Ji.getToken().then(function(m){s.Yi===h&&s.lr(m)},function(m){l(function(){var y=new Ee(oe.UNKNOWN,"Fetching auth token failed: "+m.message);return s.dr(y)})})},a.prototype.lr=function(s){var l=this,h=this.hr(this.Yi);this.stream=this.wr(s),this.stream.Ii(function(){h(function(){return l.state=2,l.listener.Ii()})}),this.stream.Ri(function(m){h(function(){return l.dr(m)})}),this.stream.onMessage(function(m){h(function(){return l.onMessage(m)})})},a.prototype.nr=function(){var s=this;this.state=4,this.Zi.ji(function(){return(0,I.mG)(s,void 0,void 0,function(){return(0,I.Jh)(this,function(l){return this.state=0,this.start(),[2]})})})},a.prototype.dr=function(s){return Ce("PersistentStream","close with error: "+s),this.stream=null,this.close(3,s)},a.prototype.hr=function(s){var l=this;return function(h){l.Se.enqueueAndForget(function(){return l.Yi===s?h():(Ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},a}(),gh=function(a){function s(l,h,m,y,b){var C=this;return(C=a.call(this,l,"listen_stream_connection_backoff","listen_stream_idle",h,m,b)||this).R=y,C}return(0,I.ZT)(s,a),s.prototype.wr=function(l){return this.Hi.Oi("Listen",l)},s.prototype.onMessage=function(l){this.Zi.reset();var h=function(y,b){var C,Re;if("targetChange"in b){var T="NO_CHANGE"===(Re=b.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Re?1:"REMOVE"===Re?2:"CURRENT"===Re?3:"RESET"===Re?4:tt(),O=b.targetChange.targetIds||[],P=function(Re,Fe){return Re.I?(ct(void 0===Fe||"string"==typeof Fe),Ni.fromBase64String(Fe||"")):(ct(void 0===Fe||Fe instanceof Uint8Array),Ni.fromUint8Array(Fe||new Uint8Array))}(y,b.targetChange.resumeToken),B=(z=b.targetChange.cause)&&function(Re){var Fe=void 0===Re.code?oe.UNKNOWN:Qp(Re.code);return new Ee(Fe,Re.message||"")}(z);C=new tm(T,O,P,B||null)}else if("documentChange"in b){O=ks(y,(T=b.documentChange).document.name),P=ai(T.document.updateTime);var z=new Pi({mapValue:{fields:T.document.fields}}),re=(B=Fi.newFoundDocument(O,P,z),T.targetIds||[]);C=new ra(re,T.removedTargetIds||[],B.key,B)}else if("documentDelete"in b)O=ks(y,(T=b.documentDelete).document),P=T.readTime?ai(T.readTime):xt.min(),z=Fi.newNoDocument(O,P),C=new ra([],B=T.removedTargetIds||[],z.key,z);else if("documentRemove"in b)O=ks(y,(T=b.documentRemove).document),C=new ra([],P=T.removedTargetIds||[],O,null);else{if(!("filter"in b))return tt();var he=b.filter;O=new Tf(T=he.count||0),C=new Lo(P=he.targetId,O)}return C}(this.R,l),m=function(y){if(!("targetChange"in y))return xt.min();var b=y.targetChange;return b.targetIds&&b.targetIds.length?xt.min():b.readTime?ai(b.readTime):xt.min()}(l);return this.listener._r(h,m)},s.prototype.mr=function(l){var y,b,C,T,h={};h.database=Cu(this.R),h.addTarget=(y=this.R,(C=qd(T=(b=l).target)?{documents:Qd(y,T)}:{query:Dc(y,T)}).targetId=b.targetId,b.resumeToken.approximateByteSize()>0?C.resumeToken=Eu(y,b.resumeToken):b.snapshotVersion.compareTo(xt.min())>0&&(C.readTime=ia(y,b.snapshotVersion.toTimestamp())),C);var m=function(y,b){var C=function(T,O){switch(O){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return tt()}}(0,b.purpose);return null==C?null:{"goog-listen-tags":C}}(0,l);m&&(h.labels=m),this.cr(h)},s.prototype.yr=function(l){var h={};h.database=Cu(this.R),h.removeTarget=l,this.cr(h)},s}(mh),vh=function(a){function s(l,h,m,y,b){var C=this;return(C=a.call(this,l,"write_stream_connection_backoff","write_stream_idle",h,m,b)||this).R=y,C.gr=!1,C}return(0,I.ZT)(s,a),Object.defineProperty(s.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),s.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,a.prototype.start.call(this)},s.prototype.ar=function(){this.gr&&this.Er([])},s.prototype.wr=function(l){return this.Hi.Oi("Write",l)},s.prototype.onMessage=function(l){if(ct(!!l.streamToken),this.lastStreamToken=l.streamToken,this.gr){this.Zi.reset();var h=(b=l.commitTime,(y=l.writeResults)&&y.length>0?(ct(void 0!==b),y.map(function(C){return O=b,(P=ai((T=C).updateTime?T.updateTime:O)).isEqual(xt.min())&&(P=ai(O)),new to(P,T.transformResults||[]);var T,O,P})):[]),m=ai(l.commitTime);return this.listener.Tr(m,h)}var y,b;return ct(!l.writeResults||0===l.writeResults.length),this.gr=!0,this.listener.Ir()},s.prototype.Ar=function(){var l={};l.database=Cu(this.R),this.cr(l)},s.prototype.Er=function(l){var h=this,m={streamToken:this.lastStreamToken,writes:l.map(function(y){return Su(h.R,y)})};this.cr(m)},s}(mh),hy=function(a){function s(l,h,m){var y=this;return(y=a.call(this)||this).credentials=l,y.Hi=h,y.R=m,y.Rr=!1,y}return(0,I.ZT)(s,a),s.prototype.br=function(){if(this.Rr)throw new Ee(oe.FAILED_PRECONDITION,"The client has already been terminated.")},s.prototype.Ni=function(l,h,m){var y=this;return this.br(),this.credentials.getToken().then(function(b){return y.Hi.Ni(l,h,m,b)}).catch(function(b){throw"FirebaseError"===b.name?(b.code===oe.UNAUTHENTICATED&&y.credentials.invalidateToken(),b):new Ee(oe.UNKNOWN,b.toString())})},s.prototype.$i=function(l,h,m){var y=this;return this.br(),this.credentials.getToken().then(function(b){return y.Hi.$i(l,h,m,b)}).catch(function(b){throw"FirebaseError"===b.name?(b.code===oe.UNAUTHENTICATED&&y.credentials.invalidateToken(),b):new Ee(oe.UNKNOWN,b.toString())})},s.prototype.terminate=function(){this.Rr=!0},s}(function(){}),fy=function(){function a(s,l){this.asyncQueue=s,this.onlineStateHandler=l,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return a.prototype.Sr=function(){var s=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return s.Pr=null,s.Cr("Backend didn't respond within 10 seconds."),s.Dr("Offline"),Promise.resolve()}))},a.prototype.Nr=function(s){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+s.toString()),this.Dr("Offline")))},a.prototype.set=function(s){this.kr(),this.vr=0,"Online"===s&&(this.Vr=!1),this.Dr(s)},a.prototype.Dr=function(s){s!==this.state&&(this.state=s,this.onlineStateHandler(s))},a.prototype.Cr=function(s){var l="Could not reach Cloud Firestore backend. "+s+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(mr(l),this.Vr=!1):Ce("OnlineStateTracker",l)},a.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},a}(),bm=function(a,s,l,h,m){var y=this;this.localStore=a,this.datastore=s,this.asyncQueue=l,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=m,this.Lr.di(function(b){l.enqueueAndForget(function(){return(0,I.mG)(y,void 0,void 0,function(){return(0,I.Jh)(this,function(C){switch(C.label){case 0:return ns(this)?(Ce("RemoteStore","Restarting streams for network reachability change."),[4,function(T){return(0,I.mG)(this,void 0,void 0,function(){var O;return(0,I.Jh)(this,function(P){switch(P.label){case 0:return(O=Be(T)).Or.add(4),[4,Gl(O)];case 1:return P.sent(),O.Br.set("Unknown"),O.Or.delete(4),[4,yh(O)];case 2:return P.sent(),[2]}})})}(this)]):[3,2];case 1:C.sent(),C.label=2;case 2:return[2]}})})})}),this.Br=new fy(l,h)};function yh(a){return(0,I.mG)(this,void 0,void 0,function(){var s,l;return(0,I.Jh)(this,function(h){switch(h.label){case 0:if(!ns(a))return[3,4];s=0,l=a.Mr,h.label=1;case 1:return s<l.length?[4,(0,l[s])(!0)]:[3,4];case 2:h.sent(),h.label=3;case 3:return s++,[3,1];case 4:return[2]}})})}function Gl(a){return(0,I.mG)(this,void 0,void 0,function(){var s,l;return(0,I.Jh)(this,function(h){switch(h.label){case 0:s=0,l=a.Mr,h.label=1;case 1:return s<l.length?[4,(0,l[s])(!1)]:[3,4];case 2:h.sent(),h.label=3;case 3:return s++,[3,1];case 4:return[2]}})})}function Yf(a,s){var l=Be(a);l.$r.has(s.targetId)||(l.$r.set(s.targetId,s),_h(l)?Kl(l):Va(l).er()&&aa(l,s))}function Wl(a,s){var l=Be(a),h=Va(l);l.$r.delete(s),h.er()&&wm(l,s),0===l.$r.size&&(h.er()?h.ir():ns(l)&&l.Br.set("Unknown"))}function aa(a,s){a.qr.U(s.targetId),Va(a).mr(s)}function wm(a,s){a.qr.U(s),Va(a).yr(s)}function Kl(a){a.qr=new wc({getRemoteKeysForTarget:function(s){return a.remoteSyncer.getRemoteKeysForTarget(s)},lt:function(s){return a.$r.get(s)||null}}),Va(a).start(),a.Br.Sr()}function _h(a){return ns(a)&&!Va(a).tr()&&a.$r.size>0}function ns(a){return 0===Be(a).Or.size}function ua(a){a.qr=void 0}function Fc(a){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(s){return a.$r.forEach(function(l,h){aa(a,l)}),[2]})})}function Lc(a,s){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(l){return ua(a),_h(a)?(a.Br.Nr(s),Kl(a)):a.Br.set("Unknown"),[2]})})}function Vc(a,s,l){return(0,I.mG)(this,void 0,void 0,function(){var h,m,y;return(0,I.Jh)(this,function(b){switch(b.label){case 0:if(a.Br.set("Online"),!(s instanceof tm&&2===s.state&&s.cause))return[3,6];b.label=1;case 1:return b.trys.push([1,3,,5]),[4,function(C,T){return(0,I.mG)(this,void 0,void 0,function(){var O,P,B,z;return(0,I.Jh)(this,function(re){switch(re.label){case 0:O=T.cause,P=0,B=T.targetIds,re.label=1;case 1:return P<B.length?C.$r.has(z=B[P])?[4,C.remoteSyncer.rejectListen(z,O)]:[3,3]:[3,5];case 2:re.sent(),C.$r.delete(z),C.qr.removeTarget(z),re.label=3;case 3:re.label=4;case 4:return P++,[3,1];case 5:return[2]}})})}(a,s)];case 2:return b.sent(),[3,5];case 3:return h=b.sent(),Ce("RemoteStore","Failed to remove targets %s: %s ",s.targetIds.join(","),h),[4,bh(a,h)];case 4:return b.sent(),[3,5];case 5:return[3,13];case 6:if(s instanceof ra?a.qr.X(s):s instanceof Lo?a.qr.rt(s):a.qr.et(s),l.isEqual(xt.min()))return[3,13];b.label=7;case 7:return b.trys.push([7,11,,13]),[4,pm(a.localStore)];case 8:return m=b.sent(),l.compareTo(m)>=0?[4,(C=a,T=l,O=C.qr.ut(T),O.targetChanges.forEach(function(P,B){if(P.resumeToken.approximateByteSize()>0){var z=C.$r.get(B);z&&C.$r.set(B,z.withResumeToken(P.resumeToken,T))}}),O.targetMismatches.forEach(function(P){var B=C.$r.get(P);if(B){C.$r.set(P,B.withResumeToken(Ni.EMPTY_BYTE_STRING,B.snapshotVersion)),wm(C,P);var z=new ih(B.target,P,1,B.sequenceNumber);aa(C,z)}}),C.remoteSyncer.applyRemoteEvent(O))]:[3,10];case 9:b.sent(),b.label=10;case 10:return[3,13];case 11:return Ce("RemoteStore","Failed to raise snapshot:",y=b.sent()),[4,bh(a,y)];case 12:return b.sent(),[3,13];case 13:return[2]}var C,T,O})})}function bh(a,s,l){return(0,I.mG)(this,void 0,void 0,function(){var h=this;return(0,I.Jh)(this,function(m){switch(m.label){case 0:if(!Ps(s))throw s;return a.Or.add(1),[4,Gl(a)];case 1:return m.sent(),a.Br.set("Offline"),l||(l=function(){return pm(a.localStore)}),a.asyncQueue.enqueueRetryable(function(){return(0,I.mG)(h,void 0,void 0,function(){return(0,I.Jh)(this,function(y){switch(y.label){case 0:return Ce("RemoteStore","Retrying IndexedDB access"),[4,l()];case 1:return y.sent(),a.Or.delete(1),[4,yh(a)];case 2:return y.sent(),[2]}})})}),[2]}})})}function Zf(a,s){return s().catch(function(l){return bh(a,l,s)})}function wh(a){return(0,I.mG)(this,void 0,void 0,function(){var s,l,h,m,y;return(0,I.Jh)(this,function(b){switch(b.label){case 0:s=Be(a),l=jo(s),h=s.Fr.length>0?s.Fr[s.Fr.length-1].batchId:-1,b.label=1;case 1:if(!(ns(C=s)&&C.Fr.length<10))return[3,7];b.label=2;case 2:return b.trys.push([2,4,,6]),[4,Co(s.localStore,h)];case 3:return null===(m=b.sent())?(0===s.Fr.length&&l.ir(),[3,7]):(h=m.batchId,function(C,T){C.Fr.push(T);var O=jo(C);O.er()&&O.pr&&O.Er(T.mutations)}(s,m),[3,6]);case 4:return y=b.sent(),[4,bh(s,y)];case 5:return b.sent(),[3,6];case 6:return[3,1];case 7:return Bc(s)&&Xg(s),[2]}var C})})}function Bc(a){return ns(a)&&!jo(a).tr()&&a.Fr.length>0}function Xg(a){jo(a).start()}function Qg(a){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(s){return jo(a).Ar(),[2]})})}function Jg(a){return(0,I.mG)(this,void 0,void 0,function(){var s,l,h;return(0,I.Jh)(this,function(y){for(s=jo(a),l=0,h=a.Fr;l<h.length;l++)s.Er(h[l].mutations);return[2]})})}function Eh(a,s,l){return(0,I.mG)(this,void 0,void 0,function(){var h,m;return(0,I.Jh)(this,function(y){switch(y.label){case 0:return h=a.Fr.shift(),m=rh.from(h,s,l),[4,Zf(a,function(){return a.remoteSyncer.applySuccessfulWrite(m)})];case 1:return y.sent(),[4,wh(a)];case 2:return y.sent(),[2]}})})}function Yl(a,s){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(l){switch(l.label){case 0:return s&&jo(a).pr?[4,function(h,m){return(0,I.mG)(this,void 0,void 0,function(){var y,b;return(0,I.Jh)(this,function(C){switch(C.label){case 0:return Ra(b=m.code)&&b!==oe.ABORTED?(y=h.Fr.shift(),jo(h).sr(),[4,Zf(h,function(){return h.remoteSyncer.rejectFailedWrite(y.batchId,m)})]):[3,3];case 1:return C.sent(),[4,wh(h)];case 2:C.sent(),C.label=3;case 3:return[2]}})})}(a,s)]:[3,2];case 1:l.sent(),l.label=2;case 2:return Bc(a)&&Xg(a),[2]}})})}function Ch(a,s){return(0,I.mG)(this,void 0,void 0,function(){var l;return(0,I.Jh)(this,function(h){switch(h.label){case 0:return l=Be(a),s?(l.Or.delete(2),[4,yh(l)]):[3,2];case 1:return h.sent(),[3,5];case 2:return s?[3,4]:(l.Or.add(2),[4,Gl(l)]);case 3:h.sent(),l.Br.set("Unknown"),h.label=4;case 4:h.label=5;case 5:return[2]}})})}function Va(a){var l,h,m,y,s=this;return a.Ur||(a.Ur=(l=a.datastore,h=a.asyncQueue,m={Ii:Fc.bind(null,a),Ri:Lc.bind(null,a),_r:Vc.bind(null,a)},(y=Be(l)).br(),new gh(h,y.Hi,y.credentials,y.R,m)),a.Mr.push(function(l){return(0,I.mG)(s,void 0,void 0,function(){return(0,I.Jh)(this,function(h){switch(h.label){case 0:return l?(a.Ur.sr(),_h(a)?Kl(a):a.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,a.Ur.stop()];case 2:h.sent(),ua(a),h.label=3;case 3:return[2]}})})})),a.Ur}function jo(a){var l,h,m,y,s=this;return a.Kr||(a.Kr=(l=a.datastore,h=a.asyncQueue,m={Ii:Qg.bind(null,a),Ri:Yl.bind(null,a),Ir:Jg.bind(null,a),Tr:Eh.bind(null,a)},(y=Be(l)).br(),new vh(h,y.Hi,y.credentials,y.R,m)),a.Mr.push(function(l){return(0,I.mG)(s,void 0,void 0,function(){return(0,I.Jh)(this,function(h){switch(h.label){case 0:return l?(a.Kr.sr(),[4,wh(a)]):[3,2];case 1:return h.sent(),[3,4];case 2:return[4,a.Kr.stop()];case 3:h.sent(),a.Fr.length>0&&(Ce("RemoteStore","Stopping write stream with "+a.Fr.length+" pending writes"),a.Fr=[]),h.label=4;case 4:return[2]}})})})),a.Kr}var Xf=function(){function a(s,l,h,m,y){this.asyncQueue=s,this.timerId=l,this.targetTimeMs=h,this.op=m,this.removalCallback=y,this.deferred=new sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(b){})}return a.createAndSchedule=function(s,l,h,m,y){var b=new a(s,l,Date.now()+h,m,y);return b.start(h),b},a.prototype.start=function(s){var l=this;this.timerHandle=setTimeout(function(){return l.handleDelayElapsed()},s)},a.prototype.skipDelay=function(){return this.handleDelayElapsed()},a.prototype.cancel=function(s){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ee(oe.CANCELLED,"Operation cancelled"+(s?": "+s:""))))},a.prototype.handleDelayElapsed=function(){var s=this;this.asyncQueue.enqueueAndForget(function(){return null!==s.timerHandle?(s.clearTimeout(),s.op().then(function(l){return s.deferred.resolve(l)})):Promise.resolve()})},a.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},a}();function Ba(a,s){if(mr("AsyncQueue",s+": "+a),Ps(a))return new Ee(oe.UNAVAILABLE,s+": "+a);throw a}var jc=function(){function a(s){this.comparator=s?function(l,h){return s(l,h)||Le.comparator(l.key,h.key)}:function(l,h){return Le.comparator(l.key,h.key)},this.keyedMap=Qr(),this.sortedSet=new kn(this.comparator)}return a.emptySet=function(s){return new a(s.comparator)},a.prototype.has=function(s){return null!=this.keyedMap.get(s)},a.prototype.get=function(s){return this.keyedMap.get(s)},a.prototype.first=function(){return this.sortedSet.minKey()},a.prototype.last=function(){return this.sortedSet.maxKey()},a.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},a.prototype.indexOf=function(s){var l=this.keyedMap.get(s);return l?this.sortedSet.indexOf(l):-1},Object.defineProperty(a.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),a.prototype.forEach=function(s){this.sortedSet.inorderTraversal(function(l,h){return s(l),!1})},a.prototype.add=function(s){var l=this.delete(s.key);return l.copy(l.keyedMap.insert(s.key,s),l.sortedSet.insert(s,null))},a.prototype.delete=function(s){var l=this.get(s);return l?this.copy(this.keyedMap.remove(s),this.sortedSet.remove(l)):this},a.prototype.isEqual=function(s){if(!(s instanceof a)||this.size!==s.size)return!1;for(var l=this.sortedSet.getIterator(),h=s.sortedSet.getIterator();l.hasNext();){var m=l.getNext().key,y=h.getNext().key;if(!m.isEqual(y))return!1}return!0},a.prototype.toString=function(){var s=[];return this.forEach(function(l){s.push(l.toString())}),0===s.length?"DocumentSet ()":"DocumentSet (\n  "+s.join("  \n")+"\n)"},a.prototype.copy=function(s,l){var h=new a;return h.comparator=this.comparator,h.keyedMap=s,h.sortedSet=l,h},a}(),Dh=function(){function a(){this.Qr=new kn(Le.comparator)}return a.prototype.track=function(s){var l=s.doc.key,h=this.Qr.get(l);h?0!==s.type&&3===h.type?this.Qr=this.Qr.insert(l,s):3===s.type&&1!==h.type?this.Qr=this.Qr.insert(l,{type:h.type,doc:s.doc}):2===s.type&&2===h.type?this.Qr=this.Qr.insert(l,{type:2,doc:s.doc}):2===s.type&&0===h.type?this.Qr=this.Qr.insert(l,{type:0,doc:s.doc}):1===s.type&&0===h.type?this.Qr=this.Qr.remove(l):1===s.type&&2===h.type?this.Qr=this.Qr.insert(l,{type:1,doc:h.doc}):0===s.type&&1===h.type?this.Qr=this.Qr.insert(l,{type:2,doc:s.doc}):tt():this.Qr=this.Qr.insert(l,s)},a.prototype.jr=function(){var s=[];return this.Qr.inorderTraversal(function(l,h){s.push(h)}),s},a}(),Uc=function(){function a(s,l,h,m,y,b,C,T){this.query=s,this.docs=l,this.oldDocs=h,this.docChanges=m,this.mutatedKeys=y,this.fromCache=b,this.syncStateChanged=C,this.excludesMetadataChanges=T}return a.fromInitialDocuments=function(s,l,h,m){var y=[];return l.forEach(function(b){y.push({type:0,doc:b})}),new a(s,l,jc.emptySet(l),y,h,m,!0,!1)},Object.defineProperty(a.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),a.prototype.isEqual=function(s){if(!(this.fromCache===s.fromCache&&this.syncStateChanged===s.syncStateChanged&&this.mutatedKeys.isEqual(s.mutatedKeys)&&xl(this.query,s.query)&&this.docs.isEqual(s.docs)&&this.oldDocs.isEqual(s.oldDocs)))return!1;var l=this.docChanges,h=s.docChanges;if(l.length!==h.length)return!1;for(var m=0;m<l.length;m++)if(l[m].type!==h[m].type||!l[m].doc.isEqual(h[m].doc))return!1;return!0},a}(),Zl=function(){this.Wr=void 0,this.listeners=[]},py=function(){this.queries=new Rc(function(a){return Dg(a)},xl),this.onlineState="Unknown",this.Gr=new Set};function Sh(a,s){return(0,I.mG)(this,void 0,void 0,function(){var l,h,m,y,b,C,T;return(0,I.Jh)(this,function(O){switch(O.label){case 0:if(l=Be(a),m=!1,(y=l.queries.get(h=s.query))||(m=!0,y=new Zl),!m)return[3,4];O.label=1;case 1:return O.trys.push([1,3,,4]),b=y,[4,l.onListen(h)];case 2:return b.Wr=O.sent(),[3,4];case 3:return C=O.sent(),T=Ba(C,"Initialization of query '"+lt(s.query)+"' failed"),[2,void s.onError(T)];case 4:return l.queries.set(h,y),y.listeners.push(s),s.zr(l.onlineState),y.Wr&&s.Hr(y.Wr)&&Qf(l),[2]}})})}function Xl(a,s){return(0,I.mG)(this,void 0,void 0,function(){var l,h,m,y,b;return(0,I.Jh)(this,function(C){return l=Be(a),m=!1,(y=l.queries.get(h=s.query))&&(b=y.listeners.indexOf(s))>=0&&(y.listeners.splice(b,1),m=0===y.listeners.length),m?[2,(l.queries.delete(h),l.onUnlisten(h))]:[2]})})}function my(a,s){for(var l=Be(a),h=!1,m=0,y=s;m<y.length;m++){var b=y[m],T=l.queries.get(b.query);if(T){for(var O=0,P=T.listeners;O<P.length;O++)P[O].Hr(b)&&(h=!0);T.Wr=b}}h&&Qf(l)}function gy(a,s,l){var h=Be(a),m=h.queries.get(s);if(m)for(var y=0,b=m.listeners;y<b.length;y++)b[y].onError(l);h.queries.delete(s)}function Qf(a){a.Gr.forEach(function(s){s.next()})}var Ih=function(){function a(s,l,h){this.query=s,this.Jr=l,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=h||{}}return a.prototype.Hr=function(s){if(!this.options.includeMetadataChanges){for(var l=[],h=0,m=s.docChanges;h<m.length;h++){var y=m[h];3!==y.type&&l.push(y)}s=new Uc(s.query,s.docs,s.oldDocs,l,s.mutatedKeys,s.fromCache,s.syncStateChanged,!0)}var b=!1;return this.Yr?this.Zr(s)&&(this.Jr.next(s),b=!0):this.eo(s,this.onlineState)&&(this.no(s),b=!0),this.Xr=s,b},a.prototype.onError=function(s){this.Jr.error(s)},a.prototype.zr=function(s){this.onlineState=s;var l=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,s)&&(this.no(this.Xr),l=!0),l},a.prototype.eo=function(s,l){return!s.fromCache||!(this.options.so&&"Offline"!==l||s.docs.isEmpty()&&"Offline"!==l)},a.prototype.Zr=function(s){return s.docChanges.length>0||!!(s.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==s.hasPendingWrites)&&!0===this.options.includeMetadataChanges},a.prototype.no=function(s){s=Uc.fromInitialDocuments(s.query,s.docs,s.mutatedKeys,s.fromCache),this.Yr=!0,this.Jr.next(s)},a}(),Th=function(){function a(s,l){this.payload=s,this.byteLength=l}return a.prototype.io=function(){return"metadata"in this.payload},a}(),Ql=function(){function a(s){this.R=s}return a.prototype.qn=function(s){return ks(this.R,s)},a.prototype.Un=function(s){return s.metadata.exists?Du(this.R,s.document,!1):Fi.newNoDocument(this.qn(s.metadata.name),this.Kn(s.metadata.readTime))},a.prototype.Kn=function(s){return ai(s)},a}();!function(){function a(s,l,h){this.ro=s,this.localStore=l,this.R=h,this.queries=[],this.documents=[],this.progress=function ev(a){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:a.totalDocuments,totalBytes:a.totalBytes}}(s)}a.prototype.oo=function(s){this.progress.bytesLoaded+=s.byteLength;var l=this.progress.documentsLoaded;return s.payload.namedQuery?this.queries.push(s.payload.namedQuery):s.payload.documentMetadata?(this.documents.push({metadata:s.payload.documentMetadata}),s.payload.documentMetadata.exists||++l):s.payload.document&&(this.documents[this.documents.length-1].document=s.payload.document,++l),l!==this.progress.documentsLoaded?(this.progress.documentsLoaded=l,Object.assign({},this.progress)):null},a.prototype.co=function(s){for(var l=new Map,h=new Ql(this.R),m=0,y=s;m<y.length;m++){var b=y[m];if(b.metadata.queries)for(var C=h.qn(b.metadata.name),T=0,O=b.metadata.queries;T<O.length;T++){var P=O[T],B=(l.get(P)||On()).add(C);l.set(P,B)}}return l},a.prototype.complete=function(){return(0,I.mG)(this,void 0,void 0,function(){var s,l,h,m,y;return(0,I.Jh)(this,function(b){switch(b.label){case 0:return[4,Gg(this.localStore,new Ql(this.R),this.documents,this.ro.id)];case 1:s=b.sent(),l=this.co(this.documents),h=0,m=this.queries,b.label=2;case 2:return h<m.length?[4,hh(this.localStore,y=m[h],l.get(y.name))]:[3,5];case 3:b.sent(),b.label=4;case 4:return h++,[3,2];case 5:return[2,(this.progress.taskState="Success",new un(Object.assign({},this.progress),s))]}})})}}();var Jf=function(a){this.key=a},vy=function(a){this.key=a},ep=function(){function a(s,l){this.query=s,this.uo=l,this.ao=null,this.current=!1,this.ho=On(),this.mutatedKeys=On(),this.lo=Sg(s),this.fo=new jc(this.lo)}return Object.defineProperty(a.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),a.prototype._o=function(s,l){var h=this,m=l?l.mo:new Dh,y=l?l.fo:this.fo,b=l?l.mutatedKeys:this.mutatedKeys,C=y,T=!1,O=Gd(this.query)&&y.size===this.query.limit?y.last():null,P=gu(this.query)&&y.size===this.query.limit?y.first():null;if(s.inorderTraversal(function(z,re){var ne=y.get(z),he=Ta(h.query,re)?re:null,Re=!!ne&&h.mutatedKeys.has(ne.key),Fe=!!he&&(he.hasLocalMutations||h.mutatedKeys.has(he.key)&&he.hasCommittedMutations),dt=!1;ne&&he?ne.data.isEqual(he.data)?Re!==Fe&&(m.track({type:3,doc:he}),dt=!0):h.yo(ne,he)||(m.track({type:2,doc:he}),dt=!0,(O&&h.lo(he,O)>0||P&&h.lo(he,P)<0)&&(T=!0)):!ne&&he?(m.track({type:0,doc:he}),dt=!0):ne&&!he&&(m.track({type:1,doc:ne}),dt=!0,(O||P)&&(T=!0)),dt&&(he?(C=C.add(he),b=Fe?b.add(z):b.delete(z)):(C=C.delete(z),b=b.delete(z)))}),Gd(this.query)||gu(this.query))for(;C.size>this.query.limit;){var B=Gd(this.query)?C.last():C.first();C=C.delete(B.key),b=b.delete(B.key),m.track({type:1,doc:B})}return{fo:C,mo:m,Nn:T,mutatedKeys:b}},a.prototype.yo=function(s,l){return s.hasLocalMutations&&l.hasCommittedMutations&&!l.hasLocalMutations},a.prototype.applyChanges=function(s,l,h){var m=this,y=this.fo;this.fo=s.fo,this.mutatedKeys=s.mutatedKeys;var b=s.mo.jr();b.sort(function(P,B){return re=B.type,(ne=function(he){switch(he){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tt()}})(P.type)-ne(re)||m.lo(P.doc,B.doc);var re,ne}),this.po(h);var C=l?this.Eo():[],T=0===this.ho.size&&this.current?1:0,O=T!==this.ao;return this.ao=T,0!==b.length||O?{snapshot:new Uc(this.query,s.fo,y,b,s.mutatedKeys,0===T,O,!1),To:C}:{To:C}},a.prototype.zr=function(s){return this.current&&"Offline"===s?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Dh,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},a.prototype.Io=function(s){return!this.uo.has(s)&&!!this.fo.has(s)&&!this.fo.get(s).hasLocalMutations},a.prototype.po=function(s){var l=this;s&&(s.addedDocuments.forEach(function(h){return l.uo=l.uo.add(h)}),s.modifiedDocuments.forEach(function(h){}),s.removedDocuments.forEach(function(h){return l.uo=l.uo.delete(h)}),this.current=s.current)},a.prototype.Eo=function(){var s=this;if(!this.current)return[];var l=this.ho;this.ho=On(),this.fo.forEach(function(m){s.Io(m.key)&&(s.ho=s.ho.add(m.key))});var h=[];return l.forEach(function(m){s.ho.has(m)||h.push(new vy(m))}),this.ho.forEach(function(m){l.has(m)||h.push(new Jf(m))}),h},a.prototype.Ao=function(s){this.uo=s.Bn,this.ho=On();var l=this._o(s.documents);return this.applyChanges(l,!0)},a.prototype.Ro=function(){return Uc.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},a}(),Em=function(a,s,l){this.query=a,this.targetId=s,this.view=l},tp=function(a){this.key=a,this.bo=!1},ed=function(){function a(s,l,h,m,y,b){this.localStore=s,this.remoteStore=l,this.eventManager=h,this.sharedClientState=m,this.currentUser=y,this.maxConcurrentLimboResolutions=b,this.vo={},this.Po=new Rc(function(C){return Dg(C)},xl),this.Vo=new Map,this.So=new Set,this.Do=new kn(Le.comparator),this.Co=new Map,this.No=new mm,this.xo={},this.ko=new Map,this.Fo=uh.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(a.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),a}();function Ah(a,s){return(0,I.mG)(this,void 0,void 0,function(){var l,m,y,b,C;return(0,I.Jh)(this,function(T){switch(T.label){case 0:return l=Oh(a),(y=l.Po.get(s))?(l.sharedClientState.addLocalQueryTarget(y.targetId),m=y.view.Ro(),[3,4]):[3,1];case 1:return[4,Oc(l.localStore,bi(s))];case 2:return b=T.sent(),C=l.sharedClientState.addLocalQueryTarget(b.targetId),[4,td(l,s,b.targetId,"current"===C)];case 3:m=T.sent(),l.isPrimaryClient&&Yf(l.remoteStore,b),T.label=4;case 4:return[2,m]}})})}function td(a,s,l,h){return(0,I.mG)(this,void 0,void 0,function(){var m,y,b,C,T,O;return(0,I.Jh)(this,function(P){switch(P.label){case 0:return a.Oo=function(B,z,re){return function(ne,he,Re,Fe){return(0,I.mG)(this,void 0,void 0,function(){var dt,mt,dn;return(0,I.Jh)(this,function(bn){switch(bn.label){case 0:return(dt=he.view._o(Re)).Nn?[4,Hl(ne.localStore,he.query,!1).then(function($n){return he.view._o($n.documents,dt)})]:[3,2];case 1:dt=bn.sent(),bn.label=2;case 2:return mt=Fe&&Fe.targetChanges.get(he.targetId),dn=he.view.applyChanges(dt,ne.isPrimaryClient,mt),[2,(rp(ne,he.targetId,dn.To),dn.snapshot)]}})})}(a,B,z,re)},[4,Hl(a.localStore,s,!0)];case 1:return m=P.sent(),y=new ep(s,m.Bn),b=y._o(m.documents),C=wu.createSynthesizedTargetChangeForCurrentChange(l,h&&"Offline"!==a.onlineState),T=y.applyChanges(b,a.isPrimaryClient,C),rp(a,l,T.To),O=new Em(s,l,y),[2,(a.Po.set(s,O),a.Vo.has(l)?a.Vo.get(l).push(s):a.Vo.set(l,[s]),T.snapshot)]}})})}function Mh(a,s){return(0,I.mG)(this,void 0,void 0,function(){var l,h,m;return(0,I.Jh)(this,function(y){switch(y.label){case 0:return l=Be(a),h=l.Po.get(s),(m=l.Vo.get(h.targetId)).length>1?[2,(l.Vo.set(h.targetId,m.filter(function(b){return!xl(b,s)})),void l.Po.delete(s))]:l.isPrimaryClient?(l.sharedClientState.removeLocalQueryTarget(h.targetId),l.sharedClientState.isActiveQueryTarget(h.targetId)?[3,2]:[4,xu(l.localStore,h.targetId,!1).then(function(){l.sharedClientState.clearQueryState(h.targetId),Wl(l.remoteStore,h.targetId),Di(l,h.targetId)}).catch(xc)]):[3,3];case 1:y.sent(),y.label=2;case 2:return[3,5];case 3:return Di(l,h.targetId),[4,xu(l.localStore,h.targetId,!0)];case 4:y.sent(),y.label=5;case 5:return[2]}})})}function np(a,s,l){return(0,I.mG)(this,void 0,void 0,function(){var h,m,y,b;return(0,I.Jh)(this,function(C){switch(C.label){case 0:h=sp(a),C.label=1;case 1:return C.trys.push([1,5,,6]),[4,(T=h.localStore,O=s,B=Be(T),z=Oi.now(),re=O.reduce(function(ne,he){return ne.add(he.key)},On()),B.persistence.runTransaction("Locally write mutations","readwrite",function(ne){return B.Mn.pn(ne,re).next(function(he){P=he;for(var Re=[],Fe=0,dt=O;Fe<dt.length;Fe++){var mt=dt[Fe],dn=wi(mt,P.get(mt.key));null!=dn&&Re.push(new Hn(mt.key,dn,Qv(dn.value.mapValue),vr.exists(!0)))}return B._n.addMutationBatch(ne,z,Re,O)})}).then(function(ne){return ne.applyToLocalDocumentSet(P),{batchId:ne.batchId,changes:P}}))];case 2:return m=C.sent(),h.sharedClientState.addPendingMutation(m.batchId),function(T,O,P){var B=T.xo[T.currentUser.toKey()];B||(B=new kn(nt)),B=B.insert(O,P),T.xo[T.currentUser.toKey()]=B}(h,m.batchId,l),[4,ja(h,m.changes)];case 3:return C.sent(),[4,wh(h.remoteStore)];case 4:return C.sent(),[3,6];case 5:return y=C.sent(),b=Ba(y,"Failed to persist write"),l.reject(b),[3,6];case 6:return[2]}var T,O,P,B,z,re})})}function Cm(a,s){return(0,I.mG)(this,void 0,void 0,function(){var l,h;return(0,I.Jh)(this,function(m){switch(m.label){case 0:l=Be(a),m.label=1;case 1:return m.trys.push([1,4,,6]),[4,$g(l.localStore,s)];case 2:return h=m.sent(),s.targetChanges.forEach(function(y,b){var C=l.Co.get(b);C&&(ct(y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size<=1),y.addedDocuments.size>0?C.bo=!0:y.modifiedDocuments.size>0?ct(C.bo):y.removedDocuments.size>0&&(ct(C.bo),C.bo=!1))}),[4,ja(l,h,s)];case 3:return m.sent(),[3,6];case 4:return[4,xc(m.sent())];case 5:return m.sent(),[3,6];case 6:return[2]}})})}function Ou(a,s,l){var h=Be(a);if(h.isPrimaryClient&&0===l||!h.isPrimaryClient&&1===l){var m=[];h.Po.forEach(function(y,b){var C=b.view.zr(s);C.snapshot&&m.push(C.snapshot)}),function(y,b){var C=Be(y);C.onlineState=b;var T=!1;C.queries.forEach(function(O,P){for(var B=0,z=P.listeners;B<z.length;B++)z[B].zr(b)&&(T=!0)}),T&&Qf(C)}(h.eventManager,s),m.length&&h.vo._r(m),h.onlineState=s,h.isPrimaryClient&&h.sharedClientState.setOnlineState(s)}}function tv(a,s,l){return(0,I.mG)(this,void 0,void 0,function(){var h,m,y,b,C,T;return(0,I.Jh)(this,function(O){switch(O.label){case 0:return(h=Be(a)).sharedClientState.updateQueryState(s,"rejected",l),m=h.Co.get(s),(y=m&&m.key)?(b=(b=new kn(Le.comparator)).insert(y,Fi.newNoDocument(y,xt.min())),C=On().add(y),T=new Ol(xt.min(),new Map,new Zn(nt),b,C),[4,Cm(h,T)]):[3,2];case 1:return O.sent(),h.Do=h.Do.remove(y),h.Co.delete(s),Sm(h),[3,4];case 2:return[4,xu(h.localStore,s,!1).then(function(){return Di(h,s,l)}).catch(xc)];case 3:O.sent(),O.label=4;case 4:return[2]}})})}function Dm(a,s){return(0,I.mG)(this,void 0,void 0,function(){var l,h,m;return(0,I.Jh)(this,function(y){switch(y.label){case 0:l=Be(a),h=s.batch.batchId,y.label=1;case 1:return y.trys.push([1,4,,6]),[4,fm(l.localStore,s)];case 2:return m=y.sent(),Hi(l,h,null),xh(l,h),l.sharedClientState.updateMutationState(h,"acknowledged"),[4,ja(l,m)];case 3:return y.sent(),[3,6];case 4:return[4,xc(y.sent())];case 5:return y.sent(),[3,6];case 6:return[2]}})})}function nv(a,s,l){return(0,I.mG)(this,void 0,void 0,function(){var h,m;return(0,I.Jh)(this,function(y){switch(y.label){case 0:h=Be(a),y.label=1;case 1:return y.trys.push([1,4,,6]),[4,(b=h.localStore,C=s,T=Be(b),T.persistence.runTransaction("Reject batch","readwrite-primary",function(O){var P;return T._n.lookupMutationBatch(O,C).next(function(B){return ct(null!==B),P=B.keys(),T._n.removeMutationBatch(O,B)}).next(function(){return T._n.performConsistencyCheck(O)}).next(function(){return T.Mn.pn(O,P)})}))];case 2:return m=y.sent(),Hi(h,s,l),xh(h,s),h.sharedClientState.updateMutationState(s,"rejected",l),[4,ja(h,m)];case 3:return y.sent(),[3,6];case 4:return[4,xc(y.sent())];case 5:return y.sent(),[3,6];case 6:return[2]}var b,C,T})})}function rv(a,s){return(0,I.mG)(this,void 0,void 0,function(){var l,h,m,y,b;return(0,I.Jh)(this,function(C){switch(C.label){case 0:ns((l=Be(a)).remoteStore)||Ce("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),C.label=1;case 1:return C.trys.push([1,3,,4]),[4,(T=l.localStore,O=Be(T),O.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(P){return O._n.getHighestUnacknowledgedBatchId(P)}))];case 2:return-1===(h=C.sent())?[2,void s.resolve()]:((m=l.ko.get(h)||[]).push(s),l.ko.set(h,m),[3,4]);case 3:return y=C.sent(),b=Ba(y,"Initialization of waitForPendingWrites() operation failed"),s.reject(b),[3,4];case 4:return[2]}var T,O})})}function xh(a,s){(a.ko.get(s)||[]).forEach(function(l){l.resolve()}),a.ko.delete(s)}function Hi(a,s,l){var h=Be(a),m=h.xo[h.currentUser.toKey()];if(m){var y=m.get(s);y&&(l?y.reject(l):y.resolve(),m=m.remove(s)),h.xo[h.currentUser.toKey()]=m}}function Di(a,s,l){void 0===l&&(l=null),a.sharedClientState.removeLocalQueryTarget(s);for(var h=0,m=a.Vo.get(s);h<m.length;h++){var y=m[h];a.Po.delete(y),l&&a.vo.Mo(y,l)}a.Vo.delete(s),a.isPrimaryClient&&a.No.Zn(s).forEach(function(b){a.No.containsKey(b)||Rh(a,b)})}function Rh(a,s){a.So.delete(s.path.canonicalString());var l=a.Do.get(s);null!==l&&(Wl(a.remoteStore,l),a.Do=a.Do.remove(s),a.Co.delete(l),Sm(a))}function rp(a,s,l){for(var h=0,m=l;h<m.length;h++){var y=m[h];y instanceof Jf?(a.No.addReference(y.key,s),ip(a,y)):y instanceof vy?(Ce("SyncEngine","Document no longer in limbo: "+y.key),a.No.removeReference(y.key,s),a.No.containsKey(y.key)||Rh(a,y.key)):tt()}}function ip(a,s){var l=s.key,h=l.path.canonicalString();a.Do.get(l)||a.So.has(h)||(Ce("SyncEngine","New document in limbo: "+l),a.So.add(h),Sm(a))}function Sm(a){for(;a.So.size>0&&a.Do.size<a.maxConcurrentLimboResolutions;){var s=a.So.values().next().value;a.So.delete(s);var l=new Le(Kt.fromString(s)),h=a.Fo.next();a.Co.set(h,new tp(l)),a.Do=a.Do.insert(l,h),Yf(a.remoteStore,new ih(bi(Zr(l.path)),h,2,jn.o))}}function ja(a,s,l){return(0,I.mG)(this,void 0,void 0,function(){var h,m,y,b;return(0,I.Jh)(this,function(C){switch(C.label){case 0:return h=Be(a),m=[],y=[],b=[],h.Po.isEmpty()?[3,3]:(h.Po.forEach(function(T,O){b.push(h.Oo(O,s,l).then(function(P){if(P){h.isPrimaryClient&&h.sharedClientState.updateQueryState(O.targetId,P.fromCache?"not-current":"current"),m.push(P);var B=Hg.Pn(O.targetId,P);y.push(B)}}))}),[4,Promise.all(b)]);case 1:return C.sent(),h.vo._r(m),[4,function(T,O){return(0,I.mG)(this,void 0,void 0,function(){var P,B,z,re,ne,he,Re,dt;return(0,I.Jh)(this,function(mt){switch(mt.label){case 0:P=Be(T),mt.label=1;case 1:return mt.trys.push([1,3,,4]),[4,P.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(dn){return Te.forEach(O,function(bn){return Te.forEach(bn.bn,function($n){return P.persistence.referenceDelegate.addReference(dn,bn.targetId,$n)}).next(function(){return Te.forEach(bn.vn,function($n){return P.persistence.referenceDelegate.removeReference(dn,bn.targetId,$n)})})})})];case 2:return mt.sent(),[3,4];case 3:if(!Ps(B=mt.sent()))throw B;return Ce("LocalStore","Failed to update sequence numbers: "+B),[3,4];case 4:for(z=0,re=O;z<re.length;z++)he=(ne=re[z]).targetId,ne.fromCache||(Re=P.kn.get(he),dt=Re.withLastLimboFreeSnapshotVersion(Re.snapshotVersion),P.kn=P.kn.insert(he,dt));return[2]}})})}(h.localStore,y)];case 2:C.sent(),C.label=3;case 3:return[2]}})})}function iv(a,s){return(0,I.mG)(this,void 0,void 0,function(){var l,h;return(0,I.Jh)(this,function(m){switch(m.label){case 0:return(l=Be(a)).currentUser.isEqual(s)?[3,3]:(Ce("SyncEngine","User change. New user:",s.toKey()),[4,zf(l.localStore,s)]);case 1:return h=m.sent(),l.currentUser=s,(y=l).ko.forEach(function(C){C.forEach(function(T){T.reject(new Ee(oe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),y.ko.clear(),l.sharedClientState.handleUserChange(s,h.removedBatchIds,h.addedBatchIds),[4,ja(l,h.Ln)];case 2:m.sent(),m.label=3;case 3:return[2]}var y})})}function Nu(a,s){var l=Be(a),h=l.Co.get(s);if(h&&h.bo)return On().add(h.key);var m=On(),y=l.Vo.get(s);if(!y)return m;for(var b=0,C=y;b<C.length;b++){var O=l.Po.get(C[b]);m=m.unionWith(O.view.wo)}return m}function yy(a,s){return(0,I.mG)(this,void 0,void 0,function(){var l,h,m;return(0,I.Jh)(this,function(y){switch(y.label){case 0:return[4,Hl((l=Be(a)).localStore,s.query,!0)];case 1:return h=y.sent(),m=s.view.Ao(h),[2,(l.isPrimaryClient&&rp(l,s.targetId,m.To),m)]}})})}function ov(a){return(0,I.mG)(this,void 0,void 0,function(){var s;return(0,I.Jh)(this,function(l){return[2,dh((s=Be(a)).localStore).then(function(h){return ja(s,h)})]})})}function _y(a,s,l,h){return(0,I.mG)(this,void 0,void 0,function(){var m,y;return(0,I.Jh)(this,function(b){switch(b.label){case 0:return[4,(C=(m=Be(a)).localStore,T=s,O=Be(C),P=Be(O._n),O.persistence.runTransaction("Lookup mutation documents","readonly",function(B){return P.jt(B,T).next(function(z){return z?O.Mn.pn(B,z):Te.resolve(null)})}))];case 1:return null===(y=b.sent())?[3,6]:"pending"!==l?[3,3]:[4,wh(m.remoteStore)];case 2:return b.sent(),[3,4];case 3:"acknowledged"===l||"rejected"===l?(Hi(m,s,h||null),xh(m,s),function(C,T){Be(Be(C)._n).Gt(T)}(m.localStore,s)):tt(),b.label=4;case 4:return[4,ja(m,y)];case 5:return b.sent(),[3,7];case 6:Ce("SyncEngine","Cannot apply mutation batch with id: "+s),b.label=7;case 7:return[2]}var C,T,O,P})})}function sv(a,s){return(0,I.mG)(this,void 0,void 0,function(){var l,h,m,y,b,T,O;return(0,I.Jh)(this,function(P){switch(P.label){case 0:return Oh(l=Be(a)),sp(l),!0!==s||!0===l.$o?[3,3]:(h=l.sharedClientState.getAllActiveQueryTargets(),[4,Hc(l,h.toArray())]);case 1:return m=P.sent(),l.$o=!0,[4,Ch(l.remoteStore,!0)];case 2:for(P.sent(),y=0,b=m;y<b.length;y++)Yf(l.remoteStore,b[y]);return[3,7];case 3:return!1!==s||!1===l.$o?[3,7]:(T=[],O=Promise.resolve(),l.Vo.forEach(function(B,z){l.sharedClientState.isLocalQueryTarget(z)?T.push(z):O=O.then(function(){return Di(l,z),xu(l.localStore,z,!0)}),Wl(l.remoteStore,z)}),[4,O]);case 4:return P.sent(),[4,Hc(l,T)];case 5:return P.sent(),(z=Be(l)).Co.forEach(function(re,ne){Wl(z.remoteStore,ne)}),z.No.ts(),z.Co=new Map,z.Do=new kn(Le.comparator),l.$o=!1,[4,Ch(l.remoteStore,!1)];case 6:P.sent(),P.label=7;case 7:return[2]}var z})})}function Hc(a,s,l){return(0,I.mG)(this,void 0,void 0,function(){var h,m,y,b,C,T,O,P,B,z,ne,he,Re;return(0,I.Jh)(this,function(Fe){switch(Fe.label){case 0:h=Be(a),m=[],y=[],b=0,C=s,Fe.label=1;case 1:return b<C.length?(O=void 0,(P=h.Vo.get(T=C[b]))&&0!==P.length?[4,Oc(h.localStore,bi(P[0]))]:[3,7]):[3,13];case 2:O=Fe.sent(),B=0,z=P,Fe.label=3;case 3:return B<z.length?(ne=h.Po.get(z[B]),[4,yy(h,ne)]):[3,6];case 4:(he=Fe.sent()).snapshot&&y.push(he.snapshot),Fe.label=5;case 5:return B++,[3,3];case 6:return[3,11];case 7:return[4,$f(h.localStore,T)];case 8:return Re=Fe.sent(),[4,Oc(h.localStore,Re)];case 9:return O=Fe.sent(),[4,td(h,rs(Re),T,!1)];case 10:Fe.sent(),Fe.label=11;case 11:m.push(O),Fe.label=12;case 12:return b++,[3,1];case 13:return[2,(h.vo._r(y),m)]}})})}function rs(a){return mu(a.path,a.collectionGroup,a.orderBy,a.filters,a.limit,"F",a.startAt,a.endAt)}function kh(a){var s=Be(a);return Be(Be(s.localStore).persistence).fn()}function op(a,s,l,h){return(0,I.mG)(this,void 0,void 0,function(){var m,y,b;return(0,I.Jh)(this,function(C){switch(C.label){case 0:return(m=Be(a)).$o?(Ce("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!m.Vo.has(s))return[3,8];switch(l){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,dh(m.localStore)];case 3:return y=C.sent(),b=Ol.createSynthesizedRemoteEventForCurrentChange(s,"current"===l),[4,ja(m,y,b)];case 4:return C.sent(),[3,8];case 5:return[4,xu(m.localStore,s,!0)];case 6:return C.sent(),Di(m,s,h),[3,8];case 7:tt(),C.label=8;case 8:return[2]}})})}function Im(a,s,l){return(0,I.mG)(this,void 0,void 0,function(){var h,m,y,b,C,T,O,P,B;return(0,I.Jh)(this,function(re){switch(re.label){case 0:if(!(h=Oh(a)).$o)return[3,10];m=0,y=s,re.label=1;case 1:return m<y.length?h.Vo.has(b=y[m])?(Ce("SyncEngine","Adding an already active target "+b),[3,5]):[4,$f(h.localStore,b)]:[3,6];case 2:return C=re.sent(),[4,Oc(h.localStore,C)];case 3:return T=re.sent(),[4,td(h,rs(C),T.targetId,!1)];case 4:re.sent(),Yf(h.remoteStore,T),re.label=5;case 5:return m++,[3,1];case 6:O=function(ne){return(0,I.Jh)(this,function(he){switch(he.label){case 0:return h.Vo.has(ne)?[4,xu(h.localStore,ne,!1).then(function(){Wl(h.remoteStore,ne),Di(h,ne)}).catch(xc)]:[3,2];case 1:he.sent(),he.label=2;case 2:return[2]}})},P=0,B=l,re.label=7;case 7:return P<B.length?[5,O(B[P])]:[3,10];case 8:re.sent(),re.label=9;case 9:return P++,[3,7];case 10:return[2]}})})}function Oh(a){var s=Be(a);return s.remoteStore.remoteSyncer.applyRemoteEvent=Cm.bind(null,s),s.remoteStore.remoteSyncer.getRemoteKeysForTarget=Nu.bind(null,s),s.remoteStore.remoteSyncer.rejectListen=tv.bind(null,s),s.vo._r=my.bind(null,s.eventManager),s.vo.Mo=gy.bind(null,s.eventManager),s}function sp(a){var s=Be(a);return s.remoteStore.remoteSyncer.applySuccessfulWrite=Dm.bind(null,s),s.remoteStore.remoteSyncer.rejectFailedWrite=nv.bind(null,s),s}var av=function(){function a(){this.synchronizeTabs=!1}return a.prototype.initialize=function(s){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(l){switch(l.label){case 0:return this.R=Fs(s.databaseInfo.databaseId),this.sharedClientState=this.Bo(s),this.persistence=this.qo(s),[4,this.persistence.start()];case 1:return l.sent(),this.gcScheduler=this.Uo(s),this.localStore=this.Ko(s),[2]}})})},a.prototype.Uo=function(s){return null},a.prototype.Ko=function(s){return zg(this.persistence,new ly,s.initialUser,this.R)},a.prototype.qo=function(s){return new Ci(gm.bs,this.R)},a.prototype.Bo=function(s){return new La},a.prototype.terminate=function(){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(s){switch(s.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return s.sent(),[4,this.persistence.shutdown()];case 2:return s.sent(),[2]}})})},a}(),ap=function(a){function s(l,h,m){var y=this;return(y=a.call(this)||this).Qo=l,y.cacheSizeBytes=h,y.forceOwnership=m,y.synchronizeTabs=!1,y}return(0,I.ZT)(s,a),s.prototype.initialize=function(l){return(0,I.mG)(this,void 0,void 0,function(){var h=this;return(0,I.Jh)(this,function(m){switch(m.label){case 0:return[4,a.prototype.initialize.call(this,l)];case 1:return m.sent(),[4,qg(this.localStore)];case 2:return m.sent(),[4,this.Qo.initialize(this,l)];case 3:return m.sent(),[4,sp(this.Qo.syncEngine)];case 4:return m.sent(),[4,wh(this.Qo.remoteStore)];case 5:return m.sent(),[4,this.persistence.He(function(){return h.gcScheduler&&!h.gcScheduler.started&&h.gcScheduler.start(h.localStore),Promise.resolve()})];case 6:return m.sent(),[2]}})})},s.prototype.Ko=function(l){return zg(this.persistence,new ly,l.initialUser,this.R)},s.prototype.Uo=function(l){return new ay(this.persistence.referenceDelegate.garbageCollector,l.asyncQueue)},s.prototype.qo=function(l){var h=lh(l.databaseInfo.databaseId,l.databaseInfo.persistenceKey),m=void 0!==this.cacheSizeBytes?es.withCacheSize(this.cacheSizeBytes):es.DEFAULT;return new dm(this.synchronizeTabs,h,l.clientId,m,l.asyncQueue,Ru(),ku(),this.R,this.sharedClientState,!!this.forceOwnership)},s.prototype.Bo=function(l){return new La},s}(av),Tm=function(a){function s(l,h){var m=this;return(m=a.call(this,l,h,!1)||this).Qo=l,m.cacheSizeBytes=h,m.synchronizeTabs=!0,m}return(0,I.ZT)(s,a),s.prototype.initialize=function(l){return(0,I.mG)(this,void 0,void 0,function(){var h,m=this;return(0,I.Jh)(this,function(y){switch(y.label){case 0:return[4,a.prototype.initialize.call(this,l)];case 1:return y.sent(),h=this.Qo.syncEngine,this.sharedClientState instanceof Fa?(this.sharedClientState.syncEngine={ui:_y.bind(null,h),ai:op.bind(null,h),hi:Im.bind(null,h),fn:kh.bind(null,h),ci:ov.bind(null,h)},[4,this.sharedClientState.start()]):[3,3];case 2:y.sent(),y.label=3;case 3:return[4,this.persistence.He(function(b){return(0,I.mG)(m,void 0,void 0,function(){return(0,I.Jh)(this,function(C){switch(C.label){case 0:return[4,sv(this.Qo.syncEngine,b)];case 1:return C.sent(),this.gcScheduler&&(b&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):b||this.gcScheduler.stop()),[2]}})})})];case 4:return y.sent(),[2]}})})},s.prototype.Bo=function(l){var h=Ru();if(!Fa.yt(h))throw new Ee(oe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var m=lh(l.databaseInfo.databaseId,l.databaseInfo.persistenceKey);return new Fa(h,l.asyncQueue,m,l.clientId,l.initialUser)},s}(ap),up=function(){function a(){}return a.prototype.initialize=function(s,l){return(0,I.mG)(this,void 0,void 0,function(){var h=this;return(0,I.Jh)(this,function(m){switch(m.label){case 0:return this.localStore?[3,2]:(this.localStore=s.localStore,this.sharedClientState=s.sharedClientState,this.datastore=this.createDatastore(l),this.remoteStore=this.createRemoteStore(l),this.eventManager=this.createEventManager(l),this.syncEngine=this.createSyncEngine(l,!s.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(y){return Ou(h.syncEngine,y,1)},this.remoteStore.remoteSyncer.handleCredentialChange=iv.bind(null,this.syncEngine),[4,Ch(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:m.sent(),m.label=2;case 2:return[2]}})})},a.prototype.createEventManager=function(s){return new py},a.prototype.createDatastore=function(s){var h=Fs(s.databaseInfo.databaseId),m=new Kf(s.databaseInfo);return new hy(s.credentials,m,h)},a.prototype.createRemoteStore=function(s){var l,h,m,y,b,C=this;return l=this.localStore,h=this.datastore,m=s.asyncQueue,y=function(T){return Ou(C.syncEngine,T,0)},b=Pc.yt()?new Pc:new Yg,new bm(l,h,m,y,b)},a.prototype.createSyncEngine=function(s,l){return O=l,P=new ed(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,s.initialUser,s.maxConcurrentLimboResolutions),O&&(P.$o=!0),P;var O,P},a.prototype.terminate=function(){return function(s){return(0,I.mG)(this,void 0,void 0,function(){var l;return(0,I.Jh)(this,function(h){switch(h.label){case 0:return l=Be(s),Ce("RemoteStore","RemoteStore shutting down."),l.Or.add(5),[4,Gl(l)];case 1:return h.sent(),l.Lr.shutdown(),l.Br.set("Unknown"),[2]}})})}(this.remoteStore)},a}(),ca=function(){function a(s){this.observer=s,this.muted=!1}return a.prototype.next=function(s){this.observer.next&&this.jo(this.observer.next,s)},a.prototype.error=function(s){this.observer.error?this.jo(this.observer.error,s):console.error("Uncaught Error in snapshot listener:",s)},a.prototype.Wo=function(){this.muted=!0},a.prototype.jo=function(s,l){var h=this;this.muted||setTimeout(function(){h.muted||s(l)},0)},a}(),wy=(function(){function a(s,l){var h=this;this.Go=s,this.R=l,this.metadata=new sr,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(m){m&&m.io()?h.metadata.resolve(m.payload.metadata):h.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(m?.payload)))},function(m){return h.metadata.reject(m)})}a.prototype.close=function(){return this.Go.cancel()},a.prototype.getMetadata=function(){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(s){return[2,this.metadata.promise]})})},a.prototype.Lo=function(){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(s){switch(s.label){case 0:return[4,this.getMetadata()];case 1:return[2,(s.sent(),this.Ho())]}})})},a.prototype.Ho=function(){return(0,I.mG)(this,void 0,void 0,function(){var s,l,h,m;return(0,I.Jh)(this,function(y){switch(y.label){case 0:return[4,this.Jo()];case 1:return null===(s=y.sent())?[2,null]:(l=this.zo.decode(s),h=Number(l),isNaN(h)&&this.Yo("length string ("+l+") is not valid number"),[4,this.Xo(h)]);case 2:return m=y.sent(),[2,new Th(JSON.parse(m),s.length+h)]}})})},a.prototype.Zo=function(){return this.buffer.findIndex(function(s){return s==="{".charCodeAt(0)})},a.prototype.Jo=function(){return(0,I.mG)(this,void 0,void 0,function(){var s,l;return(0,I.Jh)(this,function(h){switch(h.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(h.sent())return[3,3];h.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((s=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),l=this.buffer.slice(0,s),[2,(this.buffer=this.buffer.slice(s),l)])}})})},a.prototype.Xo=function(s){return(0,I.mG)(this,void 0,void 0,function(){var l;return(0,I.Jh)(this,function(h){switch(h.label){case 0:return this.buffer.length<s?[4,this.tc()]:[3,3];case 1:h.sent()&&this.Yo("Reached the end of bundle when more is expected."),h.label=2;case 2:return[3,0];case 3:return l=this.zo.decode(this.buffer.slice(0,s)),[2,(this.buffer=this.buffer.slice(s),l)]}})})},a.prototype.Yo=function(s){throw this.Go.cancel(),new Error("Invalid bundle format: "+s)},a.prototype.tc=function(){return(0,I.mG)(this,void 0,void 0,function(){var s,l;return(0,I.Jh)(this,function(h){switch(h.label){case 0:return[4,this.Go.read()];case 1:return(s=h.sent()).done||((l=new Uint8Array(this.buffer.length+s.value.length)).set(this.buffer),l.set(s.value,this.buffer.length),this.buffer=l),[2,s.done]}})})}}(),function(){function a(s){this.datastore=s,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return a.prototype.lookup=function(s){return(0,I.mG)(this,void 0,void 0,function(){var l,h=this;return(0,I.Jh)(this,function(m){switch(m.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Ee(oe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(y,b){return(0,I.mG)(this,void 0,void 0,function(){var C,T,O,P,B,z;return(0,I.Jh)(this,function(re){switch(re.label){case 0:return C=Be(y),T=Cu(C.R)+"/documents",O={documents:b.map(function(ne){return Zd(C.R,ne)})},[4,C.$i("BatchGetDocuments",T,O)];case 1:return P=re.sent(),B=new Map,P.forEach(function(ne){var Re,Fe,he=(Re=C.R,"found"in(Fe=ne)?function(dt,mt){ct(!!mt.found);var dn=ks(dt,mt.found.name),bn=ai(mt.found.updateTime),$n=new Pi({mapValue:{fields:mt.found.fields}});return Fi.newFoundDocument(dn,bn,$n)}(Re,Fe):"missing"in Fe?function(dt,mt){ct(!!mt.missing),ct(!!mt.readTime);var dn=ks(dt,mt.missing),bn=ai(mt.readTime);return Fi.newNoDocument(dn,bn)}(Re,Fe):tt());B.set(he.key.toString(),he)}),z=[],[2,(b.forEach(function(ne){var he=B.get(ne.toString());ct(!!he),z.push(he)}),z)]}})})}(this.datastore,s)];case 1:return[2,((l=m.sent()).forEach(function(y){return h.recordVersion(y)}),l)]}})})},a.prototype.set=function(s,l){this.write(l.toMutation(s,this.precondition(s))),this.writtenDocs.add(s.toString())},a.prototype.update=function(s,l){try{this.write(l.toMutation(s,this.preconditionForUpdate(s)))}catch(h){this.lastWriteError=h}this.writtenDocs.add(s.toString())},a.prototype.delete=function(s){this.write(new bu(s,this.precondition(s))),this.writtenDocs.add(s.toString())},a.prototype.commit=function(){return(0,I.mG)(this,void 0,void 0,function(){var s,l=this;return(0,I.Jh)(this,function(h){switch(h.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return s=this.readVersions,this.mutations.forEach(function(m){s.delete(m.key.toString())}),s.forEach(function(m,y){var b=Le.fromPath(y);l.mutations.push(new xa(b,l.precondition(b)))}),[4,function(m,y){return(0,I.mG)(this,void 0,void 0,function(){var b,C,T;return(0,I.Jh)(this,function(O){switch(O.label){case 0:return b=Be(m),C=Cu(b.R)+"/documents",T={writes:y.map(function(P){return Su(b.R,P)})},[4,b.Ni("Commit",C,T)];case 1:return O.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return h.sent(),this.committed=!0,[2]}})})},a.prototype.recordVersion=function(s){var l;if(s.isFoundDocument())l=s.version;else{if(!s.isNoDocument())throw tt();l=xt.min()}var h=this.readVersions.get(s.key.toString());if(h){if(!l.isEqual(h))throw new Ee(oe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(s.key.toString(),l)},a.prototype.precondition=function(s){var l=this.readVersions.get(s.toString());return!this.writtenDocs.has(s.toString())&&l?vr.updateTime(l):vr.none()},a.prototype.preconditionForUpdate=function(s){var l=this.readVersions.get(s.toString());if(!this.writtenDocs.has(s.toString())&&l){if(l.isEqual(xt.min()))throw new Ee(oe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return vr.updateTime(l)}return vr.exists(!0)},a.prototype.write=function(s){this.ensureCommitNotCalled(),this.mutations.push(s)},a.prototype.ensureCommitNotCalled=function(){},a}()),cp=function(){function a(s,l,h,m){this.asyncQueue=s,this.datastore=l,this.updateFunction=h,this.deferred=m,this.ec=5,this.Zi=new ql(this.asyncQueue,"transaction_retry")}return a.prototype.run=function(){this.ec-=1,this.nc()},a.prototype.nc=function(){var s=this;this.Zi.ji(function(){return(0,I.mG)(s,void 0,void 0,function(){var l,h,m=this;return(0,I.Jh)(this,function(y){return l=new wy(this.datastore),(h=this.sc(l))&&h.then(function(b){m.asyncQueue.enqueueAndForget(function(){return l.commit().then(function(){m.deferred.resolve(b)}).catch(function(C){m.ic(C)})})}).catch(function(b){m.ic(b)}),[2]})})})},a.prototype.sc=function(s){try{var l=this.updateFunction(s);return!Sa(l)&&l.catch&&l.then?l:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(h){return this.deferred.reject(h),null}},a.prototype.ic=function(s){var l=this;this.ec>0&&this.rc(s)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return l.nc(),Promise.resolve()})):this.deferred.reject(s)},a.prototype.rc=function(s){if("FirebaseError"===s.name){var l=s.code;return"aborted"===l||"failed-precondition"===l||!Ra(l)}return!1},a}(),Mm=function(){function a(s,l,h){var m=this;this.credentials=s,this.asyncQueue=l,this.databaseInfo=h,this.user=zr.UNAUTHENTICATED,this.clientId=_i.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(l,function(y){return(0,I.mG)(m,void 0,void 0,function(){return(0,I.Jh)(this,function(b){switch(b.label){case 0:return Ce("FirestoreClient","Received user=",y.uid),[4,this.credentialListener(y)];case 1:return b.sent(),this.user=y,[2]}})})})}return a.prototype.getConfiguration=function(){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(s){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},a.prototype.setCredentialChangeListener=function(s){this.credentialListener=s},a.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Ee(oe.FAILED_PRECONDITION,"The client has already been terminated.")},a.prototype.terminate=function(){var s=this;this.asyncQueue.enterRestrictedMode();var l=new sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,I.mG)(s,void 0,void 0,function(){var h,m;return(0,I.Jh)(this,function(y){switch(y.label){case 0:return y.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:y.sent(),y.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:y.sent(),y.label=4;case 4:return this.credentials.removeChangeListener(),l.resolve(),[3,6];case 5:return h=y.sent(),m=Ba(h,"Failed to shutdown persistence"),l.reject(m),[3,6];case 6:return[2]}})})}),l.promise},a}();function xm(a,s){return(0,I.mG)(this,void 0,void 0,function(){var l,h,m=this;return(0,I.Jh)(this,function(y){switch(y.label){case 0:return a.asyncQueue.verifyOperationInProgress(),Ce("FirestoreClient","Initializing OfflineComponentProvider"),[4,a.getConfiguration()];case 1:return l=y.sent(),[4,s.initialize(l)];case 2:return y.sent(),h=l.initialUser,a.setCredentialChangeListener(function(b){return(0,I.mG)(m,void 0,void 0,function(){return(0,I.Jh)(this,function(C){switch(C.label){case 0:return h.isEqual(b)?[3,2]:[4,zf(s.localStore,b)];case 1:C.sent(),h=b,C.label=2;case 2:return[2]}})})}),s.persistence.setDatabaseDeletedListener(function(){return a.terminate()}),a.offlineComponents=s,[2]}})})}function zc(a,s){return(0,I.mG)(this,void 0,void 0,function(){var l,h;return(0,I.Jh)(this,function(m){switch(m.label){case 0:return a.asyncQueue.verifyOperationInProgress(),[4,nd(a)];case 1:return l=m.sent(),Ce("FirestoreClient","Initializing OnlineComponentProvider"),[4,a.getConfiguration()];case 2:return h=m.sent(),[4,s.initialize(l,h)];case 3:return m.sent(),a.setCredentialChangeListener(function(y){return function(b,C){return(0,I.mG)(this,void 0,void 0,function(){var T,O;return(0,I.Jh)(this,function(P){switch(P.label){case 0:return(T=Be(b)).asyncQueue.verifyOperationInProgress(),Ce("RemoteStore","RemoteStore received new credentials"),O=ns(T),T.Or.add(3),[4,Gl(T)];case 1:return P.sent(),O&&T.Br.set("Unknown"),[4,T.remoteSyncer.handleCredentialChange(C)];case 2:return P.sent(),T.Or.delete(3),[4,yh(T)];case 3:return P.sent(),[2]}})})}(s.remoteStore,y)}),a.onlineComponents=s,[2]}})})}function nd(a){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(s){switch(s.label){case 0:return a.offlineComponents?[3,2]:(Ce("FirestoreClient","Using default OfflineComponentProvider"),[4,xm(a,new av)]);case 1:s.sent(),s.label=2;case 2:return[2,a.offlineComponents]}})})}function $c(a){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(s){switch(s.label){case 0:return a.onlineComponents?[3,2]:(Ce("FirestoreClient","Using default OnlineComponentProvider"),[4,zc(a,new up)]);case 1:s.sent(),s.label=2;case 2:return[2,a.onlineComponents]}})})}function Rm(a){return nd(a).then(function(s){return s.persistence})}function _n(a){return nd(a).then(function(s){return s.localStore})}function cv(a){return $c(a).then(function(s){return s.remoteStore})}function rd(a){return $c(a).then(function(s){return s.syncEngine})}function Pu(a){return(0,I.mG)(this,void 0,void 0,function(){var s,l;return(0,I.Jh)(this,function(h){switch(h.label){case 0:return[4,$c(a)];case 1:return s=h.sent(),[2,((l=s.eventManager).onListen=Ah.bind(null,s.syncEngine),l.onUnlisten=Mh.bind(null,s.syncEngine),l)]}})})}function km(a,s,l){var h=this;void 0===l&&(l={});var m=new sr;return a.asyncQueue.enqueueAndForget(function(){return(0,I.mG)(h,void 0,void 0,function(){var y;return(0,I.Jh)(this,function(b){switch(b.label){case 0:return y=function(C,T,O,P,B){var z=new ca({next:function(ne){T.enqueueAndForget(function(){return Xl(C,re)});var he=ne.docs.has(O);!he&&ne.fromCache?B.reject(new Ee(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):he&&ne.fromCache&&P&&"server"===P.source?B.reject(new Ee(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):B.resolve(ne)},error:function(ne){return B.reject(ne)}}),re=new Ih(Zr(O.path),z,{includeMetadataChanges:!0,so:!0});return Sh(C,re)},[4,Pu(a)];case 1:return[2,y.apply(void 0,[b.sent(),a.asyncQueue,s,l,m])]}})})}),m.promise}function Do(a,s,l){var h=this;void 0===l&&(l={});var m=new sr;return a.asyncQueue.enqueueAndForget(function(){return(0,I.mG)(h,void 0,void 0,function(){var y;return(0,I.Jh)(this,function(b){switch(b.label){case 0:return y=function(C,T,O,P,B){var z=new ca({next:function(ne){T.enqueueAndForget(function(){return Xl(C,re)}),ne.fromCache&&"server"===P.source?B.reject(new Ee(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):B.resolve(ne)},error:function(ne){return B.reject(ne)}}),re=new Ih(O,z,{includeMetadataChanges:!0,so:!0});return Sh(C,re)},[4,Pu(a)];case 1:return[2,y.apply(void 0,[b.sent(),a.asyncQueue,s,l,m])]}})})}),m.promise}var Om=function(a,s,l,h,m,y,b,C){this.databaseId=a,this.appId=s,this.persistenceKey=l,this.host=h,this.ssl=m,this.forceLongPolling=y,this.autoDetectLongPolling=b,this.useFetchStreams=C},id=function(){function a(s,l){this.projectId=s,this.database=l||"(default)"}return Object.defineProperty(a.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),a.prototype.isEqual=function(s){return s instanceof a&&s.projectId===this.projectId&&s.database===this.database},a}(),lp=new Map,qc=function(a,s){this.user=s,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+a},Nm=function(){function a(){this.changeListener=null}return a.prototype.getToken=function(){return Promise.resolve(null)},a.prototype.invalidateToken=function(){},a.prototype.setChangeListener=function(s,l){this.changeListener=l,s.enqueueRetryable(function(){return l(zr.UNAUTHENTICATED)})},a.prototype.removeChangeListener=function(){this.changeListener=null},a}(),lv=function(){function a(s){this.token=s,this.changeListener=null}return a.prototype.getToken=function(){return Promise.resolve(this.token)},a.prototype.invalidateToken=function(){},a.prototype.setChangeListener=function(s,l){var h=this;this.changeListener=l,s.enqueueRetryable(function(){return l(h.token.user)})},a.prototype.removeChangeListener=function(){this.changeListener=null},a}(),Nh=function(){function a(s){var l=this;this.currentUser=zr.UNAUTHENTICATED,this.oc=new sr,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){l.cc++,l.currentUser=l.ac(),l.oc.resolve(),l.changeListener&&l.asyncQueue.enqueueRetryable(function(){return l.changeListener(l.currentUser)})};var h=function(m){Ce("FirebaseCredentialsProvider","Auth detected"),l.auth=m,l.auth.addAuthTokenListener(l.uc)};s.onInit(function(m){return h(m)}),setTimeout(function(){if(!l.auth){var m=s.getImmediate({optional:!0});m?h(m):(Ce("FirebaseCredentialsProvider","Auth not yet detected"),l.oc.resolve())}},0)}return a.prototype.getToken=function(){var s=this,l=this.cc,h=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(h).then(function(m){return s.cc!==l?(Ce("FirebaseCredentialsProvider","getToken aborted due to token change."),s.getToken()):m?(ct("string"==typeof m.accessToken),new qc(m.accessToken,s.currentUser)):null}):Promise.resolve(null)},a.prototype.invalidateToken=function(){this.forceRefresh=!0},a.prototype.setChangeListener=function(s,l){var h=this;this.asyncQueue=s,this.asyncQueue.enqueueRetryable(function(){return(0,I.mG)(h,void 0,void 0,function(){return(0,I.Jh)(this,function(m){switch(m.label){case 0:return[4,this.oc.promise];case 1:return m.sent(),[4,l(this.currentUser)];case 2:return m.sent(),this.changeListener=l,[2]}})})})},a.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},a.prototype.ac=function(){var s=this.auth&&this.auth.getUid();return ct(null===s||"string"==typeof s),new zr(s)},a}(),Ie=function(){function a(s,l,h){this.hc=s,this.lc=l,this.fc=h,this.type="FirstParty",this.user=zr.FIRST_PARTY}return Object.defineProperty(a.prototype,"authHeaders",{get:function(){var s={"X-Goog-AuthUser":this.lc},l=this.hc.auth.getAuthHeaderValueForFirstParty([]);return l&&(s.Authorization=l),this.fc&&(s["X-Goog-Iam-Authorization-Token"]=this.fc),s},enumerable:!1,configurable:!0}),a}(),Gc=function(){function a(s,l,h){this.hc=s,this.lc=l,this.fc=h}return a.prototype.getToken=function(){return Promise.resolve(new Ie(this.hc,this.lc,this.fc))},a.prototype.setChangeListener=function(s,l){s.enqueueRetryable(function(){return l(zr.FIRST_PARTY)})},a.prototype.removeChangeListener=function(){},a.prototype.invalidateToken=function(){},a}();function od(a,s,l){if(!l)throw new Ee(oe.INVALID_ARGUMENT,"Function "+a+"() cannot be called with an empty "+s+".")}function dp(a,s){if(void 0===s)return{merge:!1};if(void 0!==s.mergeFields&&void 0!==s.merge)throw new Ee(oe.INVALID_ARGUMENT,"Invalid options passed to function "+a+'(): You cannot specify both "merge" and "mergeFields".');return s}function Ua(a,s,l,h){if(!0===s&&!0===h)throw new Ee(oe.INVALID_ARGUMENT,a+" and "+l+" cannot be used together.")}function Wc(a){if(!Le.isDocumentKey(a))throw new Ee(oe.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+a+" has "+a.length+".")}function Pm(a){if(Le.isDocumentKey(a))throw new Ee(oe.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+a+" has "+a.length+".")}function sd(a){if(void 0===a)return"undefined";if(null===a)return"null";if("string"==typeof a)return a.length>20&&(a=a.substring(0,20)+"..."),JSON.stringify(a);if("number"==typeof a||"boolean"==typeof a)return""+a;if("object"==typeof a){if(a instanceof Array)return"an array";var s=function(l){if(l.constructor){var h=/function\s+([^\s(]+)\s*\(/.exec(l.constructor.toString());if(h&&h.length>1)return h[1]}return null}(a);return s?"a custom "+s+" object":"an object"}return"function"==typeof a?"a function":tt()}function cn(a,s){if("_delegate"in a&&(a=a._delegate),!(a instanceof s)){if(s.name===a.constructor.name)throw new Ee(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var l=sd(a);throw new Ee(oe.INVALID_ARGUMENT,"Expected type '"+s.name+"', but it was: "+l)}return a}function ad(a,s){if(s<=0)throw new Ee(oe.INVALID_ARGUMENT,"Function "+a+"() requires a positive number, but it was: "+s+".")}var Fm=function(){function a(s){var l;if(void 0===s.host){if(void 0!==s.ssl)throw new Ee(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=s.host,this.ssl=null===(l=s.ssl)||void 0===l||l;if(this.credentials=s.credentials,this.ignoreUndefinedProperties=!!s.ignoreUndefinedProperties,void 0===s.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==s.cacheSizeBytes&&s.cacheSizeBytes<1048576)throw new Ee(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=s.cacheSizeBytes}this.experimentalForceLongPolling=!!s.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!s.experimentalAutoDetectLongPolling,this.useFetchStreams=!!s.useFetchStreams,Ua("experimentalForceLongPolling",s.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",s.experimentalAutoDetectLongPolling)}return a.prototype.isEqual=function(s){return this.host===s.host&&this.ssl===s.ssl&&this.credentials===s.credentials&&this.cacheSizeBytes===s.cacheSizeBytes&&this.experimentalForceLongPolling===s.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===s.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===s.ignoreUndefinedProperties&&this.useFetchStreams===s.useFetchStreams},a}(),Fu=function(){function a(s,l){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fm({}),this._settingsFrozen=!1,s instanceof id?(this._databaseId=s,this._credentials=new Nm):(this._app=s,this._databaseId=function(h){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Ee(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new id(h.options.projectId)}(s),this._credentials=new Nh(l))}return Object.defineProperty(a.prototype,"app",{get:function(){if(!this._app)throw new Ee(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),a.prototype._setSettings=function(s){if(this._settingsFrozen)throw new Ee(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fm(s),void 0!==s.credentials&&(this._credentials=function(l){if(!l)return new Nm;switch(l.type){case"gapi":var h=l.client;return ct(!("object"!=typeof h||null===h||!h.auth||!h.auth.getAuthHeaderValueForFirstParty)),new Gc(h,l.sessionIndex||"0",l.iamToken||null);case"provider":return l.client;default:throw new Ee(oe.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(s.credentials))},a.prototype._getSettings=function(){return this._settings},a.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},a.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},a.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},a.prototype._terminate=function(){return(l=lp.get(this))&&(Ce("ComponentProvider","Removing Datastore"),lp.delete(this),l.terminate()),Promise.resolve();var l},a}(),Tn=function(){function a(s,l,h){this.converter=l,this._key=h,this.type="document",this.firestore=s}return Object.defineProperty(a.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"parent",{get:function(){return new Ls(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),a.prototype.withConverter=function(s){return new a(this.firestore,s,this._key)},a}(),ei=function(){function a(s,l,h){this.converter=l,this._query=h,this.type="query",this.firestore=s}return a.prototype.withConverter=function(s){return new a(this.firestore,s,this._query)},a}(),Ls=function(a){function s(l,h,m){var y=this;return(y=a.call(this,l,h,Zr(m))||this)._path=m,y.type="collection",y}return(0,I.ZT)(s,a),Object.defineProperty(s.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"parent",{get:function(){var l=this._path.popLast();return l.isEmpty()?null:new Tn(this.firestore,null,new Le(l))},enumerable:!1,configurable:!0}),s.prototype.withConverter=function(l){return new s(this.firestore,l,this._path)},s}(ei);function is(a,s){for(var l,h=[],m=2;m<arguments.length;m++)h[m-2]=arguments[m];if(a=(0,Ke.m9)(a),od("collection","path",s),a instanceof Fu)return Pm(l=Kt.fromString.apply(Kt,(0,I.ev)([s],h))),new Ls(a,null,l);if(!(a instanceof Tn||a instanceof Ls))throw new Ee(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Pm(l=Kt.fromString.apply(Kt,(0,I.ev)([a.path],h)).child(Kt.fromString(s))),new Ls(a.firestore,null,l)}function la(a,s){for(var l,h=[],m=2;m<arguments.length;m++)h[m-2]=arguments[m];if(a=(0,Ke.m9)(a),1===arguments.length&&(s=_i.u()),od("doc","path",s),a instanceof Fu)return Wc(l=Kt.fromString.apply(Kt,(0,I.ev)([s],h))),new Tn(a,null,new Le(l));if(!(a instanceof Tn||a instanceof Ls))throw new Ee(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Wc(l=a._path.child(Kt.fromString.apply(Kt,(0,I.ev)([s],h)))),new Tn(a.firestore,a instanceof Ls?a.converter:null,new Le(l))}function dv(a,s){return a=(0,Ke.m9)(a),s=(0,Ke.m9)(s),(a instanceof Tn||a instanceof Ls)&&(s instanceof Tn||s instanceof Ls)&&a.firestore===s.firestore&&a.path===s.path&&a.converter===s.converter}function Kc(a,s){return a=(0,Ke.m9)(a),s=(0,Ke.m9)(s),a instanceof ei&&s instanceof ei&&a.firestore===s.firestore&&xl(a._query,s._query)&&a.converter===s.converter}var Lu=function(){function a(){var s=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new ql(this,"async_queue_retry"),this.Ic=function(){var h=ku();h&&Ce("AsyncQueue","Visibility state changed to "+h.visibilityState),s.Zi.Gi()};var l=ku();l&&"function"==typeof l.addEventListener&&l.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(a.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),a.prototype.enqueueAndForget=function(s){this.enqueue(s)},a.prototype.enqueueAndForgetEvenWhileRestricted=function(s){this.Ac(),this.Rc(s)},a.prototype.enterRestrictedMode=function(s){if(!this._c){this._c=!0,this.Ec=s||!1;var l=ku();l&&"function"==typeof l.removeEventListener&&l.removeEventListener("visibilitychange",this.Ic)}},a.prototype.enqueue=function(s){var l=this;if(this.Ac(),this._c)return new Promise(function(){});var h=new sr;return this.Rc(function(){return l._c&&l.Ec?Promise.resolve():(s().then(h.resolve,h.reject),h.promise)}).then(function(){return h.promise})},a.prototype.enqueueRetryable=function(s){var l=this;this.enqueueAndForget(function(){return l.wc.push(s),l.bc()})},a.prototype.bc=function(){return(0,I.mG)(this,void 0,void 0,function(){var s,l=this;return(0,I.Jh)(this,function(h){switch(h.label){case 0:if(0===this.wc.length)return[3,5];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return h.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Ps(s=h.sent()))throw s;return Ce("AsyncQueue","Operation failed with retryable error: "+s),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return l.bc()}),h.label=5;case 5:return[2]}})})},a.prototype.Rc=function(s){var l=this,h=this.dc.then(function(){return l.gc=!0,s().catch(function(m){throw l.yc=m,l.gc=!1,mr("INTERNAL UNHANDLED ERROR: ",(b=(y=m).message||"",y.stack&&(b=y.stack.includes(y.message)?y.stack:y.message+"\n"+y.stack),b)),m;var y,b}).then(function(m){return l.gc=!1,m})});return this.dc=h,h},a.prototype.enqueueAfterDelay=function(s,l,h){var m=this;this.Ac(),this.Tc.indexOf(s)>-1&&(l=0);var y=Xf.createAndSchedule(this,s,l,h,function(b){return m.vc(b)});return this.mc.push(y),y},a.prototype.Ac=function(){this.yc&&tt()},a.prototype.verifyOperationInProgress=function(){},a.prototype.Pc=function(){return(0,I.mG)(this,void 0,void 0,function(){var s;return(0,I.Jh)(this,function(l){switch(l.label){case 0:return[4,s=this.dc];case 1:l.sent(),l.label=2;case 2:if(s!==this.dc)return[3,0];l.label=3;case 3:return[2]}})})},a.prototype.Vc=function(s){for(var l=0,h=this.mc;l<h.length;l++)if(h[l].timerId===s)return!0;return!1},a.prototype.Sc=function(s){var l=this;return this.Pc().then(function(){l.mc.sort(function(b,C){return b.targetTimeMs-C.targetTimeMs});for(var h=0,m=l.mc;h<m.length;h++){var y=m[h];if(y.skipDelay(),"all"!==s&&y.timerId===s)break}return l.Pc()})},a.prototype.Dc=function(s){this.Tc.push(s)},a.prototype.vc=function(s){var l=this.mc.indexOf(s);this.mc.splice(l,1)},a}();function Yc(a){return function(s,l){if("object"!=typeof s||null===s)return!1;for(var h=s,m=0,y=["next","error","complete"];m<y.length;m++){var b=y[m];if(b in h&&"function"==typeof h[b])return!0}return!1}(a)}!function(){function a(){this._progressObserver={},this._taskCompletionResolver=new sr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}a.prototype.onProgress=function(s,l,h){this._progressObserver={next:s,error:l,complete:h}},a.prototype.catch=function(s){return this._taskCompletionResolver.promise.catch(s)},a.prototype.then=function(s,l){return this._taskCompletionResolver.promise.then(s,l)},a.prototype._completeWith=function(s){this._updateProgress(s),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(s)},a.prototype._failWith=function(s){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(s),this._taskCompletionResolver.reject(s)},a.prototype._updateProgress=function(s){this._lastProgress=s,this._progressObserver.next&&this._progressObserver.next(s)}}();var An=function(a){function s(l,h){var m=this;return(m=a.call(this,l,h)||this).type="firestore",m._queue=new Lu,m._persistenceKey="name"in l?l.name:"[DEFAULT]",m}return(0,I.ZT)(s,a),s.prototype._terminate=function(){return this._firestoreClient||fp(this),this._firestoreClient.terminate()},s}(Fu);function Xt(a){return a._firestoreClient||fp(a),a._firestoreClient.verifyNotTerminated(),a._firestoreClient}function fp(a){var s,y,C,l=a._freezeSettings(),h=(y=(null===(s=a._app)||void 0===s?void 0:s.options.appId)||"",new Om(a._databaseId,y,a._persistenceKey,(C=l).host,C.ssl,C.experimentalForceLongPolling,C.experimentalAutoDetectLongPolling,C.useFetchStreams));a._firestoreClient=new Mm(a._credentials,a._queue,h)}function Lm(a,s,l){var h=this,m=new sr;return a.asyncQueue.enqueue(function(){return(0,I.mG)(h,void 0,void 0,function(){var y;return(0,I.Jh)(this,function(b){switch(b.label){case 0:return b.trys.push([0,3,,4]),[4,xm(a,l)];case 1:return b.sent(),[4,zc(a,s)];case 2:return b.sent(),m.resolve(),[3,4];case 3:if(!("FirebaseError"===(C=y=b.sent()).name?C.code===oe.FAILED_PRECONDITION||C.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&C instanceof DOMException)||22===C.code||20===C.code||11===C.code))throw y;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+y),m.reject(y),[3,4];case 4:return[2]}var C})})}).then(function(){return m.promise})}function hv(a){if(a._initialized||a._terminated)throw new Ee(oe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Vs=function(){function a(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];for(var h=0;h<s.length;++h)if(0===s[h].length)throw new Ee(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new As(s)}return a.prototype.isEqual=function(s){return this._internalPath.isEqual(s._internalPath)},a}(),os=function(){function a(s){this._byteString=s}return a.fromBase64String=function(s){try{return new a(Ni.fromBase64String(s))}catch(l){throw new Ee(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+l)}},a.fromUint8Array=function(s){return new a(Ni.fromUint8Array(s))},a.prototype.toBase64=function(){return this._byteString.toBase64()},a.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},a.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},a.prototype.isEqual=function(s){return this._byteString.isEqual(s._byteString)},a}(),Ha=function(a){this._methodName=a},Fh=function(){function a(s,l){if(!isFinite(s)||s<-90||s>90)throw new Ee(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+s);if(!isFinite(l)||l<-180||l>180)throw new Ee(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+l);this._lat=s,this._long=l}return Object.defineProperty(a.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),a.prototype.isEqual=function(s){return this._lat===s._lat&&this._long===s._long},a.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},a.prototype._compareTo=function(s){return nt(this._lat,s._lat)||nt(this._long,s._long)},a}(),Ey=/^__.*__$/,Lh=function(){function a(s,l,h){this.data=s,this.fieldMask=l,this.fieldTransforms=h}return a.prototype.toMutation=function(s,l){return null!==this.fieldMask?new Hn(s,this.data,this.fieldMask,l,this.fieldTransforms):new xs(s,this.data,l,this.fieldTransforms)},a}(),Zc=function(){function a(s,l,h){this.data=s,this.fieldMask=l,this.fieldTransforms=h}return a.prototype.toMutation=function(s,l){return new Hn(s,this.data,this.fieldMask,l,this.fieldTransforms)},a}();function fv(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tt()}}var Vh=function(){function a(s,l,h,m,y,b){this.settings=s,this.databaseId=l,this.R=h,this.ignoreUndefinedProperties=m,void 0===y&&this.Cc(),this.fieldTransforms=y||[],this.fieldMask=b||[]}return Object.defineProperty(a.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),a.prototype.xc=function(s){return new a(Object.assign(Object.assign({},this.settings),s),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},a.prototype.kc=function(s){var l,h=null===(l=this.path)||void 0===l?void 0:l.child(s),m=this.xc({path:h,Fc:!1});return m.$c(s),m},a.prototype.Oc=function(s){var l,h=null===(l=this.path)||void 0===l?void 0:l.child(s),m=this.xc({path:h,Fc:!1});return m.Cc(),m},a.prototype.Mc=function(s){return this.xc({path:void 0,Fc:!0})},a.prototype.Lc=function(s){return Hh(s,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},a.prototype.contains=function(s){return void 0!==this.fieldMask.find(function(l){return s.isPrefixOf(l)})||void 0!==this.fieldTransforms.find(function(l){return s.isPrefixOf(l.field)})},a.prototype.Cc=function(){if(this.path)for(var s=0;s<this.path.length;s++)this.$c(this.path.get(s))},a.prototype.$c=function(s){if(0===s.length)throw this.Lc("Document fields must not be empty");if(fv(this.Nc)&&Ey.test(s))throw this.Lc('Document fields cannot begin and end with "__"')},a}(),io=function(){function a(s,l,h){this.databaseId=s,this.ignoreUndefinedProperties=l,this.R=h||Fs(s)}return a.prototype.Uc=function(s,l,h,m){return void 0===m&&(m=!1),new Vh({Nc:s,methodName:l,qc:h,path:As.emptyPath(),Fc:!1,Bc:m},this.databaseId,this.R,this.ignoreUndefinedProperties)},a}();function ud(a){var s=a._freezeSettings(),l=Fs(a._databaseId);return new io(a._databaseId,!!s.ignoreUndefinedProperties,l)}function Uo(a,s,l,h,m,y){void 0===y&&(y={});var b=a.Uc(y.merge||y.mergeFields?2:0,s,l,m);Uh("Data must be an object, but it was:",b,h);var C,T,O=ld(h,b);if(y.merge)C=new Wo(b.fieldMask),T=b.fieldTransforms;else if(y.mergeFields){for(var P=[],B=0,z=y.mergeFields;B<z.length;B++){var re=ss(s,z[B],l);if(!b.contains(re))throw new Ee(oe.INVALID_ARGUMENT,"Field '"+re+"' is specified in your field mask but missing from your input data.");da(P,re)||P.push(re)}C=new Wo(P),T=b.fieldTransforms.filter(function(ne){return C.covers(ne.field)})}else C=null,T=b.fieldTransforms;return new Lh(new Pi(O),C,T)}var cd=function(a){function s(){return null!==a&&a.apply(this,arguments)||this}return(0,I.ZT)(s,a),s.prototype._toFieldTransform=function(l){if(2!==l.Nc)throw l.Lc(1===l.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return l.fieldMask.push(l.path),null},s.prototype.isEqual=function(l){return l instanceof s},s}(Ha);function Vm(a,s,l){return new Vh({Nc:3,qc:s.settings.qc,methodName:a._methodName,Fc:l},s.databaseId,s.R,s.ignoreUndefinedProperties)}var Bh=function(a){function s(){return null!==a&&a.apply(this,arguments)||this}return(0,I.ZT)(s,a),s.prototype._toFieldTransform=function(l){return new Yo(l.path,new eo)},s.prototype.isEqual=function(l){return l instanceof s},s}(Ha),Bs=function(a){function s(l,h){var m=this;return(m=a.call(this,l)||this).Kc=h,m}return(0,I.ZT)(s,a),s.prototype._toFieldTransform=function(l){var h=Vm(this,l,!0),m=this.Kc.map(function(b){return js(b,h)}),y=new vu(m);return new Yo(l.path,y)},s.prototype.isEqual=function(l){return this===l},s}(Ha),Cy=function(a){function s(l,h){var m=this;return(m=a.call(this,l)||this).Kc=h,m}return(0,I.ZT)(s,a),s.prototype._toFieldTransform=function(l){var h=Vm(this,l,!0),m=this.Kc.map(function(b){return js(b,h)}),y=new jt(m);return new Yo(l.path,y)},s.prototype.isEqual=function(l){return this===l},s}(Ha),Dy=function(a){function s(l,h){var m=this;return(m=a.call(this,l)||this).Qc=h,m}return(0,I.ZT)(s,a),s.prototype._toFieldTransform=function(l){var h=new gr(l.R,Kd(l.R,this.Qc));return new Yo(l.path,h)},s.prototype.isEqual=function(l){return this===l},s}(Ha);function Xc(a,s,l,h){var m=a.Uc(1,s,l);Uh("Data must be an object, but it was:",m,h);var y=[],b=Pi.empty();ea(h,function(T,O){var P=Qc(s,T,l);O=(0,Ke.m9)(O);var B=m.Oc(P);if(O instanceof cd)y.push(P);else{var z=js(O,B);null!=z&&(y.push(P),b.set(P,z))}});var C=new Wo(y);return new Zc(b,C,m.fieldTransforms)}function Bm(a,s,l,h,m,y){var b=a.Uc(1,s,l),C=[ss(s,h,l)],T=[m];if(y.length%2!=0)throw new Ee(oe.INVALID_ARGUMENT,"Function "+s+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var O=0;O<y.length;O+=2)C.push(ss(s,y[O])),T.push(y[O+1]);for(var P=[],B=Pi.empty(),z=C.length-1;z>=0;--z)if(!da(P,C[z])){var re=C[z],ne=T[z];ne=(0,Ke.m9)(ne);var he=b.Oc(re);if(ne instanceof cd)P.push(re);else{var Re=js(ne,he);null!=Re&&(P.push(re),B.set(re,Re))}}var Fe=new Wo(P);return new Zc(B,Fe,b.fieldTransforms)}function pp(a,s,l,h){return void 0===h&&(h=!1),js(l,a.Uc(h?4:3,s))}function js(a,s){if(jh(a=(0,Ke.m9)(a)))return Uh("Unsupported field value:",s,a),ld(a,s);if(a instanceof Ha)return function(l,h){if(!fv(h.Nc))throw h.Lc(l._methodName+"() can only be used with update() and set()");if(!h.path)throw h.Lc(l._methodName+"() is not currently supported inside arrays");var m=l._toFieldTransform(h);m&&h.fieldTransforms.push(m)}(a,s),null;if(void 0===a&&s.ignoreUndefinedProperties)return null;if(s.path&&s.fieldMask.push(s.path),a instanceof Array){if(s.settings.Fc&&4!==s.Nc)throw s.Lc("Nested arrays are not supported");return function(l,h){for(var m=[],y=0,b=0,C=l;b<C.length;b++){var T=js(C[b],h.Mc(y));null==T&&(T={nullValue:"NULL_VALUE"}),m.push(T),y++}return{arrayValue:{values:m}}}(a,s)}return function(l,h){if(null===(l=(0,Ke.m9)(l)))return{nullValue:"NULL_VALUE"};if("number"==typeof l)return Kd(h.R,l);if("boolean"==typeof l)return{booleanValue:l};if("string"==typeof l)return{stringValue:l};if(l instanceof Date){var m=Oi.fromDate(l);return{timestampValue:ia(h.R,m)}}if(l instanceof Oi)return m=new Oi(l.seconds,1e3*Math.floor(l.nanoseconds/1e3)),{timestampValue:ia(h.R,m)};if(l instanceof Fh)return{geoPointValue:{latitude:l.latitude,longitude:l.longitude}};if(l instanceof os)return{bytesValue:Eu(h.R,l._byteString)};if(l instanceof Tn){var y=l.firestore._databaseId;if(!y.isEqual(m=h.databaseId))throw h.Lc("Document reference is for database "+y.projectId+"/"+y.database+" but should be for database "+m.projectId+"/"+m.database);return{referenceValue:Cc(l.firestore._databaseId||h.databaseId,l._key.path)}}throw h.Lc("Unsupported field value: "+sd(l))}(a,s)}function ld(a,s){var l={};return _g(a)?s.path&&s.path.length>0&&s.fieldMask.push(s.path):ea(a,function(h,m){var y=js(m,s.kc(h));null!=y&&(l[h]=y)}),{mapValue:{fields:l}}}function jh(a){return!("object"!=typeof a||null===a||a instanceof Array||a instanceof Date||a instanceof Oi||a instanceof Fh||a instanceof os||a instanceof Tn||a instanceof Ha)}function Uh(a,s,l){if(!jh(l)||"object"!=typeof(m=l)||null===m||Object.getPrototypeOf(m)!==Object.prototype&&null!==Object.getPrototypeOf(m)){var h=sd(l);throw s.Lc("an object"===h?a+" a custom object":a+" "+h)}var m}function ss(a,s,l){if((s=(0,Ke.m9)(s))instanceof Vs)return s._internalPath;if("string"==typeof s)return Qc(a,s);throw Hh("Field path arguments must be of type string or FieldPath.",a,!1,void 0,l)}var mp=new RegExp("[~\\*/\\[\\]]");function Qc(a,s,l){if(s.search(mp)>=0)throw Hh("Invalid field path ("+s+"). Paths must not contain '~', '*', '/', '[', or ']'",a,!1,void 0,l);try{return(new(Vs.bind.apply(Vs,(0,I.ev)([void 0],s.split(".")))))._internalPath}catch{throw Hh("Invalid field path ("+s+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",a,!1,void 0,l)}}function Hh(a,s,l,h,m){var y=h&&!h.isEmpty(),b=void 0!==m,C="Function "+s+"() called with invalid data";l&&(C+=" (via `toFirestore()`)");var T="";return(y||b)&&(T+=" (found",y&&(T+=" in field "+h),b&&(T+=" in document "+m),T+=")"),new Ee(oe.INVALID_ARGUMENT,(C+=". ")+a+T)}function da(a,s){return a.some(function(l){return l.isEqual(s)})}var ln=function(){function a(s,l,h,m,y){this._firestore=s,this._userDataWriter=l,this._key=h,this._document=m,this._converter=y}return Object.defineProperty(a.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"ref",{get:function(){return new Tn(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),a.prototype.exists=function(){return null!==this._document},a.prototype.data=function(){if(this._document){if(this._converter){var s=new zt(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(s)}return this._userDataWriter.convertValue(this._document.data.value)}},a.prototype.get=function(s){if(this._document){var l=this._document.data.field(za("DocumentSnapshot.get",s));if(null!==l)return this._userDataWriter.convertValue(l)}},a}(),zt=function(a){function s(){return null!==a&&a.apply(this,arguments)||this}return(0,I.ZT)(s,a),s.prototype.data=function(){return a.prototype.data.call(this)},s}(ln);function za(a,s){return"string"==typeof s?Qc(a,s):s instanceof Vs?s._internalPath:s._delegate._internalPath}var Ho=function(){function a(s,l){this.hasPendingWrites=s,this.fromCache=l}return a.prototype.isEqual=function(s){return this.hasPendingWrites===s.hasPendingWrites&&this.fromCache===s.fromCache},a}(),ha=function(a){function s(l,h,m,y,b,C){var T=this;return(T=a.call(this,l,h,m,y,C)||this)._firestore=l,T._firestoreImpl=l,T.metadata=b,T}return(0,I.ZT)(s,a),s.prototype.exists=function(){return a.prototype.exists.call(this)},s.prototype.data=function(l){if(void 0===l&&(l={}),this._document){if(this._converter){var h=new rr(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(h,l)}return this._userDataWriter.convertValue(this._document.data.value,l.serverTimestamps)}},s.prototype.get=function(l,h){if(void 0===h&&(h={}),this._document){var m=this._document.data.field(za("DocumentSnapshot.get",l));if(null!==m)return this._userDataWriter.convertValue(m,h.serverTimestamps)}},s}(ln),rr=function(a){function s(){return null!==a&&a.apply(this,arguments)||this}return(0,I.ZT)(s,a),s.prototype.data=function(l){return void 0===l&&(l={}),a.prototype.data.call(this,l)},s}(ha),as=function(){function a(s,l,h,m){this._firestore=s,this._userDataWriter=l,this._snapshot=m,this.metadata=new Ho(m.hasPendingWrites,m.fromCache),this.query=h}return Object.defineProperty(a.prototype,"docs",{get:function(){var s=[];return this.forEach(function(l){return s.push(l)}),s},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),a.prototype.forEach=function(s,l){var h=this;this._snapshot.docs.forEach(function(m){s.call(l,new rr(h._firestore,h._userDataWriter,m.key,m,new Ho(h._snapshot.mutatedKeys.has(m.key),h._snapshot.fromCache),h.query.converter))})},a.prototype.docChanges=function(s){void 0===s&&(s={});var l=!!s.includeMetadataChanges;if(l&&this._snapshot.excludesMetadataChanges)throw new Ee(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===l||(this._cachedChanges=function(h,m){if(h._snapshot.oldDocs.isEmpty()){var y=0;return h._snapshot.docChanges.map(function(C){return{type:"added",doc:new rr(h._firestore,h._userDataWriter,C.doc.key,C.doc,new Ho(h._snapshot.mutatedKeys.has(C.doc.key),h._snapshot.fromCache),h.query.converter),oldIndex:-1,newIndex:y++}})}var b=h._snapshot.oldDocs;return h._snapshot.docChanges.filter(function(C){return m||3!==C.type}).map(function(C){var T=new rr(h._firestore,h._userDataWriter,C.doc.key,C.doc,new Ho(h._snapshot.mutatedKeys.has(C.doc.key),h._snapshot.fromCache),h.query.converter),O=-1,P=-1;return 0!==C.type&&(O=b.indexOf(C.doc.key),b=b.delete(C.doc.key)),1!==C.type&&(P=(b=b.add(C.doc)).indexOf(C.doc.key)),{type:Jc(C.type),doc:T,oldIndex:O,newIndex:P}})}(this,l),this._cachedChangesIncludeMetadataChanges=l),this._cachedChanges},a}();function Jc(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tt()}}function zh(a,s){return a instanceof ha&&s instanceof ha?a._firestore===s._firestore&&a._key.isEqual(s._key)&&(null===a._document?null===s._document:a._document.isEqual(s._document))&&a._converter===s._converter:a instanceof as&&s instanceof as&&a._firestore===s._firestore&&Kc(a.query,s.query)&&a.metadata.isEqual(s.metadata)&&a._snapshot.isEqual(s._snapshot)}function gp(a){if(gu(a)&&0===a.explicitOrderBy.length)throw new Ee(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var dd=function(){};function fa(a){for(var s=[],l=1;l<arguments.length;l++)s[l-1]=arguments[l];for(var h=0,m=s;h<m.length;h++)a=m[h]._apply(a);return a}var jm=function(a){function s(l,h,m){var y=this;return(y=a.call(this)||this).jc=l,y.Wc=h,y.Gc=m,y.type="where",y}return(0,I.ZT)(s,a),s.prototype._apply=function(l){var y,C,h=ud(l.firestore),m=function(y,b,C,T,O,P,B){var z;if(O.isKeyField()){if("array-contains"===P||"array-contains-any"===P)throw new Ee(oe.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+P+"' queries on FieldPath.documentId().");if("in"===P||"not-in"===P){_p(B,P);for(var re=[],ne=0,he=B;ne<he.length;ne++)re.push(Gh(T,y,he[ne]));z={arrayValue:{values:re}}}else z=Gh(T,y,B)}else"in"!==P&&"not-in"!==P&&"array-contains-any"!==P||_p(B,P),z=pp(C,"where",B,"in"===P||"not-in"===P);var Fe=_o.create(O,P,z);return function(dt,mt){if(mt.g()){var dn=Ms(dt);if(null!==dn&&!dn.isEqual(mt.field))throw new Ee(oe.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+dn.toString()+"' and '"+mt.field.toString()+"'");var bn=Cf(dt);null!==bn&&Wh(0,mt.field,bn)}var $n=function(Dn,ee){for(var gd=0,Z_=Dn.filters;gd<Z_.length;gd++){var Hm=Z_[gd];if(ee.indexOf(Hm.op)>=0)return Hm.op}return null}(dt,function(Dn){switch(Dn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(mt.op));if(null!==$n)throw new Ee(oe.INVALID_ARGUMENT,$n===mt.op?"Invalid query. You cannot use more than one '"+mt.op.toString()+"' filter.":"Invalid query. You cannot use '"+mt.op.toString()+"' filters with '"+$n.toString()+"' filters.")}(y,Fe),Fe}(l._query,0,h,l.firestore._databaseId,this.jc,this.Wc,this.Gc);return new ei(l.firestore,l.converter,(C=(y=l._query).filters.concat([m]),new Ko(y.path,y.collectionGroup,y.explicitOrderBy.slice(),C,y.limit,y.limitType,y.startAt,y.endAt)))},s}(dd),$h=function(a){function s(l,h){var m=this;return(m=a.call(this)||this).jc=l,m.zc=h,m.type="orderBy",m}return(0,I.ZT)(s,a),s.prototype._apply=function(l){var m,b,h=function(m,y,b){if(null!==m.startAt)throw new Ee(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==m.endAt)throw new Ee(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var C=new mc(y,b);return function(T,O){if(null===Cf(T)){var P=Ms(T);null!==P&&Wh(0,P,O.field)}}(m,C),C}(l._query,this.jc,this.zc);return new ei(l.firestore,l.converter,(b=(m=l._query).explicitOrderBy.concat([h]),new Ko(m.path,m.collectionGroup,b,m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)))},s}(dd),hd=function(a){function s(l,h,m){var y=this;return(y=a.call(this)||this).type=l,y.Hc=h,y.Jc=m,y}return(0,I.ZT)(s,a),s.prototype._apply=function(l){return new ei(l.firestore,l.converter,Zp(l._query,this.Hc,this.Jc))},s}(dd),vp=function(a){function s(l,h,m){var y=this;return(y=a.call(this)||this).type=l,y.Yc=h,y.Xc=m,y}return(0,I.ZT)(s,a),s.prototype._apply=function(l){var m,y,h=yp(l,this.type,this.Yc,this.Xc);return new ei(l.firestore,l.converter,(y=h,new Ko((m=l._query).path,m.collectionGroup,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,y,m.endAt)))},s}(dd),qh=function(a){function s(l,h,m){var y=this;return(y=a.call(this)||this).type=l,y.Yc=h,y.Xc=m,y}return(0,I.ZT)(s,a),s.prototype._apply=function(l){var m,y,h=yp(l,this.type,this.Yc,this.Xc);return new ei(l.firestore,l.converter,(y=h,new Ko((m=l._query).path,m.collectionGroup,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,y)))},s}(dd);function yp(a,s,l,h){if(l[0]=(0,Ke.m9)(l[0]),l[0]instanceof ln)return function(y,b,C,T,O){if(!T)throw new Ee(oe.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+C+"().");for(var P=[],B=0,z=Ml(y);B<z.length;B++){var re=z[B];if(re.field.isKeyField())P.push(Sl(b,T.key));else{var ne=T.data.field(re.field);if(_f(ne))throw new Ee(oe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+re.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ne){var he=re.field.canonicalString();throw new Ee(oe.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+he+"' (used as the orderBy) does not exist.")}P.push(ne)}}return new Al(P,O)}(a._query,a.firestore._databaseId,s,l[0]._document,h);var m=ud(a.firestore);return function(y,b,C,T,O,P){var B=y.explicitOrderBy;if(O.length>B.length)throw new Ee(oe.INVALID_ARGUMENT,"Too many arguments provided to "+T+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var z=[],re=0;re<O.length;re++){var ne=O[re];if(B[re].field.isKeyField()){if("string"!=typeof ne)throw new Ee(oe.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+T+"(), but got a "+typeof ne);if(!vc(y)&&-1!==ne.indexOf("/"))throw new Ee(oe.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+T+"() must be a plain document ID, but '"+ne+"' contains a slash.");var he=y.path.child(Kt.fromString(ne));if(!Le.isDocumentKey(he))throw new Ee(oe.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+T+"() must result in a valid document path, but '"+he+"' is not because it contains an odd number of segments.");var Re=new Le(he);z.push(Sl(b,Re))}else{var Fe=pp(C,T,ne);z.push(Fe)}}return new Al(z,P)}(a._query,a.firestore._databaseId,m,s,l,h)}function Gh(a,s,l){if("string"==typeof(l=(0,Ke.m9)(l))){if(""===l)throw new Ee(oe.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!vc(s)&&-1!==l.indexOf("/"))throw new Ee(oe.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+l+"' contains a '/' character.");var h=s.path.child(Kt.fromString(l));if(!Le.isDocumentKey(h))throw new Ee(oe.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+h+"' is not because it has an odd number of segments ("+h.length+").");return Sl(a,new Le(h))}if(l instanceof Tn)return Sl(a,l._key);throw new Ee(oe.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+sd(l)+".")}function _p(a,s){if(!Array.isArray(a)||0===a.length)throw new Ee(oe.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+s.toString()+"' filters.");if(a.length>10)throw new Ee(oe.INVALID_ARGUMENT,"Invalid Query. '"+s.toString()+"' filters support a maximum of 10 elements in the value array.")}function Wh(a,s,l){if(!l.isEqual(s))throw new Ee(oe.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+s.toString()+"' and so you must also use '"+s.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+l.toString()+"' instead.")}var bp=function(){function a(){}return a.prototype.convertValue=function(s,l){switch(void 0===l&&(l="none"),Yr(s)){case 0:return null;case 1:return s.booleanValue;case 2:return Vr(s.integerValue||s.doubleValue);case 3:return this.convertTimestamp(s.timestampValue);case 4:return this.convertServerTimestamp(s,l);case 5:return s.stringValue;case 6:return this.convertBytes(hu(s.bytesValue));case 7:return this.convertReference(s.referenceValue);case 8:return this.convertGeoPoint(s.geoPointValue);case 9:return this.convertArray(s.arrayValue,l);case 10:return this.convertObject(s.mapValue,l);default:throw tt()}},a.prototype.convertObject=function(s,l){var h=this,m={};return ea(s.fields,function(y,b){m[y]=h.convertValue(b,l)}),m},a.prototype.convertGeoPoint=function(s){return new Fh(Vr(s.latitude),Vr(s.longitude))},a.prototype.convertArray=function(s,l){var h=this;return(s.values||[]).map(function(m){return h.convertValue(m,l)})},a.prototype.convertServerTimestamp=function(s,l){switch(l){case"previous":var h=Gp(s);return null==h?null:this.convertValue(h,l);case"estimate":return this.convertTimestamp(dc(s));default:return null}},a.prototype.convertTimestamp=function(s){var l=Fo(s);return new Oi(l.seconds,l.nanos)},a.prototype.convertDocumentKey=function(s,l){var h=Kt.fromString(s);ct(Nf(h));var m=new id(h.get(1),h.get(3)),y=new Le(h.popFirst(5));return m.isEqual(l)||mr("Document "+y+" contains a document reference within a different database ("+m.projectId+"/"+m.database+") which is not supported. It will be treated as a reference in the current database ("+l.projectId+"/"+l.database+") instead."),y},a}();function fd(a,s,l){return a?l&&(l.merge||l.mergeFields)?a.toFirestore(s,l):a.toFirestore(s):s}var Sy=function(a){function s(l){var h=this;return(h=a.call(this)||this).firestore=l,h}return(0,I.ZT)(s,a),s.prototype.convertBytes=function(l){return new os(l)},s.prototype.convertReference=function(l){var h=this.convertDocumentKey(l,this.firestore._databaseId);return new Tn(this.firestore,null,h)},s}(bp),Iy=function(){function a(s,l){this._firestore=s,this._commitHandler=l,this._mutations=[],this._committed=!1,this._dataReader=ud(s)}return a.prototype.set=function(s,l,h){this._verifyNotCommitted();var m=So(s,this._firestore),y=fd(m.converter,l,h),b=Uo(this._dataReader,"WriteBatch.set",m._key,y,null!==m.converter,h);return this._mutations.push(b.toMutation(m._key,vr.none())),this},a.prototype.update=function(s,l,h){for(var m=[],y=3;y<arguments.length;y++)m[y-3]=arguments[y];this._verifyNotCommitted();var b,C=So(s,this._firestore);return b="string"==typeof(l=(0,Ke.m9)(l))||l instanceof Vs?Bm(this._dataReader,"WriteBatch.update",C._key,l,h,m):Xc(this._dataReader,"WriteBatch.update",C._key,l),this._mutations.push(b.toMutation(C._key,vr.exists(!0))),this},a.prototype.delete=function(s){this._verifyNotCommitted();var l=So(s,this._firestore);return this._mutations=this._mutations.concat(new bu(l._key,vr.none())),this},a.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},a.prototype._verifyNotCommitted=function(){if(this._committed)throw new Ee(oe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},a}();function So(a,s){if((a=(0,Ke.m9)(a)).firestore!==s)throw new Ee(oe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return a}var el=function(a){function s(l){var h=this;return(h=a.call(this)||this).firestore=l,h}return(0,I.ZT)(s,a),s.prototype.convertBytes=function(l){return new os(l)},s.prototype.convertReference=function(l){var h=this.convertDocumentKey(l,this.firestore._databaseId);return new Tn(this.firestore,null,h)},s}(bp);function $a(a,s,l){a=cn(a,Tn);var h=cn(a.firestore,An),m=fd(a.converter,s,l);return pa(h,[Uo(ud(h),"setDoc",a._key,m,null!==a.converter,l).toMutation(a._key,vr.none())])}function Nn(a,s,l){for(var h=[],m=3;m<arguments.length;m++)h[m-3]=arguments[m];a=cn(a,Tn);var y=cn(a.firestore,An),b=ud(y);return pa(y,[("string"==typeof(s=(0,Ke.m9)(s))||s instanceof Vs?Bm(b,"updateDoc",a._key,s,l,h):Xc(b,"updateDoc",a._key,s)).toMutation(a._key,vr.exists(!0))])}function wp(a){for(var s,l,h,m=[],y=1;y<arguments.length;y++)m[y-1]=arguments[y];a=(0,Ke.m9)(a);var b={includeMetadataChanges:!1},C=0;"object"!=typeof m[C]||Yc(m[C])||(b=m[C],C++);var T,O,P,B={includeMetadataChanges:b.includeMetadataChanges};if(Yc(m[C])){var z=m[C];m[C]=null===(s=z.next)||void 0===s?void 0:s.bind(z),m[C+1]=null===(l=z.error)||void 0===l?void 0:l.bind(z),m[C+2]=null===(h=z.complete)||void 0===h?void 0:h.bind(z)}if(a instanceof Tn)O=cn(a.firestore,An),P=Zr(a._key.path),T={next:function(he){m[C]&&m[C](us(O,a,he))},error:m[C+1],complete:m[C+2]};else{var re=cn(a,ei);O=cn(re.firestore,An),P=re._query;var ne=new el(O);T={next:function(he){m[C]&&m[C](new as(O,ne,re,he))},error:m[C+1],complete:m[C+2]},gp(a._query)}return function(he,Re,Fe,dt){var mt=this,dn=new ca(dt),bn=new Ih(Re,dn,Fe);return he.asyncQueue.enqueueAndForget(function(){return(0,I.mG)(mt,void 0,void 0,function(){var $n;return(0,I.Jh)(this,function(Dn){switch(Dn.label){case 0:return $n=Sh,[4,Pu(he)];case 1:return[2,$n.apply(void 0,[Dn.sent(),bn])]}})})}),function(){dn.Wo(),he.asyncQueue.enqueueAndForget(function(){return(0,I.mG)(mt,void 0,void 0,function(){var $n;return(0,I.Jh)(this,function(Dn){switch(Dn.label){case 0:return $n=Xl,[4,Pu(he)];case 1:return[2,$n.apply(void 0,[Dn.sent(),bn])]}})})})}}(Xt(O),P,B,T)}function pa(a,s){return function(l,h){var m=this,y=new sr;return l.asyncQueue.enqueueAndForget(function(){return(0,I.mG)(m,void 0,void 0,function(){var b;return(0,I.Jh)(this,function(C){switch(C.label){case 0:return b=np,[4,rd(l)];case 1:return[2,b.apply(void 0,[C.sent(),h,y])]}})})}),y.promise}(Xt(a),s)}function us(a,s,l){var h=l.docs.get(s._key),m=new el(a);return new ha(a,m,s._key,h,new Ho(l.hasPendingWrites,l.fromCache),s.converter)}var Ze=function(a){function s(l,h){var m=this;return(m=a.call(this,l,h)||this)._firestore=l,m}return(0,I.ZT)(s,a),s.prototype.get=function(l){var h=this,m=So(l,this._firestore),y=new el(this._firestore);return a.prototype.get.call(this,l).then(function(b){return new ha(h._firestore,y,m._key,b._document,new Ho(!1,!1),m.converter)})},s}(function(){function a(s,l){this._firestore=s,this._transaction=l,this._dataReader=ud(s)}return a.prototype.get=function(s){var l=this,h=So(s,this._firestore),m=new Sy(this._firestore);return this._transaction.lookup([h._key]).then(function(y){if(!y||1!==y.length)return tt();var b=y[0];if(b.isFoundDocument())return new ln(l._firestore,m,b.key,b,h.converter);if(b.isNoDocument())return new ln(l._firestore,m,h._key,null,h.converter);throw tt()})},a.prototype.set=function(s,l,h){var m=So(s,this._firestore),y=fd(m.converter,l,h),b=Uo(this._dataReader,"Transaction.set",m._key,y,null!==m.converter,h);return this._transaction.set(m._key,b),this},a.prototype.update=function(s,l,h){for(var m=[],y=3;y<arguments.length;y++)m[y-3]=arguments[y];var b,C=So(s,this._firestore);return b="string"==typeof(l=(0,Ke.m9)(l))||l instanceof Vs?Bm(this._dataReader,"Transaction.update",C._key,l,h,m):Xc(this._dataReader,"Transaction.update",C._key,l),this._transaction.update(C._key,b),this},a.prototype.delete=function(s){var l=So(s,this._firestore);return this._transaction.delete(l._key),this},a}());function Ep(){if(typeof Uint8Array>"u")throw new Ee(oe.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Qn(){if(typeof atob>"u")throw new Ee(oe.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var tl=function(){function a(s){this._delegate=s}return a.fromBase64String=function(s){return Qn(),new a(os.fromBase64String(s))},a.fromUint8Array=function(s){return Ep(),new a(os.fromUint8Array(s))},a.prototype.toBase64=function(){return Qn(),this._delegate.toBase64()},a.prototype.toUint8Array=function(){return Ep(),this._delegate.toUint8Array()},a.prototype.isEqual=function(s){return this._delegate.isEqual(s._delegate)},a.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},a}(),cs=function(){function a(){}return a.prototype.enableIndexedDbPersistence=function(s,l){return function(h,m){hv(h=cn(h,An));var y=Xt(h),b=h._freezeSettings(),C=new up;return Lm(y,C,new ap(C,b.cacheSizeBytes,m?.forceOwnership))}(s._delegate,{forceOwnership:l})},a.prototype.enableMultiTabIndexedDbPersistence=function(s){return function(l){hv(l=cn(l,An));var h=Xt(l),m=l._freezeSettings(),y=new up;return Lm(h,y,new Tm(y,m.cacheSizeBytes))}(s._delegate)},a.prototype.clearIndexedDbPersistence=function(s){return function(l){var h=this;if(l._initialized&&!l._terminated)throw new Ee(oe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var m=new sr;return l._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,I.mG)(h,void 0,void 0,function(){var y;return(0,I.Jh)(this,function(b){switch(b.label){case 0:return b.trys.push([0,2,,3]),[4,function(C){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(O){switch(O.label){case 0:return nh.yt()?[4,nh.delete(C+"main")]:[2,Promise.resolve()];case 1:return O.sent(),[2]}})})}(lh(l._databaseId,l._persistenceKey))];case 1:return b.sent(),m.resolve(),[3,3];case 2:return y=b.sent(),m.reject(y),[3,3];case 3:return[2]}})})}),m.promise}(s._delegate)},a}(),pd=function(){function a(s,l,h){var m=this;this._delegate=l,this.Zc=h,this.INTERNAL={delete:function(){return m.terminate()}},s instanceof id||(this.tu=s)}return Object.defineProperty(a.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),a.prototype.settings=function(s){var l=this._delegate._getSettings();s.merge||l.host===s.host||Ud("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),s.merge&&delete(s=Object.assign(Object.assign({},l),s)).merge,this._delegate._setSettings(s)},a.prototype.useEmulator=function(s,l,h){void 0===h&&(h={}),function(m,y,b,C){var T;void 0===C&&(C={});var O=(m=cn(m,Fu))._getSettings();if("firestore.googleapis.com"!==O.host&&O.host!==y&&Ud("Host has been set in both settings() and useEmulator(), emulator host will be used"),m._setSettings(Object.assign(Object.assign({},O),{host:y+":"+b,ssl:!1})),C.mockUserToken){var P,B;if("string"==typeof C.mockUserToken)P=C.mockUserToken,B=zr.MOCK_USER;else{P=(0,Ke.Sg)(C.mockUserToken,null===(T=m._app)||void 0===T?void 0:T.options.projectId);var z=C.mockUserToken.sub||C.mockUserToken.user_id;if(!z)throw new Ee(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");B=new zr(z)}m._credentials=new lv(new qc(P,B))}}(this._delegate,s,l,h)},a.prototype.enableNetwork=function(){return function(s){var l=this;return s.asyncQueue.enqueue(function(){return(0,I.mG)(l,void 0,void 0,function(){var h,m;return(0,I.Jh)(this,function(y){switch(y.label){case 0:return[4,Rm(s)];case 1:return h=y.sent(),[4,cv(s)];case 2:return m=y.sent(),[2,(h.setNetworkEnabled(!0),b=m,C=Be(b),C.Or.delete(0),yh(C))]}var b,C})})})}(Xt(cn(this._delegate,An)))},a.prototype.disableNetwork=function(){return function(s){var l=this;return s.asyncQueue.enqueue(function(){return(0,I.mG)(l,void 0,void 0,function(){var h,m;return(0,I.Jh)(this,function(y){switch(y.label){case 0:return[4,Rm(s)];case 1:return h=y.sent(),[4,cv(s)];case 2:return m=y.sent(),[2,(h.setNetworkEnabled(!1),function(b){return(0,I.mG)(this,void 0,void 0,function(){var C;return(0,I.Jh)(this,function(T){switch(T.label){case 0:return(C=Be(b)).Or.add(0),[4,Gl(C)];case 1:return T.sent(),C.Br.set("Offline"),[2]}})})}(m))]}})})})}(Xt(cn(this._delegate,An)))},a.prototype.enablePersistence=function(s){var l=!1,h=!1;return s&&Ua("synchronizeTabs",l=!!s.synchronizeTabs,"experimentalForceOwningTab",h=!!s.experimentalForceOwningTab),l?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,h)},a.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},a.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},a.prototype.waitForPendingWrites=function(){return function(s){var l=this,h=new sr;return s.asyncQueue.enqueueAndForget(function(){return(0,I.mG)(l,void 0,void 0,function(){var m;return(0,I.Jh)(this,function(y){switch(y.label){case 0:return m=rv,[4,rd(s)];case 1:return[2,m.apply(void 0,[y.sent(),h])]}})})}),h.promise}(Xt(cn(this._delegate,An)))},a.prototype.onSnapshotsInSync=function(s){return h=s,function(m,y){var b=this,C=new ca(y);return m.asyncQueue.enqueueAndForget(function(){return(0,I.mG)(b,void 0,void 0,function(){var T;return(0,I.Jh)(this,function(O){switch(O.label){case 0:return T=function(P,B){Be(P).Gr.add(B),B.next()},[4,Pu(m)];case 1:return[2,T.apply(void 0,[O.sent(),C])]}})})}),function(){C.Wo(),m.asyncQueue.enqueueAndForget(function(){return(0,I.mG)(b,void 0,void 0,function(){var T;return(0,I.Jh)(this,function(O){switch(O.label){case 0:return T=function(P,B){Be(P).Gr.delete(B)},[4,Pu(m)];case 1:return[2,T.apply(void 0,[O.sent(),C])]}})})})}}(Xt(cn(this._delegate,An)),Yc(h)?h:{next:h});var h},Object.defineProperty(a.prototype,"app",{get:function(){if(!this.tu)throw new Ee(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),a.prototype.collection=function(s){try{return new c(this,is(this._delegate,s))}catch(l){throw ti(l,"collection()","Firestore.collection()")}},a.prototype.doc=function(s){try{return new ma(this,la(this._delegate,s))}catch(l){throw ti(l,"doc()","Firestore.doc()")}},a.prototype.collectionGroup=function(s){try{return new ar(this,function(l,h){if(l=cn(l,Fu),od("collectionGroup","collection id",h),h.indexOf("/")>=0)throw new Ee(oe.INVALID_ARGUMENT,"Invalid collection ID '"+h+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new ei(l,null,(m=h,new Ko(Kt.emptyPath(),m)));var m}(this._delegate,s))}catch(l){throw ti(l,"collectionGroup()","Firestore.collectionGroup()")}},a.prototype.runTransaction=function(s){var h,l=this;return function(y,b){var C=this,T=new sr;return y.asyncQueue.enqueueAndForget(function(){return(0,I.mG)(C,void 0,void 0,function(){var O;return(0,I.Jh)(this,function(P){switch(P.label){case 0:return[4,(B=y,$c(B).then(function(z){return z.datastore}))];case 1:return O=P.sent(),new cp(y.asyncQueue,O,b,T).run(),[2]}var B})})}),T.promise}(Xt(h=this._delegate),function(y){return function(h){return s(new Us(l,h))}(new Ze(h,y))})},a.prototype.batch=function(){var s=this;return Xt(this._delegate),new ls(new Iy(this._delegate,function(l){return pa(s._delegate,l)}))},a.prototype.loadBundle=function(s){throw new Ee(oe.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},a.prototype.namedQuery=function(s){throw new Ee(oe.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},a}(),Kh=function(a){function s(l){var h=this;return(h=a.call(this)||this).firestore=l,h}return(0,I.ZT)(s,a),s.prototype.convertBytes=function(l){return new tl(new os(l))},s.prototype.convertReference=function(l){var h=this.convertDocumentKey(l,this.firestore._databaseId);return ma.eu(h,this.firestore,null)},s}(bp),Us=function(){function a(s,l){this._firestore=s,this._delegate=l,this._userDataWriter=new Kh(s)}return a.prototype.get=function(s){var l=this,h=f(s);return this._delegate.get(h).then(function(m){return new zn(l._firestore,new ha(l._firestore._delegate,l._userDataWriter,m._key,m._document,m.metadata,h.converter))})},a.prototype.set=function(s,l,h){var m=f(s);return h?(dp("Transaction.set",h),this._delegate.set(m,l,h)):this._delegate.set(m,l),this},a.prototype.update=function(s,l,h){for(var m,y=[],b=3;b<arguments.length;b++)y[b-3]=arguments[b];var C=f(s);return 2===arguments.length?this._delegate.update(C,l):(m=this._delegate).update.apply(m,(0,I.ev)([C,l,h],y)),this},a.prototype.delete=function(s){var l=f(s);return this._delegate.delete(l),this},a}(),ls=function(){function a(s){this._delegate=s}return a.prototype.set=function(s,l,h){var m=f(s);return h?(dp("WriteBatch.set",h),this._delegate.set(m,l,h)):this._delegate.set(m,l),this},a.prototype.update=function(s,l,h){for(var m,y=[],b=3;b<arguments.length;b++)y[b-3]=arguments[b];var C=f(s);return 2===arguments.length?this._delegate.update(C,l):(m=this._delegate).update.apply(m,(0,I.ev)([C,l,h],y)),this},a.prototype.delete=function(s){var l=f(s);return this._delegate.delete(l),this},a.prototype.commit=function(){return this._delegate.commit()},a}(),Io=function(){function a(s,l,h){this._firestore=s,this._userDataWriter=l,this._delegate=h}return a.prototype.fromFirestore=function(s,l){var h=new rr(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,null);return this._delegate.fromFirestore(new md(this._firestore,h),l??{})},a.prototype.toFirestore=function(s,l){return l?this._delegate.toFirestore(s,l):this._delegate.toFirestore(s)},a.nu=function(s,l){var h=a.su,m=h.get(s);m||h.set(s,m=new WeakMap);var y=m.get(l);return y||(y=new a(s,new Kh(s),l),m.set(l,y)),y},a}();Io.su=new WeakMap;var ma=function(){function a(s,l){this.firestore=s,this._delegate=l,this._userDataWriter=new Kh(s)}return a.iu=function(s,l,h){if(s.length%2!=0)throw new Ee(oe.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+s.canonicalString()+" has "+s.length);return new a(l,new Tn(l._delegate,h,new Le(s)))},a.eu=function(s,l,h){return new a(l,new Tn(l._delegate,h,s))},Object.defineProperty(a.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"parent",{get:function(){return new c(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),a.prototype.collection=function(s){try{return new c(this.firestore,is(this._delegate,s))}catch(l){throw ti(l,"collection()","DocumentReference.collection()")}},a.prototype.isEqual=function(s){return(s=(0,Ke.m9)(s))instanceof Tn&&dv(this._delegate,s)},a.prototype.set=function(s,l){l=dp("DocumentReference.set",l);try{return l?$a(this._delegate,s,l):$a(this._delegate,s)}catch(h){throw ti(h,"setDoc()","DocumentReference.set()")}},a.prototype.update=function(s,l){for(var h=[],m=2;m<arguments.length;m++)h[m-2]=arguments[m];try{return 1===arguments.length?Nn(this._delegate,s):Nn.apply(void 0,(0,I.ev)([this._delegate,s,l],h))}catch(y){throw ti(y,"updateDoc()","DocumentReference.update()")}},a.prototype.delete=function(){return pa(cn((s=this._delegate).firestore,An),[new bu(s._key,vr.none())]);var s},a.prototype.onSnapshot=function(){for(var s=this,l=[],h=0;h<arguments.length;h++)l[h]=arguments[h];var m=Vu(l),y=_r(l,function(b){return new zn(s.firestore,new ha(s.firestore._delegate,s._userDataWriter,b._key,b._document,b.metadata,s._delegate.converter))});return wp(this._delegate,m,y)},a.prototype.get=function(s){var l=this;return("cache"===s?.source?function(h){h=cn(h,Tn);var m=cn(h.firestore,An),y=Xt(m),b=new el(m);return function(C,T){var O=this,P=new sr;return C.asyncQueue.enqueueAndForget(function(){return(0,I.mG)(O,void 0,void 0,function(){var B;return(0,I.Jh)(this,function(z){switch(z.label){case 0:return B=function(re,ne,he){return(0,I.mG)(this,void 0,void 0,function(){var Re,Fe;return(0,I.Jh)(this,function(dt){switch(dt.label){case 0:return dt.trys.push([0,2,,3]),[4,(mt=re,dn=ne,bn=Be(mt),bn.persistence.runTransaction("read document","readonly",function($n){return bn.Mn.mn($n,dn)}))];case 1:return(Fe=dt.sent()).isFoundDocument()?he.resolve(Fe):Fe.isNoDocument()?he.resolve(null):he.reject(new Ee(oe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return Re=dt.sent(),Fe=Ba(Re,"Failed to get document '"+ne+" from cache"),he.reject(Fe),[3,3];case 3:return[2]}var mt,dn,bn})})},[4,_n(C)];case 1:return[2,B.apply(void 0,[z.sent(),T,P])]}})})}),P.promise}(y,h._key).then(function(C){return new ha(m,b,h._key,C,new Ho(null!==C&&C.hasLocalMutations,!0),h.converter)})}(this._delegate):"server"===s?.source?function(h){h=cn(h,Tn);var m=cn(h.firestore,An);return km(Xt(m),h._key,{source:"server"}).then(function(y){return us(m,h,y)})}(this._delegate):function(h){h=cn(h,Tn);var m=cn(h.firestore,An);return km(Xt(m),h._key).then(function(y){return us(m,h,y)})}(this._delegate)).then(function(h){return new zn(l.firestore,new ha(l.firestore._delegate,l._userDataWriter,h._key,h._document,h.metadata,l._delegate.converter))})},a.prototype.withConverter=function(s){return new a(this.firestore,this._delegate.withConverter(s?Io.nu(this.firestore,s):null))},a}();function ti(a,s,l){return a.message=a.message.replace(s,l),a}function Vu(a){for(var s=0,l=a;s<l.length;s++){var h=l[s];if("object"==typeof h&&!Yc(h))return h}return{}}function _r(a,s){var l,h,m;return{next:function(y){m.next&&m.next(s(y))},error:null===(l=(m=Yc(a[0])?a[0]:Yc(a[1])?a[1]:"function"==typeof a[0]?{next:a[0],error:a[1],complete:a[2]}:{next:a[1],error:a[2],complete:a[3]}).error)||void 0===l?void 0:l.bind(m),complete:null===(h=m.complete)||void 0===h?void 0:h.bind(m)}}var zn=function(){function a(s,l){this._firestore=s,this._delegate=l}return Object.defineProperty(a.prototype,"ref",{get:function(){return new ma(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),a.prototype.data=function(s){return this._delegate.data(s)},a.prototype.get=function(s,l){return this._delegate.get(s,l)},a.prototype.isEqual=function(s){return zh(this._delegate,s._delegate)},a}(),md=function(a){function s(){return null!==a&&a.apply(this,arguments)||this}return(0,I.ZT)(s,a),s.prototype.data=function(l){return this._delegate.data(l)},s}(zn),ar=function(){function a(s,l){this.firestore=s,this._delegate=l,this._userDataWriter=new Kh(s)}return a.prototype.where=function(s,l,h){try{return new a(this.firestore,fa(this._delegate,(b=h,C=l,T=za("where",m=s),new jm(T,C,b))))}catch(m){throw ti(m,/(orderBy|where)\(\)/,"Query.$1()")}var m,b,C,T},a.prototype.orderBy=function(s,l){try{return new a(this.firestore,fa(this._delegate,function(h,m){void 0===m&&(m="asc");var y=m,b=za("orderBy",h);return new $h(b,y)}(s,l)))}catch(h){throw ti(h,/(orderBy|where)\(\)/,"Query.$1()")}},a.prototype.limit=function(s){try{return new a(this.firestore,fa(this._delegate,(ad("limit",l=s),new hd("limit",l,"F"))))}catch(l){throw ti(l,"limit()","Query.limit()")}var l},a.prototype.limitToLast=function(s){try{return new a(this.firestore,fa(this._delegate,(ad("limitToLast",l=s),new hd("limitToLast",l,"L"))))}catch(l){throw ti(l,"limitToLast()","Query.limitToLast()")}var l},a.prototype.startAt=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];try{return new a(this.firestore,fa(this._delegate,function(){for(var h=[],m=0;m<arguments.length;m++)h[m]=arguments[m];return new vp("startAt",h,!0)}.apply(void 0,s)))}catch(h){throw ti(h,"startAt()","Query.startAt()")}},a.prototype.startAfter=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];try{return new a(this.firestore,fa(this._delegate,function(){for(var h=[],m=0;m<arguments.length;m++)h[m]=arguments[m];return new vp("startAfter",h,!1)}.apply(void 0,s)))}catch(h){throw ti(h,"startAfter()","Query.startAfter()")}},a.prototype.endBefore=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];try{return new a(this.firestore,fa(this._delegate,function(){for(var h=[],m=0;m<arguments.length;m++)h[m]=arguments[m];return new qh("endBefore",h,!0)}.apply(void 0,s)))}catch(h){throw ti(h,"endBefore()","Query.endBefore()")}},a.prototype.endAt=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];try{return new a(this.firestore,fa(this._delegate,function(){for(var h=[],m=0;m<arguments.length;m++)h[m]=arguments[m];return new qh("endAt",h,!1)}.apply(void 0,s)))}catch(h){throw ti(h,"endAt()","Query.endAt()")}},a.prototype.isEqual=function(s){return Kc(this._delegate,s._delegate)},a.prototype.get=function(s){var l=this;return("cache"===s?.source?function(h){h=cn(h,ei);var m=cn(h.firestore,An),y=Xt(m),b=new el(m);return function(C,T){var O=this,P=new sr;return C.asyncQueue.enqueueAndForget(function(){return(0,I.mG)(O,void 0,void 0,function(){var B;return(0,I.Jh)(this,function(z){switch(z.label){case 0:return B=function(re,ne,he){return(0,I.mG)(this,void 0,void 0,function(){var Re,Fe,dt,mt,dn;return(0,I.Jh)(this,function(bn){switch(bn.label){case 0:return bn.trys.push([0,2,,3]),[4,Hl(re,ne,!0)];case 1:return dn=bn.sent(),Re=new ep(ne,dn.Bn),Fe=Re._o(dn.documents),dt=Re.applyChanges(Fe,!1),he.resolve(dt.snapshot),[3,3];case 2:return mt=bn.sent(),dn=Ba(mt,"Failed to execute query '"+ne+" against cache"),he.reject(dn),[3,3];case 3:return[2]}})})},[4,_n(C)];case 1:return[2,B.apply(void 0,[z.sent(),T,P])]}})})}),P.promise}(y,h._query).then(function(C){return new as(m,b,h,C)})}(this._delegate):"server"===s?.source?function(h){h=cn(h,ei);var m=cn(h.firestore,An),y=Xt(m),b=new el(m);return Do(y,h._query,{source:"server"}).then(function(C){return new as(m,b,h,C)})}(this._delegate):function(h){h=cn(h,ei);var m=cn(h.firestore,An),y=Xt(m),b=new el(m);return gp(h._query),Do(y,h._query).then(function(C){return new as(m,b,h,C)})}(this._delegate)).then(function(h){return new Um(l.firestore,new as(l.firestore._delegate,l._userDataWriter,l._delegate,h._snapshot))})},a.prototype.onSnapshot=function(){for(var s=this,l=[],h=0;h<arguments.length;h++)l[h]=arguments[h];var m=Vu(l),y=_r(l,function(b){return new Um(s.firestore,new as(s.firestore._delegate,s._userDataWriter,s._delegate,b._snapshot))});return wp(this._delegate,m,y)},a.prototype.withConverter=function(s){return new a(this.firestore,this._delegate.withConverter(s?Io.nu(this.firestore,s):null))},a}(),pv=function(){function a(s,l){this._firestore=s,this._delegate=l}return Object.defineProperty(a.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"doc",{get:function(){return new md(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),a}(),Um=function(){function a(s,l){this._firestore=s,this._delegate=l}return Object.defineProperty(a.prototype,"query",{get:function(){return new ar(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"docs",{get:function(){var s=this;return this._delegate.docs.map(function(l){return new md(s._firestore,l)})},enumerable:!1,configurable:!0}),a.prototype.docChanges=function(s){var l=this;return this._delegate.docChanges(s).map(function(h){return new pv(l._firestore,h)})},a.prototype.forEach=function(s,l){var h=this;this._delegate.forEach(function(m){s.call(l,new md(h._firestore,m))})},a.prototype.isEqual=function(s){return zh(this._delegate,s._delegate)},a}(),c=function(a){function s(l,h){var m=this;return(m=a.call(this,l,h)||this).firestore=l,m._delegate=h,m}return(0,I.ZT)(s,a),Object.defineProperty(s.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"parent",{get:function(){var l=this._delegate.parent;return l?new ma(this.firestore,l):null},enumerable:!1,configurable:!0}),s.prototype.doc=function(l){try{return new ma(this.firestore,void 0===l?la(this._delegate):la(this._delegate,l))}catch(h){throw ti(h,"doc()","CollectionReference.doc()")}},s.prototype.add=function(l){var m,y,b,C,T,h=this;return(m=this._delegate,y=l,b=cn(m.firestore,An),C=la(m),T=fd(m.converter,y),pa(b,[Uo(ud(m.firestore),"addDoc",C._key,T,null!==m.converter,{}).toMutation(C._key,vr.exists(!1))]).then(function(){return C})).then(function(m){return new ma(h.firestore,m)})},s.prototype.isEqual=function(l){return dv(this._delegate,l._delegate)},s.prototype.withConverter=function(l){return new s(this.firestore,this._delegate.withConverter(l?Io.nu(this.firestore,l):null))},s}(ar);function f(a){return cn(a,Tn)}var v=function(){function a(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];this._delegate=new(Vs.bind.apply(Vs,(0,I.ev)([void 0],s)))}return a.documentId=function(){return new a(As.keyField().canonicalString())},a.prototype.isEqual=function(s){return(s=(0,Ke.m9)(s))instanceof Vs&&this._delegate._internalPath.isEqual(s._internalPath)},a}(),w=function(){function a(s){this._delegate=s}return a.serverTimestamp=function(){var s=new Bh("serverTimestamp");return s._methodName="FieldValue.serverTimestamp",new a(s)},a.delete=function(){var s=new cd("deleteField");return s._methodName="FieldValue.delete",new a(s)},a.arrayUnion=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var h=function(){for(var m=[],y=0;y<arguments.length;y++)m[y]=arguments[y];return new Bs("arrayUnion",m)}.apply(void 0,s);return h._methodName="FieldValue.arrayUnion",new a(h)},a.arrayRemove=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var h=function(){for(var m=[],y=0;y<arguments.length;y++)m[y]=arguments[y];return new Cy("arrayRemove",m)}.apply(void 0,s);return h._methodName="FieldValue.arrayRemove",new a(h)},a.increment=function(s){var l=new Dy("increment",s);return l._methodName="FieldValue.increment",new a(l)},a.prototype.isEqual=function(s){return this._delegate.isEqual(s._delegate)},a}(),N=qt(461),j={Firestore:pd,GeoPoint:Fh,Timestamp:Oi,Blob:tl,Transaction:Us,WriteBatch:ls,DocumentReference:ma,DocumentSnapshot:zn,Query:ar,QueryDocumentSnapshot:md,QuerySnapshot:Um,CollectionReference:c,FieldPath:v,FieldValue:w,setLogLevel:function Y_(a){Kr.setLogLevel(a)},CACHE_SIZE_UNLIMITED:-1};!function fe(a){a.INTERNAL.registerComponent(new N.wA("firestore",function(h){return s=h.getProvider("app").getImmediate(),l=h.getProvider("auth-internal"),new pd(s,new An(s,l),new cs);var s,l},"PUBLIC").setServiceProps(Object.assign({},j))),a.registerVersion("@firebase/firestore","2.4.1")}(_e.Z)},589:(Ja,hi,qt)=>{qt.r(hi);var _e=qt(367),I=qt(655),Ke=qt(492),qe=qt(461),Nt="firebasestorage.googleapis.com",lo="storageBucket",ce=function(R){function M(F,U){var K=R.call(this,q(F),"Firebase Storage: "+U+" ("+q(F)+")")||this;return K.customData={serverResponse:null},K._baseMessage=K.message,Object.setPrototypeOf(K,M.prototype),K}return(0,I.ZT)(M,R),M.prototype._codeEquals=function(F){return q(F)===this.code},Object.defineProperty(M.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(F){this.customData.serverResponse=F,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),M}(Ke.ZR);function q(R){return"storage/"+R}function De(){return new ce("unknown","An unknown error occurred, please check the error payload for server response.")}function bt(){return new ce("canceled","User canceled the upload/download.")}function wt(){return new ce("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Jt(R){return new ce("invalid-argument",R)}function Ki(){return new ce("app-deleted","The Firebase app was deleted.")}function pt(R){return new ce("invalid-root-operation","The operation '"+R+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function xo(R,M){return new ce("invalid-format","String does not match format '"+R+"': "+M)}function Q(R){throw new ce("internal-error","Internal error: "+R)}var Jn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},de=function R(M,F){this.data=M,this.contentType=F||null};function te(R,M){switch(R){case Jn.RAW:return new de(ge(M));case Jn.BASE64:case Jn.BASE64URL:return new de(ke(R,M));case Jn.DATA_URL:return new de(function ye(R){var M=new Se(R);return M.base64?ke(Jn.BASE64,M.rest):function pe(R){var M;try{M=decodeURIComponent(R)}catch{throw xo(Jn.DATA_URL,"Malformed data URL.")}return ge(M)}(M.rest)}(M),function Ne(R){return new Se(R).contentType}(M))}throw De()}function ge(R){for(var M=[],F=0;F<R.length;F++){var U=R.charCodeAt(F);if(U<=127)M.push(U);else if(U<=2047)M.push(192|U>>6,128|63&U);else if(55296==(64512&U))if(F<R.length-1&&56320==(64512&R.charCodeAt(F+1))){var ie=U,be=R.charCodeAt(++F);M.push(240|(U=65536|(1023&ie)<<10|1023&be)>>18,128|U>>12&63,128|U>>6&63,128|63&U)}else M.push(239,191,189);else 56320==(64512&U)?M.push(239,191,189):M.push(224|U>>12,128|U>>6&63,128|63&U)}return new Uint8Array(M)}function ke(R,M){switch(R){case Jn.BASE64:var F=-1!==M.indexOf("-"),U=-1!==M.indexOf("_");if(F||U)throw xo(R,"Invalid character '"+(F?"-":"_")+"' found: is it base64url encoded?");break;case Jn.BASE64URL:var ie=-1!==M.indexOf("+"),be=-1!==M.indexOf("/");if(ie||be)throw xo(R,"Invalid character '"+(ie?"+":"/")+"' found: is it base64 encoded?");M=M.replace(/-/g,"+").replace(/_/g,"/")}var $e;try{$e=function qr(R){return atob(R)}(M)}catch{throw xo(R,"Invalid character found")}for(var H=new Uint8Array($e.length),Je=0;Je<$e.length;Je++)H[Je]=$e.charCodeAt(Je);return H}var Se=function R(M){this.base64=!1,this.contentType=null;var F=M.match(/^data:([^,]+)?,/);if(null===F)throw xo(Jn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var U=F[1]||null;null!=U&&(this.base64=function ht(R,M){return!!(R.length>=M.length)&&R.substring(R.length-M.length)===M}(U,";base64"),this.contentType=this.base64?U.substring(0,U.length-7):U),this.rest=M.substring(M.indexOf(",")+1)},Oe={STATE_CHANGED:"state_changed"},Ue={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Sn(R){switch(R){case"running":case"pausing":case"canceling":return Ue.RUNNING;case"paused":return Ue.PAUSED;case"success":return Ue.SUCCESS;case"canceled":return Ue.CANCELED;default:return Ue.ERROR}}var je=(()=>((je=je||{})[je.NO_ERROR=0]="NO_ERROR",je[je.NETWORK_ERROR=1]="NETWORK_ERROR",je[je.ABORT=2]="ABORT",je))(),Mn=function(){function R(){var M=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=je.NO_ERROR,this.sendPromise_=new Promise(function(F){M.xhr_.addEventListener("abort",function(){M.errorCode_=je.ABORT,F()}),M.xhr_.addEventListener("error",function(){M.errorCode_=je.NETWORK_ERROR,F()}),M.xhr_.addEventListener("load",function(){F()})})}return R.prototype.send=function(M,F,U,K){if(this.sent_)throw Q("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(F,M,!0),void 0!==K)for(var ie in K)K.hasOwnProperty(ie)&&this.xhr_.setRequestHeader(ie,K[ie].toString());return void 0!==U?this.xhr_.send(U):this.xhr_.send(),this.sendPromise_},R.prototype.getErrorCode=function(){if(!this.sent_)throw Q("cannot .getErrorCode() before sending");return this.errorCode_},R.prototype.getStatus=function(){if(!this.sent_)throw Q("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},R.prototype.getResponseText=function(){if(!this.sent_)throw Q("cannot .getResponseText() before sending");return this.xhr_.responseText},R.prototype.abort=function(){this.xhr_.abort()},R.prototype.getResponseHeader=function(M){return this.xhr_.getResponseHeader(M)},R.prototype.addUploadProgressListener=function(M){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",M)},R.prototype.removeUploadProgressListener=function(M){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",M)},R}(),Lt=function(){function R(){}return R.prototype.createConnection=function(){return function Nr(){return new Mn}()},R}(),xn=function(){function R(M,F){this.bucket=M,this.path_=F}return Object.defineProperty(R.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),R.prototype.fullServerUrl=function(){var M=encodeURIComponent;return"/b/"+M(this.bucket)+"/o/"+M(this.path)},R.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},R.makeFromBucketSpec=function(M,F){var U;try{U=R.makeFromUrl(M,F)}catch{return new R(M,"")}if(""===U.path)return U;throw function Yt(R){return new ce("invalid-default-bucket","Invalid default bucket '"+R+"'.")}(M)},R.makeFromUrl=function(M,F){var U=null,K="([A-Za-z0-9.\\-_]+)",$e=new RegExp("^gs://"+K+"(/(.*))?$","i");function Je(Xi){Xi.path_=decodeURIComponent(Xi.path)}for(var ut=F.replace(/[.]/g,"\\."),Kn=[{regex:$e,indices:{bucket:1,path:3},postModify:function ie(Xi){"/"===Xi.path.charAt(Xi.path.length-1)&&(Xi.path_=Xi.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+ut+"/v[A-Za-z0-9_]+/b/"+K+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:Je},{regex:new RegExp("^https?://"+(F===Nt?"(?:storage.googleapis.com|storage.cloud.google.com)":F)+"/"+K+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:Je}],Lr=0;Lr<Kn.length;Lr++){var Wt=Kn[Lr],Cs=Wt.regex.exec(M);if(Cs){var Er=Cs[Wt.indices.path];Er||(Er=""),U=new R(Cs[Wt.indices.bucket],Er),Wt.postModify(U);break}}if(null==U)throw function Mr(R){return new ce("invalid-url","Invalid URL '"+R+"'.")}(M);return U},R}(),Ro=function(){function R(M){this.promise_=Promise.reject(M)}return R.prototype.getPromise=function(){return this.promise_},R.prototype.cancel=function(M){},R}();function qn(R){return"string"==typeof R||R instanceof String}function pn(R){return Gn()&&R instanceof Blob}function Gn(){return typeof Blob<"u"}function Ws(R,M,F,U){if(U<M)throw Jt("Invalid value for '"+R+"'. Expected "+M+" or greater.");if(U>F)throw Jt("Invalid value for '"+R+"'. Expected "+F+" or less.")}function ho(R,M){var F=M.match(/^(\w+):\/\/.+/),U=F?.[1],K=M;return null==U&&(K="https://"+M),K+"/v0"+R}function Ad(R){var M=encodeURIComponent,F="?";for(var U in R)R.hasOwnProperty(U)&&(F=F+(M(U)+"=")+M(R[U])+"&");return F.slice(0,-1)}var Pr=function(){function R(M,F,U,K,ie,be,$e,H,Je,me,ut){var er=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=M,this.method_=F,this.headers_=U,this.body_=K,this.successCodes_=ie.slice(),this.additionalRetryCodes_=be.slice(),this.callback_=$e,this.errorCallback_=H,this.progressCallback_=me,this.timeout_=Je,this.pool_=ut,this.promise_=new Promise(function(hr,Cn){er.resolve_=hr,er.reject_=Cn,er.start_()})}return R.prototype.start_=function(){var M=this;function U(K,ie){var be=M.resolve_,$e=M.reject_,H=ie.connection;if(ie.wasSuccessCode)try{var Je=M.callback_(H,H.getResponseText());!function fi(R){return void 0!==R}(Je)?be():be(Je)}catch(ut){$e(ut)}else if(null!==H)(me=De()).serverResponse=H.getResponseText(),$e(M.errorCallback_?M.errorCallback_(H,me):me);else if(ie.canceled)$e(me=M.appDelete_?Ki():bt());else{var me;$e(me=function Ft(){return new ce("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())}}this.canceled_?U(0,new vs(!1,null,!0)):this.backoffId_=function Gt(R,M,F){var U=1,K=null,ie=!1,be=0;function $e(){return 2===be}var H=!1;function Je(){for(var Cn=[],Wn=0;Wn<arguments.length;Wn++)Cn[Wn]=arguments[Wn];H||(H=!0,M.apply(null,Cn))}function me(Cn){K=setTimeout(function(){K=null,R(ut,$e())},Cn)}function ut(Cn){for(var Wn=[],wr=1;wr<arguments.length;wr++)Wn[wr-1]=arguments[wr];if(!H){if(Cn)return void Je.call.apply(Je,(0,I.ev)([null,Cn],Wn));var tr;if($e()||ie)return void Je.call.apply(Je,(0,I.ev)([null,Cn],Wn));U<64&&(U*=2),1===be?(be=2,tr=0):tr=1e3*(U+Math.random()),me(tr)}}var er=!1;function hr(Cn){er||(er=!0,!H&&(null!==K?(Cn||(be=2),clearTimeout(K),me(0)):Cn||(be=1)))}return me(0),setTimeout(function(){ie=!0,hr(!0)},F),hr}(function F(K,ie){if(ie)K(!1,new vs(!1,null,!0));else{var be=M.pool_.createConnection();M.pendingConnection_=be,null!==M.progressCallback_&&be.addUploadProgressListener($e),be.send(M.url_,M.method_,M.body_,M.headers_).then(function(){null!==M.progressCallback_&&be.removeUploadProgressListener($e),M.pendingConnection_=null;var H=be.getErrorCode()===je.NO_ERROR,Je=be.getStatus();if(H&&!M.isRetryStatusCode_(Je)){var ut=-1!==M.successCodes_.indexOf(Je);K(!0,new vs(ut,be))}else{var me=be.getErrorCode()===je.ABORT;K(!1,new vs(!1,null,me))}})}function $e(H){null!==M.progressCallback_&&M.progressCallback_(H.loaded,H.lengthComputable?H.total:-1)}},U,this.timeout_)},R.prototype.getPromise=function(){return this.promise_},R.prototype.cancel=function(M){this.canceled_=!0,this.appDelete_=M||!1,null!==this.backoffId_&&function en(R){R(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()},R.prototype.isRetryStatusCode_=function(M){var F=M>=500&&M<600,K=-1!==[408,429].indexOf(M),ie=-1!==this.additionalRetryCodes_.indexOf(M);return F||K||ie},R}(),vs=function R(M,F,U){this.wasSuccessCode=M,this.connection=F,this.canceled=!!U};function cl(){for(var R=[],M=0;M<arguments.length;M++)R[M]=arguments[M];var F=function br(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==F){for(var U=new F,K=0;K<R.length;K++)U.append(R[K]);return U.getBlob()}if(Gn())return new Blob(R);throw new ce("unsupported-environment","This browser doesn't seem to support creating Blobs")}var Ln=function(){function R(M,F){var U=0,K="";pn(M)?(this.data_=M,U=M.size,K=M.type):M instanceof ArrayBuffer?(F?this.data_=new Uint8Array(M):(this.data_=new Uint8Array(M.byteLength),this.data_.set(new Uint8Array(M))),U=this.data_.length):M instanceof Uint8Array&&(F?this.data_=M:(this.data_=new Uint8Array(M.length),this.data_.set(M)),U=M.length),this.size_=U,this.type_=K}return R.prototype.size=function(){return this.size_},R.prototype.type=function(){return this.type_},R.prototype.slice=function(M,F){if(pn(this.data_)){var K=function Ku(R,M,F){return R.webkitSlice?R.webkitSlice(M,F):R.mozSlice?R.mozSlice(M,F):R.slice?R.slice(M,F):null}(this.data_,M,F);return null===K?null:new R(K)}return new R(new Uint8Array(this.data_.buffer,M,F-M),!0)},R.getBlob=function(){for(var M=[],F=0;F<arguments.length;F++)M[F]=arguments[F];if(Gn()){var U=M.map(function(H){return H instanceof R?H.data_:H});return new R(cl.apply(null,U))}var K=M.map(function(H){return qn(H)?te(Jn.RAW,H).data:H.data_}),ie=0;K.forEach(function(H){ie+=H.byteLength});var be=new Uint8Array(ie),$e=0;return K.forEach(function(H){for(var Je=0;Je<H.length;Je++)be[$e++]=H[Je]}),new R(be,!0)},R.prototype.uploadData=function(){return this.data_},R}();function $o(R){var M;try{M=JSON.parse(R)}catch{return null}return function Fn(R){return"object"==typeof R&&!Array.isArray(R)}(M)?M:null}function J(R){var M=R.lastIndexOf("/",R.length-2);return-1===M?R:R.slice(M+1)}function se(R,M){return M}var X=function R(M,F,U,K){this.server=M,this.local=F||M,this.writable=!!U,this.xform=K||se},Ae=null;function tn(){if(Ae)return Ae;var R=[];R.push(new X("bucket")),R.push(new X("generation")),R.push(new X("metageneration")),R.push(new X("name","fullPath",!0));var F=new X("name");F.xform=function M(ie,be){return function ft(R){return!qn(R)||R.length<2?R:J(R)}(be)},R.push(F);var K=new X("size");return K.xform=function U(ie,be){return void 0!==be?Number(be):be},R.push(K),R.push(new X("timeCreated")),R.push(new X("updated")),R.push(new X("md5Hash",null,!0)),R.push(new X("cacheControl",null,!0)),R.push(new X("contentDisposition",null,!0)),R.push(new X("contentEncoding",null,!0)),R.push(new X("contentLanguage",null,!0)),R.push(new X("contentType",null,!0)),R.push(new X("metadata","customMetadata",!0)),Ae=R}function Fr(R,M,F){var U=$o(M);return null===U?null:function sn(R,M,F){for(var U={type:"file"},K=F.length,ie=0;ie<K;ie++){var be=F[ie];U[be.local]=be.xform(U,M[be.server])}return function mn(R,M){Object.defineProperty(R,"ref",{get:function F(){var ie=new xn(R.bucket,R.fullPath);return M._makeStorageReference(ie)}})}(U,R),U}(R,U,F)}function gt(R,M){for(var F={},U=M.length,K=0;K<U;K++){var ie=M[K];ie.writable&&(F[ie.server]=R[ie.local])}return JSON.stringify(F)}var pi="prefixes",_a="items";var fo=function R(M,F,U,K){this.url=M,this.method=F,this.handler=U,this.timeout=K,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function Mt(R){if(!R)throw De()}function ys(R,M){return function F(U,K){var ie=Fr(R,K,M);return Mt(null!==ie),ie}}function at(R){return function M(F,U){var K;return K=401===F.getStatus()?F.getResponseText().includes("Firebase App Check token is invalid")?function Pt(){return new ce("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function Pe(){return new ce("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===F.getStatus()?function Me(R){return new ce("quota-exceeded","Quota for bucket '"+R+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(R.bucket):403===F.getStatus()?function Rt(R){return new ce("unauthorized","User does not have permission to access '"+R+"'.")}(R.path):U,K.serverResponse=U.serverResponse,K}}function _s(R){var M=at(R);return function F(U,K){var ie=M(U,K);return 404===U.getStatus()&&(ie=function He(R){return new ce("object-not-found","Object '"+R+"' does not exist.")}(R.path)),ie.serverResponse=K.serverResponse,ie}}function eu(R,M,F){var K=ho(M.fullServerUrl(),R.host),be=R.maxOperationRetryTime,$e=new fo(K,"GET",ys(R,F),be);return $e.errorHandler=_s(M),$e}function ll(R,M,F,U,K){var ie={};ie.prefix=M.isRoot?"":M.path+"/",F&&F.length>0&&(ie.delimiter=F),U&&(ie.pageToken=U),K&&(ie.maxResults=K);var $e=ho(M.bucketOnlyServerUrl(),R.host),Je=R.maxOperationRetryTime,me=new fo($e,"GET",function Rd(R,M){return function F(U,K){var ie=function En(R,M,F){var U=$o(F);return null===U?null:function xd(R,M,F){var U={prefixes:[],items:[],nextPageToken:F.nextPageToken};if(F[pi])for(var K=0,ie=F[pi];K<ie.length;K++){var $e=ie[K].replace(/\/$/,""),H=R._makeStorageReference(new xn(M,$e));U.prefixes.push(H)}if(F[_a])for(var Je=0,me=F[_a];Je<me.length;Je++)H=R._makeStorageReference(new xn(M,me[Je].name)),U.items.push(H);return U}(R,M,U)}(R,M,K);return Mt(null!==ie),ie}}(R,M.bucket),Je);return me.urlParams=ie,me.errorHandler=at(M),me}function yn(R,M,F){var U=Object.assign({},F);return U.fullPath=R.path,U.size=M.size(),U.contentType||(U.contentType=function Et(R,M){return R&&R.contentType||M&&M.type()||"application/octet-stream"}(null,M)),U}var Zu=function R(M,F,U,K){this.current=M,this.total=F,this.finalized=!!U,this.metadata=K||null};function nu(R,M){var F=null;try{F=R.getResponseHeader("X-Goog-Upload-Status")}catch{Mt(!1)}return Mt(!!F&&-1!==(M||["active"]).indexOf(F)),F}var ru=function R(M,F,U){var K=function Rn(R){return"function"==typeof R}(M)||null!=F||null!=U;if(K)this.next=M,this.error=F,this.complete=U;else{var ie=M;this.next=ie.next,this.error=ie.error,this.complete=ie.complete}};function Zi(R){return function(){for(var M=[],F=0;F<arguments.length;F++)M[F]=arguments[F];Promise.resolve().then(function(){return R.apply(void 0,M)})}}var lf=function(){function R(M,F,U){var K=this;void 0===U&&(U=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=M,this._blob=F,this._metadata=U,this._mappings=tn(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(ie){K._request=void 0,K._chunkMultiplier=1,ie._codeEquals("canceled")?(K._needToFetchStatus=!0,K.completeTransitions_()):(K._error=ie,K._transition("error"))},this._metadataErrorHandler=function(ie){K._request=void 0,ie._codeEquals("canceled")?K.completeTransitions_():(K._error=ie,K._transition("error"))},this._promise=new Promise(function(ie,be){K._resolve=ie,K._reject=be,K._start()}),this._promise.then(null,function(){})}return R.prototype._makeProgressCallback=function(){var M=this,F=this._transferred;return function(U){return M._updateProgress(F+U)}},R.prototype._shouldDoResumable=function(M){return M.size()>262144},R.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},R.prototype._resolveToken=function(M){var F=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(U){var K=U[0],ie=U[1];switch(F._state){case"running":M(K,ie);break;case"canceling":F._transition("canceled");break;case"pausing":F._transition("paused")}})},R.prototype._createResumable=function(){var M=this;this._resolveToken(function(F,U){var K=function ba(R,M,F,U,K){var ie=M.bucketOnlyServerUrl(),be=yn(M,U,K),$e={name:be.fullPath},H=ho(ie,R.host),me={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+U.size(),"X-Goog-Upload-Header-Content-Type":be.contentType,"Content-Type":"application/json; charset=utf-8"},ut=gt(be,F),Cn=new fo(H,"POST",function hr(Wn){var wr;nu(Wn);try{wr=Wn.getResponseHeader("X-Goog-Upload-URL")}catch{Mt(!1)}return Mt(qn(wr)),wr},R.maxUploadRetryTime);return Cn.urlParams=$e,Cn.headers=me,Cn.body=ut,Cn.errorHandler=at(M),Cn}(M._ref.storage,M._ref._location,M._mappings,M._blob,M._metadata),ie=M._ref.storage._makeRequest(K,F,U);M._request=ie,ie.getPromise().then(function(be){M._request=void 0,M._uploadUrl=be,M._needToFetchStatus=!1,M.completeTransitions_()},M._errorHandler)})},R.prototype._fetchStatus=function(){var M=this,F=this._uploadUrl;this._resolveToken(function(U,K){var ie=function oi(R,M,F,U){var H=new fo(F,"POST",function ie(Je){var me=nu(Je,["active","final"]),ut=null;try{ut=Je.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Mt(!1)}ut||Mt(!1);var er=Number(ut);return Mt(!isNaN(er)),new Zu(er,U.size(),"final"===me)},R.maxUploadRetryTime);return H.headers={"X-Goog-Upload-Command":"query"},H.errorHandler=at(M),H}(M._ref.storage,M._ref._location,F,M._blob),be=M._ref.storage._makeRequest(ie,U,K);M._request=be,be.getPromise().then(function($e){M._request=void 0,M._updateProgress($e.current),M._needToFetchStatus=!1,$e.finalized&&(M._needToFetchMetadata=!0),M.completeTransitions_()},M._errorHandler)})},R.prototype._continueUpload=function(){var M=this,F=262144*this._chunkMultiplier,U=new Zu(this._transferred,this._blob.size()),K=this._uploadUrl;this._resolveToken(function(ie,be){var $e;try{$e=function ko(R,M,F,U,K,ie,be,$e){var H=new Zu(0,0);if(be?(H.current=be.current,H.total=be.total):(H.current=0,H.total=U.size()),U.size()!==H.total)throw function ir(){return new ce("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();var Je=H.total-H.current,me=Je;K>0&&(me=Math.min(me,K));var ut=H.current,Cn={"X-Goog-Upload-Command":me===Je?"upload, finalize":"upload","X-Goog-Upload-Offset":""+H.current},Wn=U.slice(ut,ut+me);if(null===Wn)throw wt();var Kn=new fo(F,"POST",function wr(Lr,Wt){var Xi,Cs=nu(Lr,["active","final"]),cr=H.current+me,Er=U.size();return Xi="final"===Cs?ys(M,ie)(Lr,Wt):null,new Zu(cr,Er,"final"===Cs,Xi)},M.maxUploadRetryTime);return Kn.headers=Cn,Kn.body=Wn.uploadData(),Kn.progressCallback=$e||null,Kn.errorHandler=at(R),Kn}(M._ref._location,M._ref.storage,K,M._blob,F,M._mappings,U,M._makeProgressCallback())}catch(Je){return M._error=Je,void M._transition("error")}var H=M._ref.storage._makeRequest($e,ie,be);M._request=H,H.getPromise().then(function(Je){M._increaseMultiplier(),M._request=void 0,M._updateProgress(Je.current),Je.finalized?(M._metadata=Je.metadata,M._transition("success")):M.completeTransitions_()},M._errorHandler)})},R.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},R.prototype._fetchMetadata=function(){var M=this;this._resolveToken(function(F,U){var K=eu(M._ref.storage,M._ref._location,M._mappings),ie=M._ref.storage._makeRequest(K,F,U);M._request=ie,ie.getPromise().then(function(be){M._request=void 0,M._metadata=be,M._transition("success")},M._metadataErrorHandler)})},R.prototype._oneShotUpload=function(){var M=this;this._resolveToken(function(F,U){var K=function tu(R,M,F,U,K){var ie=M.bucketOnlyServerUrl(),be={"X-Goog-Upload-Protocol":"multipart"},H=function $e(){for(var Kn="",Lr=0;Lr<2;Lr++)Kn+=Math.random().toString().slice(2);return Kn}();be["Content-Type"]="multipart/related; boundary="+H;var Je=yn(M,U,K),me=gt(Je,F),hr=Ln.getBlob("--"+H+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+me+"\r\n--"+H+"\r\nContent-Type: "+Je.contentType+"\r\n\r\n",U,"\r\n--"+H+"--");if(null===hr)throw wt();var Cn={name:Je.fullPath},Wn=ho(ie,R.host),Gr=R.maxUploadRetryTime,tr=new fo(Wn,"POST",ys(R,F),Gr);return tr.urlParams=Cn,tr.headers=be,tr.body=hr.uploadData(),tr.errorHandler=at(M),tr}(M._ref.storage,M._ref._location,M._mappings,M._blob,M._metadata),ie=M._ref.storage._makeRequest(K,F,U);M._request=ie,ie.getPromise().then(function(be){M._request=void 0,M._metadata=be,M._updateProgress(M._blob.size()),M._transition("success")},M._errorHandler)})},R.prototype._updateProgress=function(M){var F=this._transferred;this._transferred=M,this._transferred!==F&&this._notifyObservers()},R.prototype._transition=function(M){if(this._state!==M)switch(M){case"canceling":case"pausing":this._state=M,void 0!==this._request&&this._request.cancel();break;case"running":var F="paused"===this._state;this._state=M,F&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=M,this._notifyObservers();break;case"canceled":this._error=bt(),this._state=M,this._notifyObservers()}},R.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(R.prototype,"snapshot",{get:function(){var M=Sn(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:M,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),R.prototype.on=function(M,F,U,K){var ie=this,be=new ru(F,U,K);return this._addObserver(be),function(){ie._removeObserver(be)}},R.prototype.then=function(M,F){return this._promise.then(M,F)},R.prototype.catch=function(M){return this.then(null,M)},R.prototype._addObserver=function(M){this._observers.push(M),this._notifyObserver(M)},R.prototype._removeObserver=function(M){var F=this._observers.indexOf(M);-1!==F&&this._observers.splice(F,1)},R.prototype._notifyObservers=function(){var M=this;this._finishPromise(),this._observers.slice().forEach(function(U){M._notifyObserver(U)})},R.prototype._finishPromise=function(){if(void 0!==this._resolve){var M=!0;switch(Sn(this._state)){case Ue.SUCCESS:Zi(this._resolve.bind(null,this.snapshot))();break;case Ue.CANCELED:case Ue.ERROR:Zi(this._reject.bind(null,this._error))();break;default:M=!1}M&&(this._resolve=void 0,this._reject=void 0)}},R.prototype._notifyObserver=function(M){switch(Sn(this._state)){case Ue.RUNNING:case Ue.PAUSED:M.next&&Zi(M.next.bind(M,this.snapshot))();break;case Ue.SUCCESS:M.complete&&Zi(M.complete.bind(M))();break;default:M.error&&Zi(M.error.bind(M,this._error))()}},R.prototype.resume=function(){var M="paused"===this._state||"pausing"===this._state;return M&&this._transition("running"),M},R.prototype.pause=function(){var M="running"===this._state;return M&&this._transition("pausing"),M},R.prototype.cancel=function(){var M="running"===this._state||"pausing"===this._state;return M&&this._transition("canceling"),M},R}(),bs=function(){function R(M,F){this._service=M,this._location=F instanceof xn?F:xn.makeFromUrl(F,M.host)}return R.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},R.prototype._newRef=function(M,F){return new R(M,F)},Object.defineProperty(R.prototype,"root",{get:function(){var M=new xn(this._location.bucket,"");return this._newRef(this._service,M)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"name",{get:function(){return J(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"parent",{get:function(){var M=function W(R){if(0===R.length)return null;var M=R.lastIndexOf("/");return-1===M?"":R.slice(0,M)}(this._location.path);if(null===M)return null;var F=new xn(this._location.bucket,M);return new R(this._service,F)},enumerable:!1,configurable:!0}),R.prototype._throwIfRoot=function(M){if(""===this._location.path)throw pt(M)},R}();function iu(R){var M={prefixes:[],items:[]};return Xu(R,M).then(function(){return M})}function Xu(R,M,F){return(0,I.mG)(this,void 0,void 0,function(){var K,ie,be;return(0,I.Jh)(this,function($e){switch($e.label){case 0:return[4,wa(R,{pageToken:F})];case 1:return K=$e.sent(),(ie=M.prefixes).push.apply(ie,K.prefixes),(be=M.items).push.apply(be,K.items),null==K.nextPageToken?[3,3]:[4,Xu(R,M,K.nextPageToken)];case 2:$e.sent(),$e.label=3;case 3:return[2]}})})}function wa(R,M){return(0,I.mG)(this,void 0,void 0,function(){var F,U;return(0,I.Jh)(this,function(K){switch(K.label){case 0:return null!=M&&"number"==typeof M.maxResults&&Ws("options.maxResults",1,1e3,M.maxResults),U=ll(R.storage,R._location,"/",(F=M||{}).pageToken,F.maxResults),[4,R.storage.makeRequestWithTokens(U)];case 1:return[2,K.sent().getPromise()]}})})}function Mi(R){return(0,I.mG)(this,void 0,void 0,function(){var M;return(0,I.Jh)(this,function(F){switch(F.label){case 0:return R._throwIfRoot("getDownloadURL"),M=function Ks(R,M,F){var K=ho(M.fullServerUrl(),R.host),be=R.maxOperationRetryTime,$e=new fo(K,"GET",function In(R,M){return function F(U,K){var ie=Fr(R,K,M);return Mt(null!==ie),function nn(R,M,F){var U=$o(M);if(null===U||!qn(U.downloadTokens))return null;var K=U.downloadTokens;if(0===K.length)return null;var ie=encodeURIComponent;return K.split(",").map(function(H){var me=R.fullPath;return ho("/b/"+ie(R.bucket)+"/o/"+ie(me),F)+Ad({alt:"media",token:H})})[0]}(ie,K,R.host)}}(R,F),be);return $e.errorHandler=_s(M),$e}(R.storage,R._location,tn()),[4,R.storage.makeRequestWithTokens(M)];case 1:return[2,F.sent().getPromise().then(function(U){if(null===U)throw function Xe(){return new ce("no-download-url","The given file does not have any download URLs.")}();return U})]}})})}function Qu(R,M){var F=function G(R,M){var F=M.split("/").filter(function(U){return U.length>0}).join("/");return 0===R.length?F:R+"/"+F}(R._location.path,M),U=new xn(R._location.bucket,F);return new bs(R.storage,U)}function qo(R){return/^[A-Za-z]+:\/\//.test(R)}function xe(R,M){if(R instanceof su){var F=R;if(null==F._bucket)throw function xr(){return new ce("no-default-bucket","No default bucket found. Did you set the '"+lo+"' property when initializing the app?")}();var U=new bs(F,F._bucket);return null!=M?xe(U,M):U}return void 0!==M?Qu(R,M):R}function ff(R,M){if(M&&qo(M)){if(R instanceof su)return function hf(R,M){return new bs(R,M)}(R,M);throw Jt("To use ref(service, url), the first argument must be a Storage instance.")}return xe(R,M)}function an(R,M){var F=M?.[lo];return null==F?null:xn.makeFromBucketSpec(F,R)}var su=function(){function R(M,F,U,K,ie,be){this.app=M,this._authProvider=F,this._appCheckProvider=U,this._pool=K,this._url=ie,this._firebaseVersion=be,this._bucket=null,this._host=Nt,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=ie?xn.makeFromBucketSpec(ie,this._host):an(this._host,this.app.options)}return Object.defineProperty(R.prototype,"host",{get:function(){return this._host},set:function(M){this._host=M,this._bucket=null!=this._url?xn.makeFromBucketSpec(this._url,M):an(M,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(M){Ws("time",0,Number.POSITIVE_INFINITY,M),this._maxUploadRetryTime=M},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(M){Ws("time",0,Number.POSITIVE_INFINITY,M),this._maxOperationRetryTime=M},enumerable:!1,configurable:!0}),R.prototype._getAuthToken=function(){return(0,I.mG)(this,void 0,void 0,function(){var M,F;return(0,I.Jh)(this,function(U){switch(U.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(M=this._authProvider.getImmediate({optional:!0}))?[4,M.getToken()]:[3,2];case 1:if(null!==(F=U.sent()))return[2,F.accessToken];U.label=2;case 2:return[2,null]}})})},R.prototype._getAppCheckToken=function(){return(0,I.mG)(this,void 0,void 0,function(){var M;return(0,I.Jh)(this,function(U){switch(U.label){case 0:return(M=this._appCheckProvider.getImmediate({optional:!0}))?[4,M.getToken()]:[3,2];case 1:return[2,U.sent().token];case 2:return[2,null]}})})},R.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(M){return M.cancel()}),this._requests.clear()),Promise.resolve()},R.prototype._makeStorageReference=function(M){return new bs(this,M)},R.prototype._makeRequest=function(M,F,U){var K=this;if(this._deleted)return new Ro(Ki());var ie=function Yi(R,M,F,U,K,ie){var be=Ad(R.urlParams),$e=R.url+be,H=Object.assign({},R.headers);return function Md(R,M){M&&(R["X-Firebase-GMPID"]=M)}(H,M),function cf(R,M){null!==M&&M.length>0&&(R.Authorization="Firebase "+M)}(H,F),function Ti(R,M){R["X-Firebase-Storage-Version"]="webjs/"+(M??"AppManager")}(H,ie),function St(R,M){null!==M&&(R["X-Firebase-AppCheck"]=M)}(H,U),new Pr($e,R.method,H,R.body,R.successCodes,R.additionalRetryCodes,R.handler,R.errorHandler,R.timeout,R.progressCallback,K)}(M,this._appId,F,U,this._pool,this._firebaseVersion);return this._requests.add(ie),ie.getPromise().then(function(){return K._requests.delete(ie)},function(){return K._requests.delete(ie)}),ie},R.prototype.makeRequestWithTokens=function(M){return(0,I.mG)(this,void 0,void 0,function(){var F;return(0,I.Jh)(this,function(ie){switch(ie.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return F=ie.sent(),[2,this._makeRequest(M,F[0],F[1])]}})})},R}();function it(R,M){return ff(R=(0,Ke.m9)(R),M)}var ot=function(){function R(M,F,U){this._delegate=M,this.task=F,this.ref=U}return Object.defineProperty(R.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),R}(),ws=function(){function R(M,F){this._delegate=M,this._ref=F,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(R.prototype,"snapshot",{get:function(){return new ot(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),R.prototype.then=function(M,F){var U=this;return this._delegate.then(function(K){if(M)return M(new ot(K,U,U._ref))},F)},R.prototype.on=function(M,F,U,K){var ie=this,be=void 0;return F&&(be="function"==typeof F?function($e){return F(new ot($e,ie,ie._ref))}:{next:F.next?function($e){return F.next(new ot($e,ie,ie._ref))}:void 0,complete:F.complete||void 0,error:F.error||void 0}),this._delegate.on(M,be,U||void 0,K||void 0)},R}(),Es=function(){function R(M,F){this._delegate=M,this._service=F}return Object.defineProperty(R.prototype,"prefixes",{get:function(){var M=this;return this._delegate.prefixes.map(function(F){return new Vt(F,M._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"items",{get:function(){var M=this;return this._delegate.items.map(function(F){return new Vt(F,M._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),R}(),Vt=function(){function R(M,F){this._delegate=M,this.storage=F}return Object.defineProperty(R.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),R.prototype.toString=function(){return this._delegate.toString()},R.prototype.child=function(M){var F=function tc(R,M){return Qu(R,M)}(this._delegate,M);return new R(F,this.storage)},Object.defineProperty(R.prototype,"root",{get:function(){return new R(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"parent",{get:function(){var M=this._delegate.parent;return null==M?null:new R(M,this.storage)},enumerable:!1,configurable:!0}),R.prototype.put=function(M,F){return this._throwIfRoot("put"),new ws(function Ea(R,M,F){return function df(R,M,F){return R._throwIfRoot("uploadBytesResumable"),new lf(R,new Ln(M),F)}(R=(0,Ke.m9)(R),M,F)}(this._delegate,M,F),this)},R.prototype.putString=function(M,F,U){void 0===F&&(F=Jn.RAW),this._throwIfRoot("putString");var K=te(F,M),ie=(0,I.pi)({},U);return null==ie.contentType&&null!=K.contentType&&(ie.contentType=K.contentType),new ws(new lf(this._delegate,new Ln(K.data,!0),ie),this)},R.prototype.listAll=function(){var M=this;return function au(R){return iu(R=(0,Ke.m9)(R))}(this._delegate).then(function(F){return new Es(F,M.storage)})},R.prototype.list=function(M){var F=this;return function ec(R,M){return wa(R=(0,Ke.m9)(R),M)}(this._delegate,M||void 0).then(function(U){return new Es(U,F.storage)})},R.prototype.getMetadata=function(){return function Ju(R){return function dl(R){return(0,I.mG)(this,void 0,void 0,function(){var M;return(0,I.Jh)(this,function(F){switch(F.label){case 0:return R._throwIfRoot("getMetadata"),M=eu(R.storage,R._location,tn()),[4,R.storage.makeRequestWithTokens(M)];case 1:return[2,F.sent().getPromise()]}})})}(R=(0,Ke.m9)(R))}(this._delegate)},R.prototype.updateMetadata=function(M){return function Ys(R,M){return function Ai(R,M){return(0,I.mG)(this,void 0,void 0,function(){var F;return(0,I.Jh)(this,function(U){switch(U.label){case 0:return R._throwIfRoot("updateMetadata"),F=function le(R,M,F,U){var ie=ho(M.fullServerUrl(),R.host),$e=gt(F,U),Je=R.maxOperationRetryTime,me=new fo(ie,"PATCH",ys(R,U),Je);return me.headers={"Content-Type":"application/json; charset=utf-8"},me.body=$e,me.errorHandler=_s(M),me}(R.storage,R._location,M,tn()),[4,R.storage.makeRequestWithTokens(F)];case 1:return[2,U.sent().getPromise()]}})})}(R=(0,Ke.m9)(R),M)}(this._delegate,M)},R.prototype.getDownloadURL=function(){return function Ca(R){return Mi(R=(0,Ke.m9)(R))}(this._delegate)},R.prototype.delete=function(){return this._throwIfRoot("delete"),function hl(R){return function Zt(R){return(0,I.mG)(this,void 0,void 0,function(){var M;return(0,I.Jh)(this,function(F){switch(F.label){case 0:return R._throwIfRoot("deleteObject"),M=function Yu(R,M){var U=ho(M.fullServerUrl(),R.host),$e=new fo(U,"DELETE",function be(H,Je){},R.maxOperationRetryTime);return $e.successCodes=[200,204],$e.errorHandler=_s(M),$e}(R.storage,R._location),[4,R.storage.makeRequestWithTokens(M)];case 1:return[2,F.sent().getPromise()]}})})}(R=(0,Ke.m9)(R))}(this._delegate)},R.prototype._throwIfRoot=function(M){if(""===this._delegate._location.path)throw pt(M)},R}(),pl=function(){function R(M,F){this.app=M,this._delegate=F}return Object.defineProperty(R.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),R.prototype.ref=function(M){if(qo(M))throw Jt("ref() expected a child path but got a URL, use refFromURL instead.");return new Vt(it(this._delegate,M),this)},R.prototype.refFromURL=function(M){if(!qo(M))throw Jt("refFromURL() expected a full URL but got a child path, use ref() instead.");try{xn.makeFromUrl(M,this._delegate.host)}catch{throw Jt("refFromUrl() expected a valid full URL but got an invalid one.")}return new Vt(it(this._delegate,M),this)},R.prototype.setMaxUploadRetryTime=function(M){this._delegate.maxUploadRetryTime=M},R.prototype.setMaxOperationRetryTime=function(M){this._delegate.maxOperationRetryTime=M},R.prototype.useEmulator=function(M,F,U){void 0===U&&(U={}),function fl(R,M,F,U){void 0===U&&(U={}),function ou(R,M,F,U){void 0===U&&(U={}),R.host="http://"+M+":"+F;var K=U.mockUserToken;K&&(R._overrideAuthToken="string"==typeof K?K:(0,Ke.Sg)(K,R.app.options.projectId))}(R,M,F,U)}(this._delegate,M,F,U)},R}();function Vn(R,M){var F=M.instanceIdentifier,U=R.getProvider("app").getImmediate(),K=R.getProvider("auth-internal"),ie=R.getProvider("app-check-internal");return new pl(U,new su(U,K,ie,new Lt,F,_e.Z.SDK_VERSION))}!function Da(R){var M={TaskState:Ue,TaskEvent:Oe,StringFormat:Jn,Storage:su,Reference:Vt};R.INTERNAL.registerComponent(new qe.wA("storage",Vn,"PUBLIC").setServiceProps(M).setMultipleInstances(!0)),R.registerVersion("@firebase/storage","0.7.1")}(_e.Z)},655:(Ja,hi,qt)=>{qt.d(hi,{CR:()=>Ft,FC:()=>wt,Jh:()=>Me,KL:()=>Xe,XA:()=>Rt,ZT:()=>I,ev:()=>Yt,mG:()=>He,pi:()=>Ke,qq:()=>xr});var _e=function(de,te){return(_e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ge,pe){ge.__proto__=pe}||function(ge,pe){for(var ke in pe)Object.prototype.hasOwnProperty.call(pe,ke)&&(ge[ke]=pe[ke])})(de,te)};function I(de,te){if("function"!=typeof te&&null!==te)throw new TypeError("Class extends value "+String(te)+" is not a constructor or null");function ge(){this.constructor=de}_e(de,te),de.prototype=null===te?Object.create(te):(ge.prototype=te.prototype,new ge)}var Ke=function(){return Ke=Object.assign||function(te){for(var ge,pe=1,ke=arguments.length;pe<ke;pe++)for(var Se in ge=arguments[pe])Object.prototype.hasOwnProperty.call(ge,Se)&&(te[Se]=ge[Se]);return te},Ke.apply(this,arguments)};function He(de,te,ge,pe){return new(ge||(ge=Promise))(function(Se,ye){function Ne(Ue){try{Oe(pe.next(Ue))}catch(Sn){ye(Sn)}}function ht(Ue){try{Oe(pe.throw(Ue))}catch(Sn){ye(Sn)}}function Oe(Ue){Ue.done?Se(Ue.value):function ke(Se){return Se instanceof ge?Se:new ge(function(ye){ye(Se)})}(Ue.value).then(Ne,ht)}Oe((pe=pe.apply(de,te||[])).next())})}function Me(de,te){var pe,ke,Se,ye,ge={label:0,sent:function(){if(1&Se[0])throw Se[1];return Se[1]},trys:[],ops:[]};return ye={next:Ne(0),throw:Ne(1),return:Ne(2)},"function"==typeof Symbol&&(ye[Symbol.iterator]=function(){return this}),ye;function Ne(Oe){return function(Ue){return function ht(Oe){if(pe)throw new TypeError("Generator is already executing.");for(;ye&&(ye=0,Oe[0]&&(ge=0)),ge;)try{if(pe=1,ke&&(Se=2&Oe[0]?ke.return:Oe[0]?ke.throw||((Se=ke.return)&&Se.call(ke),0):ke.next)&&!(Se=Se.call(ke,Oe[1])).done)return Se;switch(ke=0,Se&&(Oe=[2&Oe[0],Se.value]),Oe[0]){case 0:case 1:Se=Oe;break;case 4:return ge.label++,{value:Oe[1],done:!1};case 5:ge.label++,ke=Oe[1],Oe=[0];continue;case 7:Oe=ge.ops.pop(),ge.trys.pop();continue;default:if(!(Se=(Se=ge.trys).length>0&&Se[Se.length-1])&&(6===Oe[0]||2===Oe[0])){ge=0;continue}if(3===Oe[0]&&(!Se||Oe[1]>Se[0]&&Oe[1]<Se[3])){ge.label=Oe[1];break}if(6===Oe[0]&&ge.label<Se[1]){ge.label=Se[1],Se=Oe;break}if(Se&&ge.label<Se[2]){ge.label=Se[2],ge.ops.push(Oe);break}Se[2]&&ge.ops.pop(),ge.trys.pop();continue}Oe=te.call(de,ge)}catch(Ue){Oe=[6,Ue],ke=0}finally{pe=Se=0}if(5&Oe[0])throw Oe[1];return{value:Oe[0]?Oe[1]:void 0,done:!0}}([Oe,Ue])}}}function Rt(de){var te="function"==typeof Symbol&&Symbol.iterator,ge=te&&de[te],pe=0;if(ge)return ge.call(de);if(de&&"number"==typeof de.length)return{next:function(){return de&&pe>=de.length&&(de=void 0),{value:de&&de[pe++],done:!de}}};throw new TypeError(te?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ft(de,te){var ge="function"==typeof Symbol&&de[Symbol.iterator];if(!ge)return de;var ke,ye,pe=ge.call(de),Se=[];try{for(;(void 0===te||te-- >0)&&!(ke=pe.next()).done;)Se.push(ke.value)}catch(Ne){ye={error:Ne}}finally{try{ke&&!ke.done&&(ge=pe.return)&&ge.call(pe)}finally{if(ye)throw ye.error}}return Se}function Yt(de,te,ge){if(ge||2===arguments.length)for(var Se,pe=0,ke=te.length;pe<ke;pe++)(Se||!(pe in te))&&(Se||(Se=Array.prototype.slice.call(te,0,pe)),Se[pe]=te[pe]);return de.concat(Se||Array.prototype.slice.call(te))}function xr(de){return this instanceof xr?(this.v=de,this):new xr(de)}function wt(de,te,ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ke,pe=ge.apply(de,te||[]),Se=[];return ke={},ye("next"),ye("throw"),ye("return"),ke[Symbol.asyncIterator]=function(){return this},ke;function ye(je){pe[je]&&(ke[je]=function(Mn){return new Promise(function(Nr,Lt){Se.push([je,Mn,Nr,Lt])>1||Ne(je,Mn)})})}function Ne(je,Mn){try{!function ht(je){je.value instanceof xr?Promise.resolve(je.value.v).then(Oe,Ue):Sn(Se[0][2],je)}(pe[je](Mn))}catch(Nr){Sn(Se[0][3],Nr)}}function Oe(je){Ne("next",je)}function Ue(je){Ne("throw",je)}function Sn(je,Mn){je(Mn),Se.shift(),Se.length&&Ne(Se[0][0],Se[0][1])}}function Xe(de){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ge,te=de[Symbol.asyncIterator];return te?te.call(de):(de=Rt(de),ge={},pe("next"),pe("throw"),pe("return"),ge[Symbol.asyncIterator]=function(){return this},ge);function pe(Se){ge[Se]=de[Se]&&function(ye){return new Promise(function(Ne,ht){!function ke(Se,ye,Ne,ht){Promise.resolve(ht).then(function(Oe){Se({value:Oe,done:Ne})},ye)}(Ne,ht,(ye=de[Se](ye)).done,ye.value)})}}}}},Ja=>{Ja(Ja.s=482)}]);